{"version":3,"sources":["webpack:///./src/App.vue?9428","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/pages/HelloWorld.vue?9d27","webpack:///./src/pages/HelloWorld.vue","webpack:///src/components/json-editor/index.vue","webpack:///src/pages/HelloWorld.vue","webpack:///./src/components/util/constants.js","webpack:///./src/components/util/fetch.js","webpack:///./src/components/json-editor-class/index.js","webpack:///./src/components/monaco-editor-loader/index.js","webpack:///./src/components/json-editor/index.vue?6d54","webpack:///./src/components/json-editor/index.vue","webpack:///src/pages/pipeline/editor.vue","webpack:///./src/pages/pipeline/editor.vue?7de1","webpack:///./src/pages/pipeline/editor.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","pages_HelloWorld","_vm","staticClass","_v","_s","msg","_m","href","target","JSONEditorClass","src_pages_HelloWorld","HelloWorld_normalizeComponent","APIS","location","protocol","util_fetch","api","options","arguments","length","undefined","url","credentials","headers","method","test","params","body","stringify_default","lib_stringify_default","arrayFormat","skipNulls","loadingInstance","element_ui_common","service","fullscreen","text","background","fetch","then","response","vue_esm","nextTick","close","status","json","ret","promise_default","a","resolve","data","reject","extends_default","error","json_editor_class","Class","initializing","fnTest","window","postMessage","extend","prop","_super","prototype","name","fn","tmp","apply","init","constructor","CustomEvent","event","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","Event","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","Math","max","setTimeout","clearTimeout","Array","isArray","arg","Object","toString","call","$extend","destination","source","i","property","obj","hasOwnProperty","typeof_default","nodeType","$each","keys_default","keys","$trigger","el","e","initEvent","dispatchEvent","JSONEditor","Element","Error","defaults","self","ready","theme_class","themes","theme","schema","template","refs","uuid","__data","icon_class","iconlibs","iconlib","root_container","getContainer","appendChild","translate","_loadExternalRefs","_getDefinitions","validator_options","custom_validators","validator","Validator","editor_class","getEditorClass","root","createEditor","jsoneditor","required","container","preBuild","build","postBuild","startval","setValue","validation_results","validate","getValue","showValidationErrors","trigger","value","destroy","destroyed","innerHTML","on","callbacks","push","off","newcallbacks","setOption","option","show_errors","onChange","classname","expandSchema","resolvers","resolver","editors","firing_change","compileTemplate","engine","templates","compile","_data","key","hasAttribute","getAttribute","setAttribute","registerEditor","editor","path","unregisterEditor","getEditor","watch","watchlist","unwatch","newlist","notifyWatchers","isEnabled","enable","disable","definitions","_getExternalRefs","merge_refs","newrefs","$ref","substr","j","done","waiting","callback_fired","ajax","r","XMLHttpRequest","open","onreadystatechange","readyState","console","log","JSON","parse","responseText","send","expandRefs","ref","decodeURIComponent","extendSchemas","extended","type","disallow","anyOf","dependencies","not","allOf","oneOf","obj1","obj2","val","filter","n","indexOf","concat","reduce","p","c","languages","_validateSchema","valid","errors","stringified","message","required_by_default","oneof_errors","_checkType","multipleOf","divisibleBy","divisor","floor","math","mod","bignumber","equals","Decimal","exclusiveMaximum","maximum","exclusiveMinimum","minimum","maxLength","minLength","pattern","RegExp","items","additionalItems","maxItems","minItems","uniqueItems","seen","maxProperties","minProperties","validated_properties","properties","patternProperties","regex","additionalProperties","no_additional_properties","AbstractEditor","onChildEditorChange","notify","change","parent","bubble","watch_listener","register","unregister","getNumColumns","template_engine","original_schema","formname","replace","form_name_root","split","pop","link_watchers","setContainer","setupWatchListeners","addLinks","getDefault","updateHeaderText","onWatchedFieldChange","path_parts","first","adjusted_path","watched","vars","watched_values","refreshWatchedFieldValues","closest","unshift","shift","join","headerTemplate","header_template","no_link_holder","link_holder","getLinksHolder","links","addLink","getLink","getButton","icon","title","btnClass","getIcon","btn","className","setButtonText","button","link","holder","mediaType","download","getBlockLinkHolder","createElement","image","createImageLink","rel","getBlockLink","media","createMediaLink","textContent","class","changed","getWatchedFieldValues","header","children","childNodes","nodeValue","getHeaderText","title_only","header_text","getTitle","i0","i1","refreshValue","getChildEditors","parentNode","removeChild","disabled","isRequired","getDisplayText","arr","disp","used","description","format","descripton","inc","getOption","string","input","removeAttribute","initial","from_template","serialized","sanitized","sanitize","sceditor_instance","epiceditor","importFile","ace_editor","is_dirty","adjust_height","num","min","ceil","input_type","compact","label","getFormInputLabel","getFormInputDescription","default_format","getTextareaInput","step","getRangeInput","source_code","getFormInputField","input_width","style","width","readOnly","readonly","always_disabled","addEventListener","preventDefault","stopPropagation","input_height","height","expand_height","ch","offsetHeight","scrollHeight","control","getFormControl","afterInputReady","myDiv","farmImage","innerHtml","insertBefore","wysiwyg","jQuery","sceditor","plugins","emoticonsEnabled","sceditor_options","blur","remove","html","EpicEditor","epiceditor_container","display","clientSideStorage","load","exportFile","ace","mode","ace_container","position","edit","setTheme","require","getSession","setMode","Mode","src","unload","previous_error_setting","messages","addInputError","removeInputError","number","integer","object","maxwidth","editjson_button","addproperty_button","hideEditJSON","layoutEditors","row_container","property_order","sort","b","ordera","propertyOrder","orderb","rows","property_removed","found","hidden","grid_columns","minh","maxh","biggest","new_width","layout","row","getGridRow","setGridColumnSize","getPropertySchema","matched","cached_editors","object_layout","minwidth","table_row","table","defaultProperties","display_required_only","k","s","addObjectProperty","editor_holder","getTableCell","getHeader","editjson_holder","getModal","editjson_textarea","editjson_save","saveJSON","editjson_cancel","addproperty_holder","addproperty_list","maxHeight","padding","overflowY","overflowX","paddingLeft","addproperty_add","addproperty_input","marginBottom","alert","spacer","clear","getDescription","error_holder","getIndentedPanel","getGridContainer","getGridColumn","title_controls","getHeaderButtonHolder","editjson_controls","addproperty_controls","collapsed","toggle_button","disable_collapse","toggleEditJSON","disable_edit_json","toggleAddProperty","refreshAddProperties","showEditJSON","hideAddProperty","left","offsetLeft","top","offsetTop","editing_json","insertPropertyControlUsingPropertyOrder","child","addPropertyCheckbox","checkbox","labelText","getCheckbox","getCheckboxLabel","paddingBottom","paddingTop","marginTop","checked","removeObjectProperty","addproperty_checkboxes","showAddProperty","adding_property","prebuild_only","canHaveAdditionalProperties","getChildEditorHolder","result","remove_empty_properties","disable_properties","can_add","num_props","show_modal","my_errors","other_errors","getErrorMessage","addTableRowError","removeTableRowError","array","info","getItemInfo","tabs_holder","add_row_button","remove_all_rows_button","delete_last_row_button","moveup_button","movedown_button","delete_button","row_cache","hide_delete_buttons","disable_array_delete","hide_delete_all_rows_buttons","disable_array_delete_all_rows","hide_delete_last_row_buttons","disable_array_delete_last_row","hide_move_buttons","disable_array_reorder","hide_add_button","disable_array_add","panel","controls","getButtonHolder","row_holder","getTabHolder","getTabContentHolder","active_tab","addControls","refreshTabs","getItemTitle","item_title","getItemSchema","item_info","default","child_editors","getElementEditor","getTabContent","array_controls","empty","hard","tab","destroyRow","getMax","Infinity","refresh_headers","tab_text","markTabActive","markTabInactive","slice","addRow","new_active_tab","force","oldi","controls_needed","getTab","addTab","controls_holder","newval","row_holder_display","controls_display","tabs","textAlign","item_schema","item_default","item_has_child_editors","getTable","thead","getTableHead","header_row","getTableRow","getTableBody","ce","order","th","getTableHeaderCell","controls_header_cell","getItemDefault","ignore","schema_copy","controls_cell","table_controls","margin","numrows_changed","refreshRowButtons","need_row_buttons","multiple","switcher","switchEditor","buildChildEditor","current_value","keep_values","refreshHeaderText","types","switcher_options","validators","keep_oneof_values","allowed_types","display_text","getSwitcher","getSwitcherOptions","check_part","check","new_errors","new_error","enum_titles","selected","select_options","html_values","getHTML","display_area","hide_display","select","typecast","enum_values","enum_options","select2","longest_text","enum_display","enumSource","enumValue","getSelectInput","setSelectOptions","onInputChange","new_val","setupSelect2","select2_options","select_titles","new_items","item","item_titles","item_values","prev_value","selectize","addItem","enum","setupSelectize","selectize_options","create","updateSelectizeOptions","selectized","clearOptions","addOption","unlock","lock","multiselect","select_values","items_schema","t","option_keys","option_titles","inputs","getMultiCheckboxHolder","size","new_value","updateValue","base64","FileReader","uploader","files","fr","onload","refreshPreview","readAsDataURL","preview","last_preview","mime","match","img","maxWidth","upload","preview_value","file","uploadButton","getProgressBar","progressBar","success","failure","updateProgress","progress","updateProgressBar","updateProgressBarUnknown","arraySelectize","group","delimiter","createOnBlur","forEach","elem","matchKey","documentElement","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","AbstractTheme","getFloatRightLinkHolder","cssFloat","marginLeft","backgroundColor","border","boxShadow","zIndex","createTextNode","disableHeader","color","disableLabel","enableHeader","enableLabel","fontWeight","marginRight","fontStyle","getElementsByTagName","setSwitcherOptions","titles","boxSizing","firstChild","borderLeft","getCheckboxDescription","applyStyles","styles","selector","span","borderWidth","lineHeight","borderRadius","borderBottomRightRadius","borderTopRightRadius","cursor","tab_holder","opacity","bootstrap2","controlgroup","errmsg","bar","bootstrap3","fontSize","start","percentage","foundation","minWidth","paddingRight","verticalAlign","insertAdjacentHTML","getElementsByClassName","meter","foundation3","foundation4","foundation5","foundation6","errorEl","borderBottom","borderColor","jqueryui","barebones","AbstractIconLib","mapping","collapse","expand","delete","add","cancel","save","moveup","movedown","icon_prefix","getIconClass","iconclass","fontawesome3","fontawesome4","foundation2","l","replacements","get_replacement","func","cur","trim","ejs","EJS","compiled","context","handlebars","Handlebars","hogan","Hogan","markup","Mark","up","mustache","Mustache","view","swig","underscore","_","variables","lang","language","default_language","en","error_notset","error_notempty","error_enum","error_anyOf","error_oneOf","error_not","error_type_union","error_type","error_disallow_union","error_disallow","error_multipleOf","error_maximum_excl","error_maximum_incl","error_minimum_excl","error_minimum_incl","error_maxLength","error_minLength","error_pattern","error_additionalItems","error_maxItems","error_minItems","error_uniqueItems","error_maxProperties","error_minProperties","error_required","error_additional_properties","error_dependency","button_delete_all","button_delete_all_title","button_delete_last","button_delete_last_title","button_add_row_title","button_move_down_title","button_move_up_title","button_delete_row_title","button_delete_row_title_short","button_collapse","button_expand","custom_set_image","custom_set_url","binaryEncoding","Zepto","$","get","isLoadingAMD","monaco_editor_loader_loadMonaco","_options$timeout","timeout","_options$interval","interval","_options$toPath","toPath","loadInterval","setInterval","monaco","clearInterval","loadTimeout","onGoAmdLoader","loaderScript","head","insertScript","json_editor","_this","dataSchema","primeData","monacoEditor","dataString","jsonEditor","jsonEditorChangeHandler","clientHeight","errorMessage","newData","JsonEditor","getPosition","primeDataSchema","_this2","_this3","_this4","wheelDeltaY","scrollTop","inputFormat","inputPath","reCreateJsonEditor","components_json_editor","directives","rawName","expression","wheel","$event","onWheel","$refs","click","onJsonEditorClick","_e","comfirmObject","resetObject","showBoth","showCode","showForm","pipeline_editor","json_editor_normalizeComponent","templateId","pageId","baseConfig","refreshPreviewIframe","getBaseConfig","_this5","_this6","_this7","templateComponents","getTemplateComponents","_this8","component","tabToPageConfig","iframeScrollToCurrentComponent","previewSrc","currentComponent","selectDefaultComponent","_this9","purpose","prepareFromTemplate","getBaseConfigSchema","baseConfigSchemaEarly","getComponentsSchema","_this10","putComponents","oldValue","putBaseConfig","pages_pipeline_editor","_l","getComponentSelectorButtonType","nativeOn","selectComponent","previewInNewPage","formName","tab-click","onTabClick","baseConfigSchema","update:data","update:dataSchema","visible","tipDialogVisible","update:visible","src_pages_pipeline_editor","editor_normalizeComponent","use","vue_router_esm","router","routes","element_ui_common_default","config","productionTip","components","App"],"mappings":"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","file":"static/js/app.2ce8fd04c2d3a23889e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58121ac2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58121ac2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58121ac2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n};\n</script>\n\n<style>\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100%;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('h2',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Core Docs\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://forum.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Forum\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://chat.vuejs.org\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Community Chat\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://twitter.com/vuejs\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Twitter\\n      \")])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuejs-templates.github.io/webpack/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        Docs for This Template\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"http://router.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-router\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vuex.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vuex\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"http://vue-loader.vuejs.org/\",\"target\":\"_blank\"}},[_vm._v(\"\\n        vue-loader\\n      \")])]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/vuejs/awesome-vue\",\"target\":\"_blank\"}},[_vm._v(\"\\n        awesome-vue\\n      \")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5800fbe4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5800fbe4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5800fbe4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5800fbe4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n<div>\n  <div class=\"editor\"\n    ref=\"editor\">\n    <div class=\"editor__monaco\"\n      @wheel.prevent\n      v-show=\"isShowCode\"\n      ref=\"monacoEditor\">\n    </div>\n    <div class=\"editor__json\"\n      @wheel=\"onWheel($event, $refs.jsonEditor)\"\n      @click=\"onJsonEditorClick($event)\"\n      v-show=\"isShowForm\"\n      ref=\"jsonEditor\">\n    </div>\n  </div>\n  <div class=\"error-line\"\n    v-if=\"errorMessage\">\n    <p>Eclipse: {{errorMessage}}</p>\n  </div>\n  <div class=\"editor__button-group\">\n    <div class=\"editor__button-group__left\">\n      <el-button\n        size=\"small\"\n        icon=\"el-icon-upload\"\n        @click=\"comfirmObject\">\n        提交配置数据\n      </el-button>\n      <el-button\n        class=\"element-hidden\"\n        type=\"warning\"\n        size=\"small\"\n        @click=\"resetObject\">\n        重置表单数据\n      </el-button>\n    </div>\n    <div class=\"editor__button-group__right element-hidden\">\n      <el-button size=\"small\"\n        @click=\"showBoth\">\n        代码和表单\n      </el-button>\n      <el-button size=\"small\"\n        @click=\"showCode\">\n        只看代码\n      </el-button>\n      <el-button size=\"small\"\n        @click=\"showForm\">\n        只看表单\n      </el-button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport JSON5 from 'json5';\nimport JSONEditor from 'comp/json-editor-class';\nimport { loadMonaco } from 'comp/monaco-editor-loader';\n\n((JSONEditorClass) => {\n  JSONEditorClass.defaults.language = 'zh';\n  JSONEditorClass.defaults.languages.zh = {\n    button_collapse: '折叠',\n    button_expand: '展开',\n    button_move_down_title: '下移',\n    button_move_up_title: '上移',\n    button_add_row_title: '添加{{0}}',\n    button_delete_row_title: '删除{{0}}',\n    button_delete_last_title: '删除末尾{{0}}',\n    button_delete_all_title: '删除全部',\n    custom_set_image: '设置图片',\n    custom_set_url: '设置链接',\n  };\n})(JSONEditor);\n\nexport default {\n  components: {\n  },\n  props: {\n    data: {\n      required: true,\n    },\n    dataSchema: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      MonacoEditor: null,\n      JsonEditor: null,\n      primeData: {},\n      primeDataSchema: {},\n      dataString: '',\n      errorMessage: '',\n      editorHeight: 0,\n      jsonEditorDefaultString: '',\n      isShowCode: false,\n      isShowForm: true,\n      currentEditorPath: '',\n      currentUploadImgUrl: '',\n      showUploadImgDialog: false,\n      currentUploadSrcURL: '',\n      showUploadSrcDialog: false,\n    };\n  },\n  async mounted() {\n    this.primeData = this.dataRestorSpread(this.data);\n    this.primeDataSchema = { ...this.dataSchema };\n    this.dataString = this.getDataString(this.primeData);\n\n    // Initialize the editor\n    const Monaco = await loadMonaco({\n      toPath: 'vs',\n    });\n    this.MonacoEditor = this.initMonacoEditor(Monaco, this.$refs.monacoEditor);\n    this.MonacoEditor.setValue(this.dataString);\n    this.MonacoEditor.onDidChangeModelContent(() => {\n      this.dataString = this.MonacoEditor.getValue();\n    });\n\n    this.JsonEditor = this.initJsonEditor(this.primeDataSchema, this.$refs.jsonEditor);\n    this.setJsonEditorValue(this.primeData);\n    this.jsonEditorDefaultString = JSON.stringify(this.JsonEditor.getValue());\n    this.JsonEditor && this.JsonEditor.on('change', this.jsonEditorChangeHandler);\n\n    //for resize detection\n    this.editorHeight = this.$refs.editor.clientHeight;\n  },\n  methods: {\n    initMonacoEditor(monaco, ele) {\n      const editor = monaco.editor.create(ele, {\n        language: 'java',\n        scrollBeyondLastLine: false,\n        minimap: {\n          enabled: false,\n        },\n      });\n      return editor;\n    },\n    initJsonEditor(schema, ele) {\n      if(!this.schemaValidate(schema)) {\n        this.$message.error(this.errorMessage);\n        return null;\n      };\n\n      ele.innerHTML = '';\n      const editor = new JSONEditor(ele, {\n        schema,\n        theme: 'bootstrap3',\n        disable_edit_json: true,\n        disable_properties: true,\n        no_additional_properties: true,\n      });\n      return editor;\n    },\n    jsonEditorChangeHandler() {\n      if (!this.JsonEditor || !this.JsonEditor.getValue) {\n        return;\n      }\n      const newData = this.JsonEditor.getValue();\n      if (!this.dataValidate(newData)) {\n        return;\n      };\n      // ${newData} pass validation\n      // ${primeData} validated change will always change this.JsonEditor value\n      // so if ${primeData} pass validation, ${newData} is a patch change from ${primeData}, can directly set to ${primeData}\n      if (this.dataValidate(this.primeData)) {\n        // fixbug: array `move down`/`move up`, primeData become newData immediately\n        this.primeData = JSON.parse(JSON.stringify(newData));\n      } else if( JSON.stringify(newData) !== this.JsonEditorDefaultString) {\n        this.$message.error('在表单中编辑数据前, 请在代码中的配置数据编辑到与数据约束匹配.');\n      }\n      this.jsonEditorDefaultString = newData;\n    },\n    getDataString(data) {\n      return JSON5.stringify(data, null, 2);\n    },\n    getJsonEditorValueByPath(path) {\n      const name = this.JsonEditor && this.JsonEditor.getEditor(path);\n      if (name) {\n        return name.getValue();\n      }\n      return null;\n    },\n    setJsonEditorValueByPath(path, value) {\n      const name = this.JsonEditor && this.JsonEditor.getEditor(path);\n      if (name) {\n        name.setValue(value);\n        return true;\n      }\n      return false;\n    },\n    setJsonEditorValue(value) {\n      if (this.dataValidate(value)\n        && this.JsonEditor\n        && this.JsonEditor.getValue\n        && JSON.stringify(value) !== JSON.stringify(this.JsonEditor.getValue())) {\n        this.JsonEditor.setValue(value);\n        return true;\n      }\n      return false;\n    },\n    setMonacoEditorValue(value) {\n      if (!this.MonacoEditor) return;\n\n      const position = this.MonacoEditor.getPosition && this.MonacoEditor.getPosition();\n\n      if (this.MonacoEditor.getValue && this.MonacoEditor.getValue() !== this.dataString) {\n        this.MonacoEditor.setValue && this.MonacoEditor.setValue(this.dataString);\n        // keep cursor position\n        this.MonacoEditor.setPosition && this.MonacoEditor.setPosition(position);\n        return true;\n      }\n      return false;\n    },\n    dataValidate(value) {\n      const editor = new JSONEditor(document.createElement('div'), {\n        schema: this.primeDataSchema,\n        required_by_default: true,\n        no_additional_properties: true,\n      });\n      const error = editor.validate(value);\n      if (error && error.length) {\n        this.errorMessage = error.map(item => `${item.path} ==> ${item.message}`).join('<br/>');\n        return false;\n      } else {\n        return true;\n      }\n    },\n    schemaValidate(schema) {\n      try {\n        new JSONEditor(document.createElement('div'), { schema });\n        this.errorMessage = '';\n        return true;\n      } catch(e) {\n        this.errorMessage = e.toString();\n        return false;\n      }\n    },\n    comfirmObject() {\n      try {\n        this.primeData = JSON5.parse(this.dataString);\n      } catch(e) {\n        this.$message.error(e.toString());\n        return;\n      }\n\n      if (!this.dataValidate(this.primeData)) {\n        this.$message.error(this.errorMessage);\n        return;\n      }\n\n      this.$emit('update:data', this.primeData);\n      this.$message.success('配置数据修改已确认.');\n    },\n    resetObject() {\n      this.primeData = this.dataRestorSpread(this.data);\n      this.dataString = this.getDataString(this.primeData);\n      this.setMonacoEditorValue(this.dataString);\n      this.setJsonEditorValue(this.primeData);\n      // TODO reset monaco editor size\n    },\n    reCreateJsonEditor() {\n      if(!this.JsonEditor) return;\n      this.JsonEditor.off('change', this.jsonEditorChangeHandler);\n      this.JsonEditor.destroy();\n      this.JsonEditor = null;\n      this.JsonEditor = this.initJsonEditor(this.primeDataSchema, this.$refs.jsonEditor);\n      this.setJsonEditorValue(this.primeData);\n      this.JsonEditor && this.JsonEditor.on('change', this.jsonEditorChangeHandler);\n    },\n    dataRestorSpread(source) {\n      if (source instanceof Array) return [ ...source ];\n      if (source instanceof Object) return { ...source };\n      return source;\n    },\n    showBoth() {\n      // force code div relayout, otherwise the CSS flex layout fail, I don't know why...\n      this.$refs.monacoEditor.style.width = '0px';\n      this.isShowCode = true;\n      this.isShowForm = true;\n      setTimeout(() => {\n        this.MonacoEditor.layout();\n      }, 200);\n    },\n    showCode() {\n      this.isShowForm = false;\n      this.isShowCode = true;\n      setTimeout(() => {\n        this.MonacoEditor.layout();\n      }, 200);\n    },\n    showForm() {\n      this.isShowCode = false;\n      this.isShowForm = true;\n      setTimeout(() => {\n        this.MonacoEditor.layout();\n      }, 200);\n    },\n    onWheel(event, target) {\n      event.stopPropagation();\n      if ((event.wheelDeltaY > 0 && target.scrollTop <= 0)\n        || (event.wheelDeltaY < 0 && (target.clientHeight + target.scrollTop >= target.scrollHeight))) {\n        event.preventDefault();\n      }\n    },\n    onJsonEditorClick(event) {\n      if (!event.srcElement.className.split(' ').includes('custom-button')) {\n        return;\n      }\n\n      const inputFormat = event.srcElement.getAttribute('data-format');\n      const inputPath = event.srcElement.getAttribute('data-path');\n\n      // 清空当前编辑字段路径\n      this.currentEditorPath = '';\n      switch (inputFormat) {\n        case 'custom-image':\n          console.log(inputFormat, inputPath);\n          this.currentEditorPath = inputPath;\n          this.showUploadImgDialog = true;\n          this.currentUploadImgUrl = this.getJsonEditorValueByPath(inputPath);\n          break;\n        case 'custom-url':\n          console.log(inputFormat, inputPath);\n          this.currentEditorPath = inputPath;\n          this.currentUploadSrcURL = this.getJsonEditorValueByPath(inputPath);\n          this.showUploadSrcDialog = true;\n          break;\n        default:\n          break;\n      };\n    },\n    getUploadImg(img) {\n      this.setJsonEditorValueByPath(this.currentEditorPath, img.url);\n    },\n    getUploadSrcURL(url) {\n      this.setJsonEditorValueByPath(this.currentEditorPath, url);\n    },\n  },\n  watch: {\n    dataSchema() {\n      this.primeDataSchema = { ...this.dataSchema };\n      this.reCreateJsonEditor();\n    },\n    data() {\n      this.primeData = this.dataRestorSpread(this.data);\n    },\n    dataString(value) {\n      this.errorMessage = '';\n      try {\n        this.primeData = JSON5.parse(value);\n      } catch(e) {\n        this.errorMessage = e.toString();\n      }\n    },\n    primeData(value, oldValue) {\n      if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n        this.dataValidate(value);\n        return value;\n      }\n      this.dataString = this.getDataString(value);\n      this.setJsonEditorValue(value);\n      this.setMonacoEditorValue(this.dataString);\n      this.editorHeight = this.$refs.jsonEditor.clientHeight;\n    },\n    editorHeight(value, old) {\n      if (old !== 0) {\n        this.MonacoEditor.layout();\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n/* 局部化, 避免全局污染 */\n.editor /deep/ .editor__json {\n  @import '~bootstrap/less/bootstrap.less';\n\n  /* 用 less 做局部化要做一点修复, 原因不明 */\n  .row {\n    margin: 0;\n  }\n}\n\n.editor {\n  &__button-group {\n    display: flex;\n    justify-content: space-between;\n    margin: 15px 0 10px;\n  }\n  &__button-group--right {\n    justify-content: flex-end;\n  }\n}\n\n.editor {\n  display: flex;\n  min-height: 400px;\n  box-sizing: border-box;\n\n  &__monaco {\n    flex-basis: 40%;\n    flex-grow: 1;\n    box-sizing: border-box;\n    border: 1px solid red;\n  }\n  &__json {\n    overflow: auto;\n    max-height: 700px;\n    flex-basis: 60%;\n    flex-grow: 1;\n    padding: 10px;\n    box-sizing: border-box;\n    border: 1px solid #0000FF50;\n  }\n}\n\n.element-hidden {\n  display: none;\n}\n\n.error-line {\n  font-size: 14px;\n  color: red;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/json-editor/index.vue","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>Essential Links</h2>\n    <ul>\n      <li>\n        <a\n          href=\"https://vuejs.org\"\n          target=\"_blank\"\n        >\n          Core Docs\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://forum.vuejs.org\"\n          target=\"_blank\"\n        >\n          Forum\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://chat.vuejs.org\"\n          target=\"_blank\"\n        >\n          Community Chat\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://twitter.com/vuejs\"\n          target=\"_blank\"\n        >\n          Twitter\n        </a>\n      </li>\n      <br>\n      <li>\n        <a\n          href=\"http://vuejs-templates.github.io/webpack/\"\n          target=\"_blank\"\n        >\n          Docs for This Template\n        </a>\n      </li>\n    </ul>\n    <h2>Ecosystem</h2>\n    <ul>\n      <li>\n        <a\n          href=\"http://router.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-router\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vuex.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vuex\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"http://vue-loader.vuejs.org/\"\n          target=\"_blank\"\n        >\n          vue-loader\n        </a>\n      </li>\n      <li>\n        <a\n          href=\"https://github.com/vuejs/awesome-vue\"\n          target=\"_blank\"\n        >\n          awesome-vue\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      msg: 'Welcome to Your Vue.js App',\n    };\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/HelloWorld.vue","// 后台接口集合\nconst APIS = {\n  ROOT: `${location.protocol}//172.106.33.34/pipeline-node`,\n  PIPLINE: `${location.protocol}//172.106.33.34/pipeline-node/pipeline`,\n  // ROOT: 'http://localhost:7001',\n  // PIPLINE: 'http://localhost:7001/pipeline',\n};\n\nexport {\n  APIS,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/util/constants.js","import Vue from 'vue';\nimport { Loading } from 'element-ui';\nimport stringify from 'qs/lib/stringify';\n\nexport default (api, options = {}) => {\n  let url = api;\n  // 跨域\n  options.credentials = 'include';\n  // 处理hearder\n  options.headers = options.headers || {};\n  if (!options.headers['Content-Type']) {\n    options.headers['Content-Type'] = 'application/json';\n  }\n\n  // 处理post\n  if (options.method && /^POST|PUT|DELETE$/i.test(options.method)) {\n    const params = options.body;\n    if (options.headers['Content-Type'] === 'application/json') {\n      options.body = JSON.stringify(params);\n    } else if (options.headers['Content-Type'] === 'multipart/form-data') {\n      delete options.headers['Content-Type'];\n    } else {\n      // 解决多层嵌套数据的问题\n      options.body = stringify(params, { arrayFormat: 'brackets', skipNulls: true });\n    }\n  }\n\n  // 处理get，默认get\n  if ((options.method && /^GET$/i.test(options.method)) || options.method === undefined) {\n    const params = options.params || options.body || {};\n    url += `?${stringify(params, { arrayFormat: 'brackets', skipNulls: true })}`;\n    // 解决某些浏览器下请求报错的问题 body not allowed for get or head requests\n    options.body = undefined;\n  }\n\n  let loadingInstance = Loading.service({\n    fullscreen: false,\n    text: '网络请求中, 请稍后',\n    background: 'rgba(0, 0, 0, 0.2)',\n  });\n  return fetch(url, options)\n    .then((response) => {\n      Vue.nextTick(() => {\n        loadingInstance.close();\n      });\n      if (response.status === 200) {\n        return response.json()\n          .then((json) => {\n            if (json.ret === '0') {\n              return Promise.resolve(json.data);\n            }\n            return Promise.reject({\n              status: response.status,\n              ...json,\n            });\n          });\n      }\n      return Promise.reject({\n        status: response.status,\n      });\n    }, (error) => {\n      Vue.nextTick(() => {\n        loadingInstance.close();\n      });\n      return Promise.reject({\n        status: response.status,\n      });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/util/fetch.js","/*! JSON Editor v0.7.28 - JSON Schema -> HTML Editor\n * By Jeremy Dorn - https://github.com/jdorn/json-editor/\n * Released under the MIT license\n *\n * Date: 2016-08-07\n */\n\n/**\n * See README.md for requirements and usage info\n */\n\nexport default (function() { // jshint ignore:line\n\n  /*jshint loopfunc: true */\n  /* Simple JavaScript Inheritance\n   * By John Resig http://ejohn.org/\n   * MIT Licensed.\n   */\n  // Inspired by base2 and Prototype\n  var Class;\n  (function(){\n    var initializing = false, fnTest = /xyz/.test(function(){window.postMessage(\"xyz\");}) ? /\\b_super\\b/ : /.*/;\n   \n    // The base Class implementation (does nothing)\n    Class = function(){};\n   \n    // Create a new Class that inherits from this class\n    Class.extend = function extend(prop) {\n      var _super = this.prototype;\n     \n      // Instantiate a base class (but only create the instance,\n      // don't run the init constructor)\n      initializing = true;\n      var prototype = new this();\n      initializing = false;\n     \n      // Copy the properties over onto the new prototype\n      for (var name in prop) {\n        // Check if we're overwriting an existing function\n        prototype[name] = typeof prop[name] == \"function\" &&\n          typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n          (function(name, fn){\n            return function() {\n              var tmp = this._super;\n             \n              // Add a new ._super() method that is the same method\n              // but on the super-class\n              this._super = _super[name];\n             \n              // The method only need to be bound temporarily, so we\n              // remove it when we're done executing\n              var ret = fn.apply(this, arguments);        \n              this._super = tmp;\n             \n              return ret;\n            };\n          })(name, prop[name]) :\n          prop[name];\n      }\n     \n      // The dummy class constructor\n      function Class() {\n        // All construction is actually done in the init method\n        if ( !initializing && this.init )\n          this.init.apply(this, arguments);\n      }\n     \n      // Populate our constructed prototype object\n      Class.prototype = prototype;\n     \n      // Enforce the constructor to be what we expect\n      Class.prototype.constructor = Class;\n   \n      // And make this class extendable\n      Class.extend = extend;\n     \n      return Class;\n    };\n    \n    return Class;\n  })();\n  \n  // CustomEvent constructor polyfill\n  // From MDN\n  (function () {\n    function CustomEvent ( event, params ) {\n      params = params || { bubbles: false, cancelable: false, detail: undefined };\n      var evt = document.createEvent( 'CustomEvent' );\n      evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n      return evt;\n    }\n  \n    CustomEvent.prototype = window.Event.prototype;\n  \n    window.CustomEvent = CustomEvent;\n  })();\n  \n  // requestAnimationFrame polyfill by Erik Möller. fixes from Paul Irish and Tino Zijdel\n  // MIT license\n  (function() {\n      var lastTime = 0;\n      var vendors = ['ms', 'moz', 'webkit', 'o'];\n      for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n          window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n          window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || \n                                        window[vendors[x]+'CancelRequestAnimationFrame'];\n      }\n   \n      if (!window.requestAnimationFrame)\n          window.requestAnimationFrame = function(callback, element) {\n              var currTime = new Date().getTime();\n              var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n              var id = window.setTimeout(function() { callback(currTime + timeToCall); }, \n                timeToCall);\n              lastTime = currTime + timeToCall;\n              return id;\n          };\n   \n      if (!window.cancelAnimationFrame)\n          window.cancelAnimationFrame = function(id) {\n              clearTimeout(id);\n          };\n  }());\n  \n  // Array.isArray polyfill\n  // From MDN\n  (function() {\n    if(!Array.isArray) {\n      Array.isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n      };\n    }\n  }());\n  /**\n   * Taken from jQuery 2.1.3\n   *\n   * @param obj\n   * @returns {boolean}\n   */\n  var $isplainobject = function( obj ) {\n    // Not plain objects:\n    // - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n    // - DOM nodes\n    // - window\n    if (typeof obj !== \"object\" || obj.nodeType || (obj !== null && obj === obj.window)) {\n      return false;\n    }\n  \n    if (obj.constructor && !Object.prototype.hasOwnProperty.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n      return false;\n    }\n  \n    // If the function hasn't returned already, we're confident that\n    // |obj| is a plain object, created by {} or constructed with new Object\n    return true;\n  };\n  \n  var $extend = function(destination) {\n    var source, i,property;\n    for(i=1; i<arguments.length; i++) {\n      source = arguments[i];\n      for (property in source) {\n        if(!source.hasOwnProperty(property)) continue;\n        if(source[property] && $isplainobject(source[property])) {\n          if(!destination.hasOwnProperty(property)) destination[property] = {};\n          $extend(destination[property], source[property]);\n        }\n        else {\n          destination[property] = source[property];\n        }\n      }\n    }\n    return destination;\n  };\n  \n  var $each = function(obj,callback) {\n    if(!obj || typeof obj !== \"object\") return;\n    var i;\n    if(Array.isArray(obj) || (typeof obj.length === 'number' && obj.length > 0 && (obj.length - 1) in obj)) {\n      for(i=0; i<obj.length; i++) {\n        if(callback(i,obj[i])===false) return;\n      }\n    }\n    else {\n      if (Object.keys) {\n        var keys = Object.keys(obj);\n        for(i=0; i<keys.length; i++) {\n          if(callback(keys[i],obj[keys[i]])===false) return;\n        }\n      }\n      else {\n        for(i in obj) {\n          if(!obj.hasOwnProperty(i)) continue;\n          if(callback(i,obj[i])===false) return;\n        }\n      }\n    }\n  };\n  \n  var $trigger = function(el,event) {\n    var e = document.createEvent('HTMLEvents');\n    e.initEvent(event, true, true);\n    el.dispatchEvent(e);\n  };\n  var $triggerc = function(el,event) {\n    var e = new CustomEvent(event,{\n      bubbles: true,\n      cancelable: true\n    });\n  \n    el.dispatchEvent(e);\n  };\n  \n  var JSONEditor = function(element,options) {\n    if (!(element instanceof Element)) {\n      throw new Error('element should be an instance of Element');\n    }\n    options = $extend({},JSONEditor.defaults.options,options||{});\n    this.element = element;\n    this.options = options;\n    this.init();\n  };\n  JSONEditor.prototype = {\n    // necessary since we remove the ctor property by doing a literal assignment. Without this\n    // the $isplainobject function will think that this is a plain object.\n    constructor: JSONEditor,\n    init: function() {\n      var self = this;\n      \n      this.ready = false;\n  \n      var theme_class = JSONEditor.defaults.themes[this.options.theme || JSONEditor.defaults.theme];\n      if(!theme_class) throw \"Unknown theme \" + (this.options.theme || JSONEditor.defaults.theme);\n      \n      this.schema = this.options.schema;\n      this.theme = new theme_class();\n      this.template = this.options.template;\n      this.refs = this.options.refs || {};\n      this.uuid = 0;\n      this.__data = {};\n      \n      var icon_class = JSONEditor.defaults.iconlibs[this.options.iconlib || JSONEditor.defaults.iconlib];\n      if(icon_class) this.iconlib = new icon_class();\n  \n      this.root_container = this.theme.getContainer();\n      this.element.appendChild(this.root_container);\n      \n      this.translate = this.options.translate || JSONEditor.defaults.translate;\n  \n      // Fetch all external refs via ajax\n      this._loadExternalRefs(this.schema, function() {\n        self._getDefinitions(self.schema);\n        \n        // Validator options\n        var validator_options = {};\n        if(self.options.custom_validators) {\n          validator_options.custom_validators = self.options.custom_validators;\n        }\n        self.validator = new JSONEditor.Validator(self,null,validator_options);\n        \n        // Create the root editor\n        var editor_class = self.getEditorClass(self.schema);\n        self.root = self.createEditor(editor_class, {\n          jsoneditor: self,\n          schema: self.schema,\n          required: true,\n          container: self.root_container\n        });\n        \n        self.root.preBuild();\n        self.root.build();\n        self.root.postBuild();\n  \n        // Starting data\n        if(self.options.startval) self.root.setValue(self.options.startval);\n  \n        self.validation_results = self.validator.validate(self.root.getValue());\n        self.root.showValidationErrors(self.validation_results);\n        self.ready = true;\n  \n        // Fire ready event asynchronously\n        window.requestAnimationFrame(function() {\n          if(!self.ready) return;\n          self.validation_results = self.validator.validate(self.root.getValue());\n          self.root.showValidationErrors(self.validation_results);\n          self.trigger('ready');\n          self.trigger('change');\n        });\n      });\n    },\n    getValue: function() {\n      if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before getting the value\";\n  \n      return this.root.getValue();\n    },\n    setValue: function(value) {\n      if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before setting the value\";\n  \n      this.root.setValue(value);\n      return this;\n    },\n    validate: function(value) {\n      if(!this.ready) throw \"JSON Editor not ready yet.  Listen for 'ready' event before validating\";\n      \n      // Custom value\n      if(arguments.length === 1) {\n        return this.validator.validate(value);\n      }\n      // Current value (use cached result)\n      else {\n        return this.validation_results;\n      }\n    },\n    destroy: function() {\n      if(this.destroyed) return;\n      if(!this.ready) return;\n      \n      this.schema = null;\n      this.options = null;\n      this.root.destroy();\n      this.root = null;\n      this.root_container = null;\n      this.validator = null;\n      this.validation_results = null;\n      this.theme = null;\n      this.iconlib = null;\n      this.template = null;\n      this.__data = null;\n      this.ready = false;\n      this.element.innerHTML = '';\n      \n      this.destroyed = true;\n    },\n    on: function(event, callback) {\n      this.callbacks = this.callbacks || {};\n      this.callbacks[event] = this.callbacks[event] || [];\n      this.callbacks[event].push(callback);\n      \n      return this;\n    },\n    off: function(event, callback) {\n      // Specific callback\n      if(event && callback) {\n        this.callbacks = this.callbacks || {};\n        this.callbacks[event] = this.callbacks[event] || [];\n        var newcallbacks = [];\n        for(var i=0; i<this.callbacks[event].length; i++) {\n          if(this.callbacks[event][i]===callback) continue;\n          newcallbacks.push(this.callbacks[event][i]);\n        }\n        this.callbacks[event] = newcallbacks;\n      }\n      // All callbacks for a specific event\n      else if(event) {\n        this.callbacks = this.callbacks || {};\n        this.callbacks[event] = [];\n      }\n      // All callbacks for all events\n      else {\n        this.callbacks = {};\n      }\n      \n      return this;\n    },\n    trigger: function(event) {\n      if(this.callbacks && this.callbacks[event] && this.callbacks[event].length) {\n        for(var i=0; i<this.callbacks[event].length; i++) {\n          this.callbacks[event][i]();\n        }\n      }\n      \n      return this;\n    },\n    setOption: function(option, value) {\n      if(option === \"show_errors\") {\n        this.options.show_errors = value;\n        this.onChange();\n      }\n      // Only the `show_errors` option is supported for now\n      else {\n        throw \"Option \"+option+\" must be set during instantiation and cannot be changed later\";\n      }\n      \n      return this;\n    },\n    getEditorClass: function(schema) {\n      var classname;\n  \n      schema = this.expandSchema(schema);\n  \n      $each(JSONEditor.defaults.resolvers,function(i,resolver) {\n        var tmp = resolver(schema);\n        if(tmp) {\n          if(JSONEditor.defaults.editors[tmp]) {\n            classname = tmp;\n            return false;\n          }\n        }\n      });\n  \n      if(!classname) throw \"Unknown editor for schema \"+JSON.stringify(schema);\n      if(!JSONEditor.defaults.editors[classname]) throw \"Unknown editor \"+classname;\n  \n      return JSONEditor.defaults.editors[classname];\n    },\n    createEditor: function(editor_class, options) {\n      options = $extend({},editor_class.options||{},options);\n      return new editor_class(options);\n    },\n    onChange: function() {\n      if(!this.ready) return;\n      \n      if(this.firing_change) return;\n      this.firing_change = true;\n      \n      var self = this;\n      \n      window.requestAnimationFrame(function() {\n        self.firing_change = false;\n        if(!self.ready) return;\n  \n        // Validate and cache results\n        self.validation_results = self.validator.validate(self.root.getValue());\n        \n        if(self.options.show_errors !== \"never\") {\n          self.root.showValidationErrors(self.validation_results);\n        }\n        else {\n          self.root.showValidationErrors([]);\n        }\n        \n        // Fire change event\n        self.trigger('change');\n      });\n      \n      return this;\n    },\n    compileTemplate: function(template, name) {\n      name = name || JSONEditor.defaults.template;\n  \n      var engine;\n  \n      // Specifying a preset engine\n      if(typeof name === 'string') {\n        if(!JSONEditor.defaults.templates[name]) throw \"Unknown template engine \"+name;\n        engine = JSONEditor.defaults.templates[name]();\n  \n        if(!engine) throw \"Template engine \"+name+\" missing required library.\";\n      }\n      // Specifying a custom engine\n      else {\n        engine = name;\n      }\n  \n      if(!engine) throw \"No template engine set\";\n      if(!engine.compile) throw \"Invalid template engine set\";\n  \n      return engine.compile(template);\n    },\n    _data: function(el,key,value) {\n      // Setting data\n      if(arguments.length === 3) {\n        var uuid;\n        if(el.hasAttribute('data-jsoneditor-'+key)) {\n          uuid = el.getAttribute('data-jsoneditor-'+key);\n        }\n        else {\n          uuid = this.uuid++;\n          el.setAttribute('data-jsoneditor-'+key,uuid);\n        }\n  \n        this.__data[uuid] = value;\n      }\n      // Getting data\n      else {\n        // No data stored\n        if(!el.hasAttribute('data-jsoneditor-'+key)) return null;\n        \n        return this.__data[el.getAttribute('data-jsoneditor-'+key)];\n      }\n    },\n    registerEditor: function(editor) {\n      this.editors = this.editors || {};\n      this.editors[editor.path] = editor;\n      return this;\n    },\n    unregisterEditor: function(editor) {\n      this.editors = this.editors || {};\n      this.editors[editor.path] = null;\n      return this;\n    },\n    getEditor: function(path) {\n      if(!this.editors) return;\n      return this.editors[path];\n    },\n    watch: function(path,callback) {\n      this.watchlist = this.watchlist || {};\n      this.watchlist[path] = this.watchlist[path] || [];\n      this.watchlist[path].push(callback);\n      \n      return this;\n    },\n    unwatch: function(path,callback) {\n      if(!this.watchlist || !this.watchlist[path]) return this;\n      // If removing all callbacks for a path\n      if(!callback) {\n        this.watchlist[path] = null;\n        return this;\n      }\n      \n      var newlist = [];\n      for(var i=0; i<this.watchlist[path].length; i++) {\n        if(this.watchlist[path][i] === callback) continue;\n        else newlist.push(this.watchlist[path][i]);\n      }\n      this.watchlist[path] = newlist.length? newlist : null;\n      return this;\n    },\n    notifyWatchers: function(path) {\n      if(!this.watchlist || !this.watchlist[path]) return this;\n      for(var i=0; i<this.watchlist[path].length; i++) {\n        this.watchlist[path][i]();\n      }\n    },\n    isEnabled: function() {\n      return !this.root || this.root.isEnabled();\n    },\n    enable: function() {\n      this.root.enable();\n    },\n    disable: function() {\n      this.root.disable();\n    },\n    _getDefinitions: function(schema,path) {\n      path = path || '#/definitions/';\n      if(schema.definitions) {\n        for(var i in schema.definitions) {\n          if(!schema.definitions.hasOwnProperty(i)) continue;\n          this.refs[path+i] = schema.definitions[i];\n          if(schema.definitions[i].definitions) {\n            this._getDefinitions(schema.definitions[i],path+i+'/definitions/');\n          }\n        }\n      }\n    },\n    _getExternalRefs: function(schema) {\n      var refs = {};\n      var merge_refs = function(newrefs) {\n        for(var i in newrefs) {\n          if(newrefs.hasOwnProperty(i)) {\n            refs[i] = true;\n          }\n        }\n      };\n      \n      if(schema.$ref && typeof schema.$ref !== \"object\" && schema.$ref.substr(0,1) !== \"#\" && !this.refs[schema.$ref]) {\n        refs[schema.$ref] = true;\n      }\n      \n      for(var i in schema) {\n        if(!schema.hasOwnProperty(i)) continue;\n        if(schema[i] && typeof schema[i] === \"object\" && Array.isArray(schema[i])) {\n          for(var j=0; j<schema[i].length; j++) {\n            if(typeof schema[i][j]===\"object\") {\n              merge_refs(this._getExternalRefs(schema[i][j]));\n            }\n          }\n        }\n        else if(schema[i] && typeof schema[i] === \"object\") {\n          merge_refs(this._getExternalRefs(schema[i]));\n        }\n      }\n      \n      return refs;\n    },\n    _loadExternalRefs: function(schema, callback) {\n      var self = this;\n      var refs = this._getExternalRefs(schema);\n      \n      var done = 0, waiting = 0, callback_fired = false;\n      \n      $each(refs,function(url) {\n        if(self.refs[url]) return;\n        if(!self.options.ajax) throw \"Must set ajax option to true to load external ref \"+url;\n        self.refs[url] = 'loading';\n        waiting++;\n  \n        var r = new XMLHttpRequest(); \n        r.open(\"GET\", url, true);\n        r.onreadystatechange = function () {\n          if (r.readyState != 4) return; \n          // Request succeeded\n          if(r.status === 200) {\n            var response;\n            try {\n              response = JSON.parse(r.responseText);\n            }\n            catch(e) {\n              window.console.log(e);\n              throw \"Failed to parse external ref \"+url;\n            }\n            if(!response || typeof response !== \"object\") throw \"External ref does not contain a valid schema - \"+url;\n            \n            self.refs[url] = response;\n            self._loadExternalRefs(response,function() {\n              done++;\n              if(done >= waiting && !callback_fired) {\n                callback_fired = true;\n                callback();\n              }\n            });\n          }\n          // Request failed\n          else {\n            window.console.log(r);\n            throw \"Failed to fetch ref via ajax- \"+url;\n          }\n        };\n        r.send();\n      });\n      \n      if(!waiting) {\n        callback();\n      }\n    },\n    expandRefs: function(schema) {\n      schema = $extend({},schema);\n      \n      while (schema.$ref) {\n        var ref = schema.$ref;\n        delete schema.$ref;\n        \n        if(!this.refs[ref]) ref = decodeURIComponent(ref);\n        \n        schema = this.extendSchemas(schema,this.refs[ref]);\n      }\n      return schema;\n    },\n    expandSchema: function(schema) {\n      var self = this;\n      var extended = $extend({},schema);\n      var i;\n  \n      // Version 3 `type`\n      if(typeof schema.type === 'object') {\n        // Array of types\n        if(Array.isArray(schema.type)) {\n          $each(schema.type, function(key,value) {\n            // Schema\n            if(typeof value === 'object') {\n              schema.type[key] = self.expandSchema(value);\n            }\n          });\n        }\n        // Schema\n        else {\n          schema.type = self.expandSchema(schema.type);\n        }\n      }\n      // Version 3 `disallow`\n      if(typeof schema.disallow === 'object') {\n        // Array of types\n        if(Array.isArray(schema.disallow)) {\n          $each(schema.disallow, function(key,value) {\n            // Schema\n            if(typeof value === 'object') {\n              schema.disallow[key] = self.expandSchema(value);\n            }\n          });\n        }\n        // Schema\n        else {\n          schema.disallow = self.expandSchema(schema.disallow);\n        }\n      }\n      // Version 4 `anyOf`\n      if(schema.anyOf) {\n        $each(schema.anyOf, function(key,value) {\n          schema.anyOf[key] = self.expandSchema(value);\n        });\n      }\n      // Version 4 `dependencies` (schema dependencies)\n      if(schema.dependencies) {\n        $each(schema.dependencies,function(key,value) {\n          if(typeof value === \"object\" && !(Array.isArray(value))) {\n            schema.dependencies[key] = self.expandSchema(value);\n          }\n        });\n      }\n      // Version 4 `not`\n      if(schema.not) {\n        schema.not = this.expandSchema(schema.not);\n      }\n      \n      // allOf schemas should be merged into the parent\n      if(schema.allOf) {\n        for(i=0; i<schema.allOf.length; i++) {\n          extended = this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));\n        }\n        delete extended.allOf;\n      }\n      // extends schemas should be merged into parent\n      if(schema[\"extends\"]) {\n        // If extends is a schema\n        if(!(Array.isArray(schema[\"extends\"]))) {\n          extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"]));\n        }\n        // If extends is an array of schemas\n        else {\n          for(i=0; i<schema[\"extends\"].length; i++) {\n            extended = this.extendSchemas(extended,this.expandSchema(schema[\"extends\"][i]));\n          }\n        }\n        delete extended[\"extends\"];\n      }\n      // parent should be merged into oneOf schemas\n      if(schema.oneOf) {\n        var tmp = $extend({},extended);\n        delete tmp.oneOf;\n        for(i=0; i<schema.oneOf.length; i++) {\n          extended.oneOf[i] = this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp);\n        }\n      }\n      \n      return this.expandRefs(extended);\n    },\n    extendSchemas: function(obj1, obj2) {\n      obj1 = $extend({},obj1);\n      obj2 = $extend({},obj2);\n  \n      var self = this;\n      var extended = {};\n      $each(obj1, function(prop,val) {\n        // If this key is also defined in obj2, merge them\n        if(typeof obj2[prop] !== \"undefined\") {\n          // Required and defaultProperties arrays should be unioned together\n          if((prop === 'required'||prop === 'defaultProperties') && typeof val === \"object\" && Array.isArray(val)) {\n            // Union arrays and unique\n            extended[prop] = val.concat(obj2[prop]).reduce(function(p, c) {\n              if (p.indexOf(c) < 0) p.push(c);\n              return p;\n            }, []);\n          }\n          // Type should be intersected and is either an array or string\n          else if(prop === 'type' && (typeof val === \"string\" || Array.isArray(val))) {\n            // Make sure we're dealing with arrays\n            if(typeof val === \"string\") val = [val];\n            if(typeof obj2.type === \"string\") obj2.type = [obj2.type];\n  \n            // If type is only defined in the first schema, keep it\n            if(!obj2.type || !obj2.type.length) {\n              extended.type = val;\n            }\n            // If type is defined in both schemas, do an intersect\n            else {\n              extended.type = val.filter(function(n) {\n                return obj2.type.indexOf(n) !== -1;\n              });\n            }\n  \n            // If there's only 1 type and it's a primitive, use a string instead of array\n            if(extended.type.length === 1 && typeof extended.type[0] === \"string\") {\n              extended.type = extended.type[0];\n            }\n            // Remove the type property if it's empty\n            else if(extended.type.length === 0) {\n              delete extended.type;\n            }\n          }\n          // All other arrays should be intersected (enum, etc.)\n          else if(typeof val === \"object\" && Array.isArray(val)){\n            extended[prop] = val.filter(function(n) {\n              return obj2[prop].indexOf(n) !== -1;\n            });\n          }\n          // Objects should be recursively merged\n          else if(typeof val === \"object\" && val !== null) {\n            extended[prop] = self.extendSchemas(val,obj2[prop]);\n          }\n          // Otherwise, use the first value\n          else {\n            extended[prop] = val;\n          }\n        }\n        // Otherwise, just use the one in obj1\n        else {\n          extended[prop] = val;\n        }\n      });\n      // Properties in obj2 that aren't in obj1\n      $each(obj2, function(prop,val) {\n        if(typeof obj1[prop] === \"undefined\") {\n          extended[prop] = val;\n        }\n      });\n  \n      return extended;\n    }\n  };\n  \n  JSONEditor.defaults = {\n    themes: {},\n    templates: {},\n    iconlibs: {},\n    editors: {},\n    languages: {},\n    resolvers: [],\n    custom_validators: []\n  };\n  \n  JSONEditor.Validator = Class.extend({\n    init: function(jsoneditor,schema,options) {\n      this.jsoneditor = jsoneditor;\n      this.schema = schema || this.jsoneditor.schema;\n      this.options = options || {};\n      this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n    },\n    validate: function(value) {\n      return this._validateSchema(this.schema, value);\n    },\n    _validateSchema: function(schema,value,path) {\n      var self = this;\n      var errors = [];\n      var valid, i, j;\n      var stringified = JSON.stringify(value);\n  \n      path = path || 'root';\n  \n      // Work on a copy of the schema\n      schema = $extend({},this.jsoneditor.expandRefs(schema));\n  \n      /*\n       * Type Agnostic Validation\n       */\n  \n      // Version 3 `required`\n      if(schema.required && schema.required === true) {\n        if(typeof value === \"undefined\") {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n  \n          // Can't do any more validation at this point\n          return errors;\n        }\n      }\n      // Value not defined\n      else if(typeof value === \"undefined\") {\n        // If required_by_default is set, all fields are required\n        if(this.jsoneditor.options.required_by_default) {\n          errors.push({\n            path: path,\n            property: 'required',\n            message: this.translate(\"error_notset\")\n          });\n        }\n        // Not required, no further validation needed\n        else {\n          return errors;\n        }\n      }\n  \n      // `enum`\n      if(schema[\"enum\"]) {\n        valid = false;\n        for(i=0; i<schema[\"enum\"].length; i++) {\n          if(stringified === JSON.stringify(schema[\"enum\"][i])) valid = true;\n        }\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'enum',\n            message: this.translate(\"error_enum\")\n          });\n        }\n      }\n  \n      // `extends` (version 3)\n      if(schema[\"extends\"]) {\n        for(i=0; i<schema[\"extends\"].length; i++) {\n          errors = errors.concat(this._validateSchema(schema[\"extends\"][i],value,path));\n        }\n      }\n  \n      // `allOf`\n      if(schema.allOf) {\n        for(i=0; i<schema.allOf.length; i++) {\n          errors = errors.concat(this._validateSchema(schema.allOf[i],value,path));\n        }\n      }\n  \n      // `anyOf`\n      if(schema.anyOf) {\n        valid = false;\n        for(i=0; i<schema.anyOf.length; i++) {\n          if(!this._validateSchema(schema.anyOf[i],value,path).length) {\n            valid = true;\n            break;\n          }\n        }\n        if(!valid) {\n          errors.push({\n            path: path,\n            property: 'anyOf',\n            message: this.translate('error_anyOf')\n          });\n        }\n      }\n  \n      // `oneOf`\n      if(schema.oneOf) {\n        valid = 0;\n        var oneof_errors = [];\n        for(i=0; i<schema.oneOf.length; i++) {\n          // Set the error paths to be path.oneOf[i].rest.of.path\n          var tmp = this._validateSchema(schema.oneOf[i],value,path);\n          if(!tmp.length) {\n            valid++;\n          }\n  \n          for(j=0; j<tmp.length; j++) {\n            tmp[j].path = path+'.oneOf['+i+']'+tmp[j].path.substr(path.length);\n          }\n          oneof_errors = oneof_errors.concat(tmp);\n  \n        }\n        if(valid !== 1) {\n          errors.push({\n            path: path,\n            property: 'oneOf',\n            message: this.translate('error_oneOf', [valid])\n          });\n          errors = errors.concat(oneof_errors);\n        }\n      }\n  \n      // `not`\n      if(schema.not) {\n        if(!this._validateSchema(schema.not,value,path).length) {\n          errors.push({\n            path: path,\n            property: 'not',\n            message: this.translate('error_not')\n          });\n        }\n      }\n  \n      // `type` (both Version 3 and Version 4 support)\n      if(schema.type) {\n        // Union type\n        if(Array.isArray(schema.type)) {\n          valid = false;\n          for(i=0;i<schema.type.length;i++) {\n            if(this._checkType(schema.type[i], value)) {\n              valid = true;\n              break;\n            }\n          }\n          if(!valid) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if(!this._checkType(schema.type, value)) {\n            errors.push({\n              path: path,\n              property: 'type',\n              message: this.translate('error_type', [schema.type])\n            });\n          }\n        }\n      }\n  \n  \n      // `disallow` (version 3)\n      if(schema.disallow) {\n        // Union type\n        if(Array.isArray(schema.disallow)) {\n          valid = true;\n          for(i=0;i<schema.disallow.length;i++) {\n            if(this._checkType(schema.disallow[i], value)) {\n              valid = false;\n              break;\n            }\n          }\n          if(!valid) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow_union')\n            });\n          }\n        }\n        // Simple type\n        else {\n          if(this._checkType(schema.disallow, value)) {\n            errors.push({\n              path: path,\n              property: 'disallow',\n              message: this.translate('error_disallow', [schema.disallow])\n            });\n          }\n        }\n      }\n  \n      /*\n       * Type Specific Validation\n       */\n  \n      // Number Specific Validation\n      if(typeof value === \"number\") {\n        // `multipleOf` and `divisibleBy`\n        if(schema.multipleOf || schema.divisibleBy) {\n          var divisor = schema.multipleOf || schema.divisibleBy;\n          // Vanilla JS, prone to floating point rounding errors (e.g. 1.14 / .01 == 113.99999)\n          valid = (value/divisor === Math.floor(value/divisor));\n  \n          // Use math.js is available\n          if(window.math) {\n            valid = window.math.mod(window.math.bignumber(value), window.math.bignumber(divisor)).equals(0);\n          }\n          // Use decimal.js is available\n          else if(window.Decimal) {\n            valid = (new window.Decimal(value)).mod(new window.Decimal(divisor)).equals(0);\n          }\n  \n          if(!valid) {\n            errors.push({\n              path: path,\n              property: schema.multipleOf? 'multipleOf' : 'divisibleBy',\n              message: this.translate('error_multipleOf', [divisor])\n            });\n          }\n        }\n  \n        // `maximum`\n        if(schema.hasOwnProperty('maximum')) {\n          // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n          valid = schema.exclusiveMaximum? (value < schema.maximum) : (value <= schema.maximum);\n  \n          // Use math.js is available\n          if(window.math) {\n            valid = window.math[schema.exclusiveMaximum?'smaller':'smallerEq'](\n              window.math.bignumber(value),\n              window.math.bignumber(schema.maximum)\n            );\n          }\n          // Use Decimal.js if available\n          else if(window.Decimal) {\n            valid = (new window.Decimal(value))[schema.exclusiveMaximum?'lt':'lte'](new window.Decimal(schema.maximum));\n          }\n  \n          if(!valid) {\n            errors.push({\n              path: path,\n              property: 'maximum',\n              message: this.translate(\n                (schema.exclusiveMaximum?'error_maximum_excl':'error_maximum_incl'),\n                [schema.maximum]\n              )\n            });\n          }\n        }\n  \n        // `minimum`\n        if(schema.hasOwnProperty('minimum')) {\n          // Vanilla JS, prone to floating point rounding errors (e.g. .999999999999999 == 1)\n          valid = schema.exclusiveMinimum? (value > schema.minimum) : (value >= schema.minimum);\n  \n          // Use math.js is available\n          if(window.math) {\n            valid = window.math[schema.exclusiveMinimum?'larger':'largerEq'](\n              window.math.bignumber(value),\n              window.math.bignumber(schema.minimum)\n            );\n          }\n          // Use Decimal.js if available\n          else if(window.Decimal) {\n            valid = (new window.Decimal(value))[schema.exclusiveMinimum?'gt':'gte'](new window.Decimal(schema.minimum));\n          }\n  \n          if(!valid) {\n            errors.push({\n              path: path,\n              property: 'minimum',\n              message: this.translate(\n                (schema.exclusiveMinimum?'error_minimum_excl':'error_minimum_incl'),\n                [schema.minimum]\n              )\n            });\n          }\n        }\n      }\n      // String specific validation\n      else if(typeof value === \"string\") {\n        // `maxLength`\n        if(schema.maxLength) {\n          if((value+\"\").length > schema.maxLength) {\n            errors.push({\n              path: path,\n              property: 'maxLength',\n              message: this.translate('error_maxLength', [schema.maxLength])\n            });\n          }\n        }\n  \n        // `minLength`\n        if(schema.minLength) {\n          if((value+\"\").length < schema.minLength) {\n            errors.push({\n              path: path,\n              property: 'minLength',\n              message: this.translate((schema.minLength===1?'error_notempty':'error_minLength'), [schema.minLength])\n            });\n          }\n        }\n  \n        // `pattern`\n        if(schema.pattern) {\n          if(!(new RegExp(schema.pattern)).test(value)) {\n            errors.push({\n              path: path,\n              property: 'pattern',\n              message: this.translate('error_pattern', [schema.pattern])\n            });\n          }\n        }\n      }\n      // Array specific validation\n      else if(typeof value === \"object\" && value !== null && Array.isArray(value)) {\n        // `items` and `additionalItems`\n        if(schema.items) {\n          // `items` is an array\n          if(Array.isArray(schema.items)) {\n            for(i=0; i<value.length; i++) {\n              // If this item has a specific schema tied to it\n              // Validate against it\n              if(schema.items[i]) {\n                errors = errors.concat(this._validateSchema(schema.items[i],value[i],path+'.'+i));\n              }\n              // If all additional items are allowed\n              else if(schema.additionalItems === true) {\n                break;\n              }\n              // If additional items is a schema\n              // TODO: Incompatibility between version 3 and 4 of the spec\n              else if(schema.additionalItems) {\n                errors = errors.concat(this._validateSchema(schema.additionalItems,value[i],path+'.'+i));\n              }\n              // If no additional items are allowed\n              else if(schema.additionalItems === false) {\n                errors.push({\n                  path: path,\n                  property: 'additionalItems',\n                  message: this.translate('error_additionalItems')\n                });\n                break;\n              }\n              // Default for `additionalItems` is an empty schema\n              else {\n                break;\n              }\n            }\n          }\n          // `items` is a schema\n          else {\n            // Each item in the array must validate against the schema\n            for(i=0; i<value.length; i++) {\n              errors = errors.concat(this._validateSchema(schema.items,value[i],path+'.'+i));\n            }\n          }\n        }\n  \n        // `maxItems`\n        if(schema.maxItems) {\n          if(value.length > schema.maxItems) {\n            errors.push({\n              path: path,\n              property: 'maxItems',\n              message: this.translate('error_maxItems', [schema.maxItems])\n            });\n          }\n        }\n  \n        // `minItems`\n        if(schema.minItems) {\n          if(value.length < schema.minItems) {\n            errors.push({\n              path: path,\n              property: 'minItems',\n              message: this.translate('error_minItems', [schema.minItems])\n            });\n          }\n        }\n  \n        // `uniqueItems`\n        if(schema.uniqueItems) {\n          var seen = {};\n          for(i=0; i<value.length; i++) {\n            valid = JSON.stringify(value[i]);\n            if(seen[valid]) {\n              errors.push({\n                path: path,\n                property: 'uniqueItems',\n                message: this.translate('error_uniqueItems')\n              });\n              break;\n            }\n            seen[valid] = true;\n          }\n        }\n      }\n      // Object specific validation\n      else if(typeof value === \"object\" && value !== null) {\n        // `maxProperties`\n        if(schema.maxProperties) {\n          valid = 0;\n          for(i in value) {\n            if(!value.hasOwnProperty(i)) continue;\n            valid++;\n          }\n          if(valid > schema.maxProperties) {\n            errors.push({\n              path: path,\n              property: 'maxProperties',\n              message: this.translate('error_maxProperties', [schema.maxProperties])\n            });\n          }\n        }\n  \n        // `minProperties`\n        if(schema.minProperties) {\n          valid = 0;\n          for(i in value) {\n            if(!value.hasOwnProperty(i)) continue;\n            valid++;\n          }\n          if(valid < schema.minProperties) {\n            errors.push({\n              path: path,\n              property: 'minProperties',\n              message: this.translate('error_minProperties', [schema.minProperties])\n            });\n          }\n        }\n  \n        // Version 4 `required`\n        if(schema.required && Array.isArray(schema.required)) {\n          for(i=0; i<schema.required.length; i++) {\n            if(typeof value[schema.required[i]] === \"undefined\") {\n              errors.push({\n                path: path,\n                property: 'required',\n                message: this.translate('error_required', [schema.required[i]])\n              });\n            }\n          }\n        }\n  \n        // `properties`\n        var validated_properties = {};\n        if(schema.properties) {\n          for(i in schema.properties) {\n            if(!schema.properties.hasOwnProperty(i)) continue;\n            validated_properties[i] = true;\n            errors = errors.concat(this._validateSchema(schema.properties[i],value[i],path+'.'+i));\n          }\n        }\n  \n        // `patternProperties`\n        if(schema.patternProperties) {\n          for(i in schema.patternProperties) {\n            if(!schema.patternProperties.hasOwnProperty(i)) continue;\n  \n            var regex = new RegExp(i);\n  \n            // Check which properties match\n            for(j in value) {\n              if(!value.hasOwnProperty(j)) continue;\n              if(regex.test(j)) {\n                validated_properties[j] = true;\n                errors = errors.concat(this._validateSchema(schema.patternProperties[i],value[j],path+'.'+j));\n              }\n            }\n          }\n        }\n  \n        // The no_additional_properties option currently doesn't work with extended schemas that use oneOf or anyOf\n        if(typeof schema.additionalProperties === \"undefined\" && this.jsoneditor.options.no_additional_properties && !schema.oneOf && !schema.anyOf) {\n          schema.additionalProperties = false;\n        }\n  \n        // `additionalProperties`\n        if(typeof schema.additionalProperties !== \"undefined\") {\n          for(i in value) {\n            if(!value.hasOwnProperty(i)) continue;\n            if(!validated_properties[i]) {\n              // No extra properties allowed\n              if(!schema.additionalProperties) {\n                errors.push({\n                  path: path,\n                  property: 'additionalProperties',\n                  message: this.translate('error_additional_properties', [i])\n                });\n                break;\n              }\n              // Allowed\n              else if(schema.additionalProperties === true) {\n                break;\n              }\n              // Must match schema\n              // TODO: incompatibility between version 3 and 4 of the spec\n              else {\n                errors = errors.concat(this._validateSchema(schema.additionalProperties,value[i],path+'.'+i));\n              }\n            }\n          }\n        }\n  \n        // `dependencies`\n        if(schema.dependencies) {\n          for(i in schema.dependencies) {\n            if(!schema.dependencies.hasOwnProperty(i)) continue;\n  \n            // Doesn't need to meet the dependency\n            if(typeof value[i] === \"undefined\") continue;\n  \n            // Property dependency\n            if(Array.isArray(schema.dependencies[i])) {\n              for(j=0; j<schema.dependencies[i].length; j++) {\n                if(typeof value[schema.dependencies[i][j]] === \"undefined\") {\n                  errors.push({\n                    path: path,\n                    property: 'dependencies',\n                    message: this.translate('error_dependency', [schema.dependencies[i][j]])\n                  });\n                }\n              }\n            }\n            // Schema dependency\n            else {\n              errors = errors.concat(this._validateSchema(schema.dependencies[i],value,path));\n            }\n          }\n        }\n      }\n  \n      // Custom type validation (global)\n      $each(JSONEditor.defaults.custom_validators,function(i,validator) {\n        errors = errors.concat(validator.call(self,schema,value,path));\n      });\n      // Custom type validation (instance specific)\n      if(this.options.custom_validators) {\n        $each(this.options.custom_validators,function(i,validator) {\n          errors = errors.concat(validator.call(self,schema,value,path));\n        });\n      }\n  \n      return errors;\n    },\n    _checkType: function(type, value) {\n      // Simple types\n      if(typeof type === \"string\") {\n        if(type===\"string\") return typeof value === \"string\";\n        else if(type===\"number\") return typeof value === \"number\";\n        else if(type===\"integer\") return typeof value === \"number\" && value === Math.floor(value);\n        else if(type===\"boolean\") return typeof value === \"boolean\";\n        else if(type===\"array\") return Array.isArray(value);\n        else if(type === \"object\") return value !== null && !(Array.isArray(value)) && typeof value === \"object\";\n        else if(type === \"null\") return value === null;\n        else return true;\n      }\n      // Schema\n      else {\n        return !this._validateSchema(type,value).length;\n      }\n    }\n  });\n  \n  /**\n   * All editors should extend from this class\n   */\n  JSONEditor.AbstractEditor = Class.extend({\n    onChildEditorChange: function(editor) {\n      this.onChange(true);\n    },\n    notify: function() {\n      this.jsoneditor.notifyWatchers(this.path);\n    },\n    change: function() {\n      if(this.parent) this.parent.onChildEditorChange(this);\n      else this.jsoneditor.onChange();\n    },\n    onChange: function(bubble) {\n      this.notify();\n      if(this.watch_listener) this.watch_listener();\n      if(bubble) this.change();\n    },\n    register: function() {\n      this.jsoneditor.registerEditor(this);\n      this.onChange();\n    },\n    unregister: function() {\n      if(!this.jsoneditor) return;\n      this.jsoneditor.unregisterEditor(this);\n    },\n    getNumColumns: function() {\n      return 12;\n    },\n    init: function(options) {\n      this.jsoneditor = options.jsoneditor;\n      \n      this.theme = this.jsoneditor.theme;\n      this.template_engine = this.jsoneditor.template;\n      this.iconlib = this.jsoneditor.iconlib;\n      \n      this.translate = this.jsoneditor.translate || JSONEditor.defaults.translate;\n  \n      this.original_schema = options.schema;\n      this.schema = this.jsoneditor.expandSchema(this.original_schema);\n      \n      this.options = $extend({}, (this.options || {}), (options.schema.options || {}), options);\n      \n      if(!options.path && !this.schema.id) this.schema.id = 'root';\n      this.path = options.path || 'root';\n      this.formname = options.formname || this.path.replace(/\\.([^.]+)/g,'[$1]');\n      if(this.jsoneditor.options.form_name_root) this.formname = this.formname.replace(/^root\\[/,this.jsoneditor.options.form_name_root+'[');\n      this.key = this.path.split('.').pop();\n      this.parent = options.parent;\n      \n      this.link_watchers = [];\n      \n      if(options.container) this.setContainer(options.container);\n    },\n    setContainer: function(container) {\n      this.container = container;\n      if(this.schema.id) this.container.setAttribute('data-schemaid',this.schema.id);\n      if(this.schema.type && typeof this.schema.type === \"string\") this.container.setAttribute('data-schematype',this.schema.type);\n      this.container.setAttribute('data-schemapath',this.path);\n    },\n    \n    preBuild: function() {\n  \n    },\n    build: function() {\n      \n    },\n    postBuild: function() {\n      this.setupWatchListeners();\n      this.addLinks();\n      this.setValue(this.getDefault(), true);\n      this.updateHeaderText();\n      this.register();\n      this.onWatchedFieldChange();\n    },\n    \n    setupWatchListeners: function() {\n      var self = this;\n      \n      // Watched fields\n      this.watched = {};\n      if(this.schema.vars) this.schema.watch = this.schema.vars;\n      this.watched_values = {};\n      this.watch_listener = function() {\n        if(self.refreshWatchedFieldValues()) {\n          self.onWatchedFieldChange();\n        }\n      };\n      \n      this.register();\n      if(this.schema.hasOwnProperty('watch')) {\n        var path,path_parts,first,root,adjusted_path;\n  \n        for(var name in this.schema.watch) {\n          if(!this.schema.watch.hasOwnProperty(name)) continue;\n          path = this.schema.watch[name];\n  \n          if(Array.isArray(path)) {\n            if(path.length<2) continue;\n            path_parts = [path[0]].concat(path[1].split('.'));\n          }\n          else {\n            path_parts = path.split('.');\n            if(!self.theme.closest(self.container,'[data-schemaid=\"'+path_parts[0]+'\"]')) path_parts.unshift('#');\n          }\n          first = path_parts.shift();\n  \n          if(first === '#') first = self.jsoneditor.schema.id || 'root';\n  \n          // Find the root node for this template variable\n          root = self.theme.closest(self.container,'[data-schemaid=\"'+first+'\"]');\n          if(!root) throw \"Could not find ancestor node with id \"+first;\n  \n          // Keep track of the root node and path for use when rendering the template\n          adjusted_path = root.getAttribute('data-schemapath') + '.' + path_parts.join('.');\n          \n          self.jsoneditor.watch(adjusted_path,self.watch_listener);\n          \n          self.watched[name] = adjusted_path;\n        }\n      }\n      \n      // Dynamic header\n      if(this.schema.headerTemplate) {\n        this.header_template = this.jsoneditor.compileTemplate(this.schema.headerTemplate, this.template_engine);\n      }\n    },\n    \n    addLinks: function() {\n      // Add links\n      if(!this.no_link_holder) {\n        this.link_holder = this.theme.getLinksHolder();\n        this.container.appendChild(this.link_holder);\n        if(this.schema.links) {\n          for(var i=0; i<this.schema.links.length; i++) {\n            this.addLink(this.getLink(this.schema.links[i]));\n          }\n        }\n      }\n    },\n    \n    \n    getButton: function(text, icon, title) {\n      var btnClass = 'json-editor-btn-'+icon;\n      if(!this.iconlib) icon = null;\n      else icon = this.iconlib.getIcon(icon);\n      \n      if(!icon && title) {\n        text = title;\n        title = null;\n      }\n      \n      var btn = this.theme.getButton(text, icon, title);\n      btn.className += ' ' + btnClass + ' ';\n      return btn;\n    },\n    setButtonText: function(button, text, icon, title) {\n      if(!this.iconlib) icon = null;\n      else icon = this.iconlib.getIcon(icon);\n      \n      if(!icon && title) {\n        text = title;\n        title = null;\n      }\n      \n      return this.theme.setButtonText(button, text, icon, title);\n    },\n    addLink: function(link) {\n      if(this.link_holder) this.link_holder.appendChild(link);\n    },\n    getLink: function(data) {\n      var holder, link;\n          \n      // Get mime type of the link\n      var mime = data.mediaType || 'application/javascript';\n      var type = mime.split('/')[0];\n      \n      // Template to generate the link href\n      var href = this.jsoneditor.compileTemplate(data.href,this.template_engine);\n  \n      // Template to generate the link's download attribute\n      var download = null;\n      if(data.download) download = data.download;\n  \n      if(download && download !== true) {\n        download = this.jsoneditor.compileTemplate(download, this.template_engine);\n      }\n  \n      // Image links\n      if(type === 'image') {\n        holder = this.theme.getBlockLinkHolder();\n        link = document.createElement('a');\n        link.setAttribute('target','_blank');\n        var image = document.createElement('img');\n        \n        this.theme.createImageLink(holder,link,image);\n      \n        // When a watched field changes, update the url  \n        this.link_watchers.push(function(vars) {\n          var url = href(vars);\n          link.setAttribute('href',url);\n          link.setAttribute('title',data.rel || url);\n          image.setAttribute('src',url);\n        });\n      }\n      // Audio/Video links\n      else if(['audio','video'].indexOf(type) >=0) {\n        holder = this.theme.getBlockLinkHolder();\n        \n        link = this.theme.getBlockLink();\n        link.setAttribute('target','_blank');\n        \n        var media = document.createElement(type);\n        media.setAttribute('controls','controls');\n        \n        this.theme.createMediaLink(holder,link,media);\n        \n        // When a watched field changes, update the url  \n        this.link_watchers.push(function(vars) {\n          var url = href(vars);\n          link.setAttribute('href',url);\n          link.textContent = data.rel || url;\n          media.setAttribute('src',url);\n        });\n      }\n      // Text links\n      else {\n        link = holder = this.theme.getBlockLink();\n        holder.setAttribute('target','_blank');\n        holder.textContent = data.rel;\n  \n        // When a watched field changes, update the url\n        this.link_watchers.push(function(vars) {\n          var url = href(vars);\n          holder.setAttribute('href',url);\n          holder.textContent = data.rel || url;\n        });\n      }\n  \n      if(download && link) {\n        if(download === true) {\n          link.setAttribute('download','');\n        }\n        else {\n          this.link_watchers.push(function(vars) {\n            link.setAttribute('download',download(vars));\n          });\n        }\n      }\n      \n      if(data.class) link.className = link.className + ' ' + data.class;\n  \n      return holder;\n    },\n    refreshWatchedFieldValues: function() {\n      if(!this.watched_values) return;\n      var watched = {};\n      var changed = false;\n      var self = this;\n      \n      if(this.watched) {\n        var val,editor;\n        for(var name in this.watched) {\n          if(!this.watched.hasOwnProperty(name)) continue;\n          editor = self.jsoneditor.getEditor(this.watched[name]);\n          val = editor? editor.getValue() : null;\n          if(self.watched_values[name] !== val) changed = true;\n          watched[name] = val;\n        }\n      }\n      \n      watched.self = this.getValue();\n      if(this.watched_values.self !== watched.self) changed = true;\n      \n      this.watched_values = watched;\n      \n      return changed;\n    },\n    getWatchedFieldValues: function() {\n      return this.watched_values;\n    },\n    updateHeaderText: function() {\n      if(this.header) {\n        // If the header has children, only update the text node's value\n        if(this.header.children.length) {\n          for(var i=0; i<this.header.childNodes.length; i++) {\n            if(this.header.childNodes[i].nodeType===3) {\n              this.header.childNodes[i].nodeValue = this.getHeaderText();\n              break;\n            }\n          }\n        }\n        // Otherwise, just update the entire node\n        else {\n          this.header.textContent = this.getHeaderText();\n        }\n      }\n    },\n    getHeaderText: function(title_only) {\n      if(this.header_text) return this.header_text;\n      else if(title_only) return this.schema.title;\n      else return this.getTitle();\n    },\n    onWatchedFieldChange: function() {\n      var vars;\n      if(this.header_template) {      \n        vars = $extend(this.getWatchedFieldValues(),{\n          key: this.key,\n          i: this.key,\n          i0: (this.key*1),\n          i1: (this.key*1+1),\n          title: this.getTitle()\n        });\n        var header_text = this.header_template(vars);\n        \n        if(header_text !== this.header_text) {\n          this.header_text = header_text;\n          this.updateHeaderText();\n          this.notify();\n          //this.fireChangeHeaderEvent();\n        }\n      }\n      if(this.link_watchers.length) {\n        vars = this.getWatchedFieldValues();\n        for(var i=0; i<this.link_watchers.length; i++) {\n          this.link_watchers[i](vars);\n        }\n      }\n    },\n    setValue: function(value) {\n      this.value = value;\n    },\n    getValue: function() {\n      return this.value;\n    },\n    refreshValue: function() {\n  \n    },\n    getChildEditors: function() {\n      return false;\n    },\n    destroy: function() {\n      var self = this;\n      this.unregister(this);\n      $each(this.watched,function(name,adjusted_path) {\n        self.jsoneditor.unwatch(adjusted_path,self.watch_listener);\n      });\n      this.watched = null;\n      this.watched_values = null;\n      this.watch_listener = null;\n      this.header_text = null;\n      this.header_template = null;\n      this.value = null;\n      if(this.container && this.container.parentNode) this.container.parentNode.removeChild(this.container);\n      this.container = null;\n      this.jsoneditor = null;\n      this.schema = null;\n      this.path = null;\n      this.key = null;\n      this.parent = null;\n    },\n    getDefault: function() {\n      if(this.schema[\"default\"]) return this.schema[\"default\"];\n      if(this.schema[\"enum\"]) return this.schema[\"enum\"][0];\n      \n      var type = this.schema.type || this.schema.oneOf;\n      if(type && Array.isArray(type)) type = type[0];\n      if(type && typeof type === \"object\") type = type.type;\n      if(type && Array.isArray(type)) type = type[0];\n      \n      if(typeof type === \"string\") {\n        if(type === \"number\") return 0.0;\n        if(type === \"boolean\") return false;\n        if(type === \"integer\") return 0;\n        if(type === \"string\") return \"\";\n        if(type === \"object\") return {};\n        if(type === \"array\") return [];\n      }\n      \n      return null;\n    },\n    getTitle: function() {\n      return this.schema.title || this.key;\n    },\n    enable: function() {\n      this.disabled = false;\n    },\n    disable: function() {\n      this.disabled = true;\n    },\n    isEnabled: function() {\n      return !this.disabled;\n    },\n    isRequired: function() {\n      if(typeof this.schema.required === \"boolean\") return this.schema.required;\n      else if(this.parent && this.parent.schema && Array.isArray(this.parent.schema.required)) return this.parent.schema.required.indexOf(this.key) > -1;\n      else if(this.jsoneditor.options.required_by_default) return true;\n      else return false;\n    },  \n    getDisplayText: function(arr) {\n      var disp = [];\n      var used = {};\n      \n      // Determine how many times each attribute name is used.\n      // This helps us pick the most distinct display text for the schemas.\n      $each(arr,function(i,el) {\n        if(el.title) {\n          used[el.title] = used[el.title] || 0;\n          used[el.title]++;\n        }\n        if(el.description) {\n          used[el.description] = used[el.description] || 0;\n          used[el.description]++;\n        }\n        if(el.format) {\n          used[el.format] = used[el.format] || 0;\n          used[el.format]++;\n        }\n        if(el.type) {\n          used[el.type] = used[el.type] || 0;\n          used[el.type]++;\n        }\n      });\n      \n      // Determine display text for each element of the array\n      $each(arr,function(i,el)  {\n        var name;\n        \n        // If it's a simple string\n        if(typeof el === \"string\") name = el;\n        // Object\n        else if(el.title && used[el.title]<=1) name = el.title;\n        else if(el.format && used[el.format]<=1) name = el.format;\n        else if(el.type && used[el.type]<=1) name = el.type;\n        else if(el.description && used[el.description]<=1) name = el.descripton;\n        else if(el.title) name = el.title;\n        else if(el.format) name = el.format;\n        else if(el.type) name = el.type;\n        else if(el.description) name = el.description;\n        else if(JSON.stringify(el).length < 50) name = JSON.stringify(el);\n        else name = \"type\";\n        \n        disp.push(name);\n      });\n      \n      // Replace identical display text with \"text 1\", \"text 2\", etc.\n      var inc = {};\n      $each(disp,function(i,name) {\n        inc[name] = inc[name] || 0;\n        inc[name]++;\n        \n        if(used[name] > 1) disp[i] = name + \" \" + inc[name];\n      });\n      \n      return disp;\n    },\n    getOption: function(key) {\n      try {\n        throw \"getOption is deprecated\";\n      }\n      catch(e) {\n        window.console.error(e);\n      }\n      \n      return this.options[key];\n    },\n    showValidationErrors: function(errors) {\n  \n    }\n  });\n  \n  JSONEditor.defaults.editors[\"null\"] = JSONEditor.AbstractEditor.extend({\n    getValue: function() {\n      return null;\n    },\n    setValue: function() {\n      this.onChange();\n    },\n    getNumColumns: function() {\n      return 2;\n    }\n  });\n  \n  /*\n   * 插入自定义的一些元素\n   * @Author: CntChen\n   * @Date: 2018-04-02\n   */\n  \n  function addCustomDomByFormat() {\n    switch (this.format) {\n      case 'custom-image':\n        this.myDiv = document.createElement('div');\n        this.myDiv.innerHTML = `\n          <div style=\"display: inline-block;\">\n            <button\n              class=\"btn btn-info custom-button\"\n              data-format=\"${this.format}\"\n              data-path=\"${this.path}\"\n              style=\"margin: 5px 0 5px 20px;\"\n              >${this.translate('custom_set_image')}</button>\n          </div>\n        `;\n        this.farmImage = document.createElement('img');\n        this.farmImage.style = `\n          display: inline-block;\n          border: 1px solid #FF000050;\n          max-width: 300px;\n          max-height: 300px;\n        `;\n        this.farmImage.innerHtml = 'farm image';\n        this.myDiv.insertBefore(this.farmImage, this.myDiv.children[0]);\n        this.control.appendChild(this.myDiv);\n        break;\n      case 'custom-url':\n        this.myDiv = document.createElement('div');\n        this.myDiv.innerHTML = `\n          <div style=\"display: inline-block;\">\n            <button\n              class=\"btn btn-info custom-button\"\n              data-format=\"${this.format}\"\n              data-path=\"${this.path}\"\n              style=\"margin: 5px 0 5px 0px;\"\n              >${this.translate('custom_set_url')}</button>\n          </div>\n        `;\n        this.control.appendChild(this.myDiv);\n        break;\n      default:\n        break;\n    }\n  }\n  \n  function refreshCustomDomValue() {\n    switch (this.format) {\n      case 'custom-image':\n        if (this.farmImage) {\n          this.farmImage.src = this.value;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  \n  JSONEditor.defaults.editors.string = JSONEditor.AbstractEditor.extend({\n    register: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.setAttribute('name',this.formname);\n    },\n    unregister: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.removeAttribute('name');\n    },\n    setValue: function(value,initial,from_template) {\n      var self = this;\n      \n      if(this.template && !from_template) {\n        return;\n      }\n      \n      if(value === null || typeof value === 'undefined') value = \"\";\n      else if(typeof value === \"object\") value = JSON.stringify(value);\n      else if(typeof value !== \"string\") value = \"\"+value;\n      \n      if(value === this.serialized) return;\n  \n      // Sanitize value before setting it\n      var sanitized = this.sanitize(value);\n  \n      if(this.input.value === sanitized) {\n        return;\n      }\n  \n      this.input.value = sanitized;\n      \n      // If using SCEditor, update the WYSIWYG\n      if(this.sceditor_instance) {\n        this.sceditor_instance.val(sanitized);\n      }\n      else if(this.epiceditor) {\n        this.epiceditor.importFile(null,sanitized);\n      }\n      else if(this.ace_editor) {\n        this.ace_editor.setValue(sanitized);\n      }\n      \n      var changed = from_template || this.getValue() !== value;\n      \n      this.refreshValue();\n      \n      if(initial) this.is_dirty = false;\n      else if(this.jsoneditor.options.show_errors === \"change\") this.is_dirty = true;\n      \n      if(this.adjust_height) this.adjust_height(this.input);\n  \n      // Bubble this setValue to parents if the value changed\n      this.onChange(changed);\n    },\n    getNumColumns: function() {\n      var min = Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);\n      var num;\n      \n      if(this.input_type === 'textarea') num = 6;\n      else if(['text','email'].indexOf(this.input_type) >= 0) num = 4;\n      else num = 2;\n      \n      return Math.min(12,Math.max(min,num));\n    },\n    build: function() {\n      var self = this, i;\n      if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n  \n      this.format = this.schema.format;\n      if(!this.format && this.schema.media && this.schema.media.type) {\n        this.format = this.schema.media.type.replace(/(^(application|text)\\/(x-)?(script\\.)?)|(-source$)/g,'');\n      }\n      if(!this.format && this.options.default_format) {\n        this.format = this.options.default_format;\n      }\n      if(this.options.format) {\n        this.format = this.options.format;\n      }\n  \n      // Specific format\n      if(this.format) {\n        // Text Area\n        if(this.format === 'textarea') {\n          this.input_type = 'textarea';\n          this.input = this.theme.getTextareaInput();\n        }\n        // Range Input\n        else if(this.format === 'range') {\n          this.input_type = 'range';\n          var min = this.schema.minimum || 0;\n          var max = this.schema.maximum || Math.max(100,min+1);\n          var step = 1;\n          if(this.schema.multipleOf) {\n            if(min%this.schema.multipleOf) min = Math.ceil(min/this.schema.multipleOf)*this.schema.multipleOf;\n            if(max%this.schema.multipleOf) max = Math.floor(max/this.schema.multipleOf)*this.schema.multipleOf;\n            step = this.schema.multipleOf;\n          }\n  \n          this.input = this.theme.getRangeInput(min,max,step);\n        }\n        // Source Code\n        else if([\n            'actionscript',\n            'batchfile',\n            'bbcode',\n            'c',\n            'c++',\n            'cpp',\n            'coffee',\n            'csharp',\n            'css',\n            'dart',\n            'django',\n            'ejs',\n            'erlang',\n            'golang',\n            'groovy',\n            'handlebars',\n            'haskell',\n            'haxe',\n            'html',\n            'ini',\n            'jade',\n            'java',\n            'javascript',\n            'json',\n            'less',\n            'lisp',\n            'lua',\n            'makefile',\n            'markdown',\n            'matlab',\n            'mysql',\n            'objectivec',\n            'pascal',\n            'perl',\n            'pgsql',\n            'php',\n            'python',\n            'r',\n            'ruby',\n            'sass',\n            'scala',\n            'scss',\n            'smarty',\n            'sql',\n            'stylus',\n            'svg',\n            'twig',\n            'vbscript',\n            'xml',\n            'yaml'\n          ].indexOf(this.format) >= 0\n        ) {\n          this.input_type = this.format;\n          this.source_code = true;\n          \n          this.input = this.theme.getTextareaInput();\n        }\n        // HTML5 Input type\n        else {\n          this.input_type = this.format;\n          this.input = this.theme.getFormInputField(this.input_type);\n        }\n      }\n      // Normal text input\n      else {\n        this.input_type = 'text';\n        this.input = this.theme.getFormInputField(this.input_type);\n      }\n      \n      // minLength, maxLength, and pattern\n      if(typeof this.schema.maxLength !== \"undefined\") this.input.setAttribute('maxlength',this.schema.maxLength);\n      if(typeof this.schema.pattern !== \"undefined\") this.input.setAttribute('pattern',this.schema.pattern);\n      else if(typeof this.schema.minLength !== \"undefined\") this.input.setAttribute('pattern','.{'+this.schema.minLength+',}');\n  \n      if(this.options.compact) {\n        this.container.className += ' compact';\n      }\n      else {\n        if(this.options.input_width) this.input.style.width = this.options.input_width;\n      }\n  \n      if(this.schema.readOnly || this.schema.readonly || this.schema.template) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n  \n      this.input\n        .addEventListener('change',function(e) {        \n          e.preventDefault();\n          e.stopPropagation();\n          \n          // Don't allow changing if this field is a template\n          if(self.schema.template) {\n            this.value = self.value;\n            return;\n          }\n  \n          var val = this.value;\n          \n          // sanitize value\n          var sanitized = self.sanitize(val);\n          if(val !== sanitized) {\n            this.value = sanitized;\n          }\n          \n          self.is_dirty = true;\n  \n          self.refreshValue();\n          self.onChange(true);\n        });\n        \n      if(this.options.input_height) this.input.style.height = this.options.input_height;\n      if(this.options.expand_height) {\n        this.adjust_height = function(el) {\n          if(!el) return;\n          var i, ch=el.offsetHeight;\n          // Input too short\n          if(el.offsetHeight < el.scrollHeight) {\n            i=0;\n            while(el.offsetHeight < el.scrollHeight+3) {\n              if(i>100) break;\n              i++;\n              ch++;\n              el.style.height = ch+'px';\n            }\n          }\n          else {\n            i=0;\n            while(el.offsetHeight >= el.scrollHeight+3) {\n              if(i>100) break;\n              i++;\n              ch--;\n              el.style.height = ch+'px';\n            }\n            el.style.height = (ch+1)+'px';\n          }\n        };\n        \n        this.input.addEventListener('keyup',function(e) {\n          self.adjust_height(this);\n        });\n        this.input.addEventListener('change',function(e) {\n          self.adjust_height(this);\n        });\n        this.adjust_height();\n      }\n  \n      if(this.format) this.input.setAttribute('data-schemaformat',this.format);\n  \n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\n      this.container.appendChild(this.control);\n  \n      // Any special formatting that needs to happen after the input is added to the dom\n      window.requestAnimationFrame(function() {\n        // Skip in case the input is only a temporary editor,\n        // otherwise, in the case of an ace_editor creation,\n        // it will generate an error trying to append it to the missing parentNode\n        if(self.input.parentNode) self.afterInputReady();\n        if(self.adjust_height) self.adjust_height(self.input);\n      });\n  \n      // Compile and store the template\n      if(this.schema.template) {\n        this.template = this.jsoneditor.compileTemplate(this.schema.template, this.template_engine);\n        this.refreshValue();\n      }\n      else {\n        this.refreshValue();\n      }\n  \n      addCustomDomByFormat.apply(this);\n    },\n    enable: function() {\n      if(!this.always_disabled) {\n        this.input.disabled = false;\n        // TODO: WYSIWYG and Markdown editors\n      }\n      this._super();\n    },\n    disable: function() {\n      this.input.disabled = true;\n      // TODO: WYSIWYG and Markdown editors\n      this._super();\n    },\n    afterInputReady: function() {\n      var self = this, options;\n      \n      // Code editor\n      if(this.source_code) {      \n        // WYSIWYG html and bbcode editor\n        if(this.options.wysiwyg && \n          ['html','bbcode'].indexOf(this.input_type) >= 0 && \n          window.jQuery && window.jQuery.fn && window.jQuery.fn.sceditor\n        ) {\n          options = $extend({},{\n            plugins: self.input_type==='html'? 'xhtml' : 'bbcode',\n            emoticonsEnabled: false,\n            width: '100%',\n            height: 300\n          },JSONEditor.plugins.sceditor,self.options.sceditor_options||{});\n          \n          window.jQuery(self.input).sceditor(options);\n          \n          self.sceditor_instance = window.jQuery(self.input).sceditor('instance');\n          \n          self.sceditor_instance.blur(function() {\n            // Get editor's value\n            var val = window.jQuery(\"<div>\"+self.sceditor_instance.val()+\"</div>\");\n            // Remove sceditor spans/divs\n            window.jQuery('#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf',val).remove();\n            // Set the value and update\n            self.input.value = val.html();\n            self.value = self.input.value;\n            self.is_dirty = true;\n            self.onChange(true);\n          });\n        }\n        // EpicEditor for markdown (if it's loaded)\n        else if (this.input_type === 'markdown' && window.EpicEditor) {\n          this.epiceditor_container = document.createElement('div');\n          this.input.parentNode.insertBefore(this.epiceditor_container,this.input);\n          this.input.style.display = 'none';\n          \n          options = $extend({},JSONEditor.plugins.epiceditor,{\n            container: this.epiceditor_container,\n            clientSideStorage: false\n          });\n          \n          this.epiceditor = new window.EpicEditor(options).load();\n          \n          this.epiceditor.importFile(null,this.getValue());\n        \n          this.epiceditor.on('update',function() {\n            var val = self.epiceditor.exportFile();\n            self.input.value = val;\n            self.value = val;\n            self.is_dirty = true;\n            self.onChange(true);\n          });\n        }\n        // ACE editor for everything else\n        else if(window.ace) {\n          var mode = this.input_type;\n          // aliases for c/cpp\n          if(mode === 'cpp' || mode === 'c++' || mode === 'c') {\n            mode = 'c_cpp';\n          }\n          \n          this.ace_container = document.createElement('div');\n          this.ace_container.style.width = '100%';\n          this.ace_container.style.position = 'relative';\n          this.ace_container.style.height = '400px';\n          this.input.parentNode.insertBefore(this.ace_container,this.input);\n          this.input.style.display = 'none';\n          this.ace_editor = window.ace.edit(this.ace_container);\n          \n          this.ace_editor.setValue(this.getValue());\n          \n          // The theme\n          if(JSONEditor.plugins.ace.theme) this.ace_editor.setTheme('ace/theme/'+JSONEditor.plugins.ace.theme);\n          // The mode\n          mode = window.ace.require(\"ace/mode/\"+mode);\n          if(mode) this.ace_editor.getSession().setMode(new mode.Mode());\n          \n          // Listen for changes\n          this.ace_editor.on('change',function() {\n            var val = self.ace_editor.getValue();\n            self.input.value = val;\n            self.refreshValue();\n            self.is_dirty = true;\n            self.onChange(true);\n          });\n        }\n      }\n      \n      self.theme.afterInputReady(self.input);\n    },\n    refreshValue: function() {\n      this.value = this.input.value;\n      if(typeof this.value !== \"string\") this.value = '';\n  \n      refreshCustomDomValue.apply(this);\n  \n      this.serialized = this.value;\n    },\n    destroy: function() {\n      // If using SCEditor, destroy the editor instance\n      if(this.sceditor_instance) {\n        this.sceditor_instance.destroy();\n      }\n      else if(this.epiceditor) {\n        this.epiceditor.unload();\n      }\n      else if(this.ace_editor) {\n        this.ace_editor.destroy();\n      }\n      \n      \n      this.template = null;\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n  \n      this._super();\n    },\n    /**\n     * This is overridden in derivative editors\n     */\n    sanitize: function(value) {\n      return value;\n    },\n    /**\n     * Re-calculates the value if needed\n     */\n    onWatchedFieldChange: function() {    \n      var self = this, vars, j;\n      \n      // If this editor needs to be rendered by a macro template\n      if(this.template) {\n        vars = this.getWatchedFieldValues();\n        this.setValue(this.template(vars),false,true);\n      }\n      \n      this._super();\n    },\n    showValidationErrors: function(errors) {\n      var self = this;\n      \n      if(this.jsoneditor.options.show_errors === \"always\") {}\n      else if(!this.is_dirty && this.previous_error_setting===this.jsoneditor.options.show_errors) return;\n      \n      this.previous_error_setting = this.jsoneditor.options.show_errors;\n  \n      var messages = [];\n      $each(errors,function(i,error) {\n        if(error.path === self.path) {\n          messages.push(error.message);\n        }\n      });\n  \n      if(messages.length) {\n        this.theme.addInputError(this.input, messages.join('. ')+'.');\n      }\n      else {\n        this.theme.removeInputError(this.input);\n      }\n    }\n  });\n  \n  JSONEditor.defaults.editors.number = JSONEditor.defaults.editors.string.extend({\n    sanitize: function(value) {\n      return (value+\"\").replace(/[^0-9\\.\\-eE]/g,'');\n    },\n    getNumColumns: function() {\n      return 2;\n    },\n    getValue: function() {\n      return this.value*1;\n    }\n  });\n  \n  JSONEditor.defaults.editors.integer = JSONEditor.defaults.editors.number.extend({\n    sanitize: function(value) {\n      value = value + \"\";\n      return value.replace(/[^0-9\\-]/g,'');\n    },\n    getNumColumns: function() {\n      return 2;\n    }\n  });\n  \n  JSONEditor.defaults.editors.object = JSONEditor.AbstractEditor.extend({\n    getDefault: function() {\n      return $extend({},this.schema[\"default\"] || {});\n    },\n    getChildEditors: function() {\n      return this.editors;\n    },\n    register: function() {\n      this._super();\n      if(this.editors) {\n        for(var i in this.editors) {\n          if(!this.editors.hasOwnProperty(i)) continue;\n          this.editors[i].register();\n        }\n      }\n    },\n    unregister: function() {\n      this._super();\n      if(this.editors) {\n        for(var i in this.editors) {\n          if(!this.editors.hasOwnProperty(i)) continue;\n          this.editors[i].unregister();\n        }\n      }\n    },\n    getNumColumns: function() {\n      return Math.max(Math.min(12,this.maxwidth),3);\n    },\n    enable: function() {\n      if(this.editjson_button) this.editjson_button.disabled = false;\n      if(this.addproperty_button) this.addproperty_button.disabled = false;\n  \n      this._super();\n      if(this.editors) {\n        for(var i in this.editors) {\n          if(!this.editors.hasOwnProperty(i)) continue;\n          this.editors[i].enable();\n        }\n      }\n    },\n    disable: function() {\n      if(this.editjson_button) this.editjson_button.disabled = true;\n      if(this.addproperty_button) this.addproperty_button.disabled = true;\n      this.hideEditJSON();\n  \n      this._super();\n      if(this.editors) {\n        for(var i in this.editors) {\n          if(!this.editors.hasOwnProperty(i)) continue;\n          this.editors[i].disable();\n        }\n      }\n    },\n    layoutEditors: function() {\n      var self = this, i, j;\n  \n      if(!this.row_container) return;\n  \n      // Sort editors by propertyOrder\n      this.property_order = Object.keys(this.editors);\n      this.property_order = this.property_order.sort(function(a,b) {\n        var ordera = self.editors[a].schema.propertyOrder;\n        var orderb = self.editors[b].schema.propertyOrder;\n        if(typeof ordera !== \"number\") ordera = 1000;\n        if(typeof orderb !== \"number\") orderb = 1000;\n  \n        return ordera - orderb;\n      });\n  \n      var container;\n  \n      if(this.format === 'grid') {\n        var rows = [];\n        $each(this.property_order, function(j,key) {\n          var editor = self.editors[key];\n          if(editor.property_removed) return;\n          var found = false;\n          var width = editor.options.hidden? 0 : (editor.options.grid_columns || editor.getNumColumns());\n          var height = editor.options.hidden? 0 : editor.container.offsetHeight;\n          // See if the editor will fit in any of the existing rows first\n          for(var i=0; i<rows.length; i++) {\n            // If the editor will fit in the row horizontally\n            if(rows[i].width + width <= 12) {\n              // If the editor is close to the other elements in height\n              // i.e. Don't put a really tall editor in an otherwise short row or vice versa\n              if(!height || (rows[i].minh*0.5 < height && rows[i].maxh*2 > height)) {\n                found = i;\n              }\n            }\n          }\n  \n          // If there isn't a spot in any of the existing rows, start a new row\n          if(found === false) {\n            rows.push({\n              width: 0,\n              minh: 999999,\n              maxh: 0,\n              editors: []\n            });\n            found = rows.length-1;\n          }\n  \n          rows[found].editors.push({\n            key: key,\n            //editor: editor,\n            width: width,\n            height: height\n          });\n          rows[found].width += width;\n          rows[found].minh = Math.min(rows[found].minh,height);\n          rows[found].maxh = Math.max(rows[found].maxh,height);\n        });\n  \n        // Make almost full rows width 12\n        // Do this by increasing all editors' sizes proprotionately\n        // Any left over space goes to the biggest editor\n        // Don't touch rows with a width of 6 or less\n        for(i=0; i<rows.length; i++) {\n          if(rows[i].width < 12) {\n            var biggest = false;\n            var new_width = 0;\n            for(j=0; j<rows[i].editors.length; j++) {\n              if(biggest === false) biggest = j;\n              else if(rows[i].editors[j].width > rows[i].editors[biggest].width) biggest = j;\n              rows[i].editors[j].width *= 12/rows[i].width;\n              rows[i].editors[j].width = Math.floor(rows[i].editors[j].width);\n              new_width += rows[i].editors[j].width;\n            }\n            if(new_width < 12) rows[i].editors[biggest].width += 12-new_width;\n            rows[i].width = 12;\n          }\n        }\n  \n        // layout hasn't changed\n        if(this.layout === JSON.stringify(rows)) return false;\n        this.layout = JSON.stringify(rows);\n  \n        // Layout the form\n        container = document.createElement('div');\n        for(i=0; i<rows.length; i++) {\n          var row = this.theme.getGridRow();\n          container.appendChild(row);\n          for(j=0; j<rows[i].editors.length; j++) {\n            var key = rows[i].editors[j].key;\n            var editor = this.editors[key];\n  \n            if(editor.options.hidden) editor.container.style.display = 'none';\n            else this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width);\n            row.appendChild(editor.container);\n          }\n        }\n      }\n      // Normal layout\n      else {\n        container = document.createElement('div');\n        $each(this.property_order, function(i,key) {\n          var editor = self.editors[key];\n          if(editor.property_removed) return;\n          var row = self.theme.getGridRow();\n          container.appendChild(row);\n  \n          if(editor.options.hidden) editor.container.style.display = 'none';\n          else self.theme.setGridColumnSize(editor.container,12);\n          row.appendChild(editor.container);\n        });\n      }\n      this.row_container.innerHTML = '';\n      this.row_container.appendChild(container);\n    },\n    getPropertySchema: function(key) {\n      // Schema declared directly in properties\n      var schema = this.schema.properties[key] || {};\n      schema = $extend({},schema);\n      var matched = this.schema.properties[key]? true : false;\n  \n      // Any matching patternProperties should be merged in\n      if(this.schema.patternProperties) {\n        for(var i in this.schema.patternProperties) {\n          if(!this.schema.patternProperties.hasOwnProperty(i)) continue;\n          var regex = new RegExp(i);\n          if(regex.test(key)) {\n            schema.allOf = schema.allOf || [];\n            schema.allOf.push(this.schema.patternProperties[i]);\n            matched = true;\n          }\n        }\n      }\n  \n      // Hasn't matched other rules, use additionalProperties schema\n      if(!matched && this.schema.additionalProperties && typeof this.schema.additionalProperties === \"object\") {\n        schema = $extend({},this.schema.additionalProperties);\n      }\n  \n      return schema;\n    },\n    preBuild: function() {\n      this._super();\n  \n      this.editors = {};\n      this.cached_editors = {};\n      var self = this;\n  \n      this.format = this.options.layout || this.options.object_layout || this.schema.format || this.jsoneditor.options.object_layout || 'normal';\n  \n      this.schema.properties = this.schema.properties || {};\n  \n      this.minwidth = 0;\n      this.maxwidth = 0;\n  \n      // If the object should be rendered as a table row\n      if(this.options.table_row) {\n        $each(this.schema.properties, function(key,schema) {\n          var editor = self.jsoneditor.getEditorClass(schema);\n          self.editors[key] = self.jsoneditor.createEditor(editor,{\n            jsoneditor: self.jsoneditor,\n            schema: schema,\n            path: self.path+'.'+key,\n            parent: self,\n            compact: true,\n            required: true\n          });\n          self.editors[key].preBuild();\n  \n          var width = self.editors[key].options.hidden? 0 : (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\n  \n          self.minwidth += width;\n          self.maxwidth += width;\n        });\n        this.no_link_holder = true;\n      }\n      // If the object should be rendered as a table\n      else if(this.options.table) {\n        // TODO: table display format\n        throw \"Not supported yet\";\n      }\n      // If the object should be rendered as a div\n      else {\n        if(!this.schema.defaultProperties) {\n          if(this.jsoneditor.options.display_required_only || this.options.display_required_only) {\n            this.schema.defaultProperties = [];\n            $each(this.schema.properties, function(k,s) {\n              if(self.isRequired({key: k, schema: s})) {\n                self.schema.defaultProperties.push(k);\n              }\n            });\n          }\n          else {\n            self.schema.defaultProperties = Object.keys(self.schema.properties);\n          }\n        }\n  \n        // Increase the grid width to account for padding\n        self.maxwidth += 1;\n  \n        $each(this.schema.defaultProperties, function(i,key) {\n          self.addObjectProperty(key, true);\n  \n          if(self.editors[key]) {\n            self.minwidth = Math.max(self.minwidth,(self.editors[key].options.grid_columns || self.editors[key].getNumColumns()));\n            self.maxwidth += (self.editors[key].options.grid_columns || self.editors[key].getNumColumns());\n          }\n        });\n      }\n  \n      // Sort editors by propertyOrder\n      this.property_order = Object.keys(this.editors);\n      this.property_order = this.property_order.sort(function(a,b) {\n        var ordera = self.editors[a].schema.propertyOrder;\n        var orderb = self.editors[b].schema.propertyOrder;\n        if(typeof ordera !== \"number\") ordera = 1000;\n        if(typeof orderb !== \"number\") orderb = 1000;\n  \n        return ordera - orderb;\n      });\n    },\n    build: function() {\n      var self = this;\n  \n      // If the object should be rendered as a table row\n      if(this.options.table_row) {\n        this.editor_holder = this.container;\n        $each(this.editors, function(key,editor) {\n          var holder = self.theme.getTableCell();\n          self.editor_holder.appendChild(holder);\n  \n          editor.setContainer(holder);\n          editor.build();\n          editor.postBuild();\n  \n          if(self.editors[key].options.hidden) {\n            holder.style.display = 'none';\n          }\n          if(self.editors[key].options.input_width) {\n            holder.style.width = self.editors[key].options.input_width;\n          }\n        });\n      }\n      // If the object should be rendered as a table\n      else if(this.options.table) {\n        // TODO: table display format\n        throw \"Not supported yet\";\n      }\n      // If the object should be rendered as a div\n      else {\n        this.header = document.createElement('span');\n        this.header.textContent = this.getTitle();\n        this.title = this.theme.getHeader(this.header);\n        this.container.appendChild(this.title);\n        this.container.style.position = 'relative';\n  \n        // Edit JSON modal\n        this.editjson_holder = this.theme.getModal();\n        this.editjson_textarea = this.theme.getTextareaInput();\n        this.editjson_textarea.style.height = '170px';\n        this.editjson_textarea.style.width = '300px';\n        this.editjson_textarea.style.display = 'block';\n        this.editjson_save = this.getButton('Save','save','Save');\n        this.editjson_save.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.saveJSON();\n        });\n        this.editjson_cancel = this.getButton('Cancel','cancel','Cancel');\n        this.editjson_cancel.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.hideEditJSON();\n        });\n        this.editjson_holder.appendChild(this.editjson_textarea);\n        this.editjson_holder.appendChild(this.editjson_save);\n        this.editjson_holder.appendChild(this.editjson_cancel);\n  \n        // Manage Properties modal\n        this.addproperty_holder = this.theme.getModal();\n        this.addproperty_list = document.createElement('div');\n        this.addproperty_list.style.width = '295px';\n        this.addproperty_list.style.maxHeight = '160px';\n        this.addproperty_list.style.padding = '5px 0';\n        this.addproperty_list.style.overflowY = 'auto';\n        this.addproperty_list.style.overflowX = 'hidden';\n        this.addproperty_list.style.paddingLeft = '5px';\n        this.addproperty_list.setAttribute('class', 'property-selector');\n        this.addproperty_add = this.getButton('add','add','add');\n        this.addproperty_input = this.theme.getFormInputField('text');\n        this.addproperty_input.setAttribute('placeholder','Property name...');\n        this.addproperty_input.style.width = '220px';\n        this.addproperty_input.style.marginBottom = '0';\n        this.addproperty_input.style.display = 'inline-block';\n        this.addproperty_add.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          if(self.addproperty_input.value) {\n            if(self.editors[self.addproperty_input.value]) {\n              window.alert('there is already a property with that name');\n              return;\n            }\n  \n            self.addObjectProperty(self.addproperty_input.value);\n            if(self.editors[self.addproperty_input.value]) {\n              self.editors[self.addproperty_input.value].disable();\n            }\n            self.onChange(true);\n          }\n        });\n        this.addproperty_holder.appendChild(this.addproperty_list);\n        this.addproperty_holder.appendChild(this.addproperty_input);\n        this.addproperty_holder.appendChild(this.addproperty_add);\n        var spacer = document.createElement('div');\n        spacer.style.clear = 'both';\n        this.addproperty_holder.appendChild(spacer);\n  \n  \n        // Description\n        if(this.schema.description) {\n          this.description = this.theme.getDescription(this.schema.description);\n          this.container.appendChild(this.description);\n        }\n  \n        // Validation error placeholder area\n        this.error_holder = document.createElement('div');\n        this.container.appendChild(this.error_holder);\n  \n        // Container for child editor area\n        this.editor_holder = this.theme.getIndentedPanel();\n        this.container.appendChild(this.editor_holder);\n  \n        // Container for rows of child editors\n        this.row_container = this.theme.getGridContainer();\n        this.editor_holder.appendChild(this.row_container);\n  \n        $each(this.editors, function(key,editor) {\n          var holder = self.theme.getGridColumn();\n          self.row_container.appendChild(holder);\n  \n          editor.setContainer(holder);\n          editor.build();\n          editor.postBuild();\n        });\n  \n        // Control buttons\n        this.title_controls = this.theme.getHeaderButtonHolder();\n        this.editjson_controls = this.theme.getHeaderButtonHolder();\n        this.addproperty_controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.title_controls);\n        this.title.appendChild(this.editjson_controls);\n        this.title.appendChild(this.addproperty_controls);\n  \n        // Show/Hide button\n        this.collapsed = false;\n        this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\n        this.title_controls.appendChild(this.toggle_button);\n        this.toggle_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          if(self.collapsed) {\n            self.editor_holder.style.display = '';\n            self.collapsed = false;\n            self.setButtonText(self.toggle_button,'','collapse',self.translate('button_collapse'));\n          }\n          else {\n            self.editor_holder.style.display = 'none';\n            self.collapsed = true;\n            self.setButtonText(self.toggle_button,'','expand',self.translate('button_expand'));\n          }\n        });\n  \n        // If it should start collapsed\n        if(this.options.collapsed) {\n          $trigger(this.toggle_button,'click');\n        }\n  \n        // Collapse button disabled\n        if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n          if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n        }\n        else if(this.jsoneditor.options.disable_collapse) {\n          this.toggle_button.style.display = 'none';\n        }\n  \n        // Edit JSON Button\n        this.editjson_button = this.getButton('JSON','edit','Edit JSON');\n        this.editjson_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.toggleEditJSON();\n        });\n        this.editjson_controls.appendChild(this.editjson_button);\n        this.editjson_controls.appendChild(this.editjson_holder);\n  \n        // Edit JSON Buttton disabled\n        if(this.schema.options && typeof this.schema.options.disable_edit_json !== \"undefined\") {\n          if(this.schema.options.disable_edit_json) this.editjson_button.style.display = 'none';\n        }\n        else if(this.jsoneditor.options.disable_edit_json) {\n          this.editjson_button.style.display = 'none';\n        }\n  \n        // Object Properties Button\n        this.addproperty_button = this.getButton('Properties','edit','Object Properties');\n        this.addproperty_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.toggleAddProperty();\n        });\n        this.addproperty_controls.appendChild(this.addproperty_button);\n        this.addproperty_controls.appendChild(this.addproperty_holder);\n        this.refreshAddProperties();\n      }\n  \n      // Fix table cell ordering\n      if(this.options.table_row) {\n        this.editor_holder = this.container;\n        $each(this.property_order,function(i,key) {\n          self.editor_holder.appendChild(self.editors[key].container);\n        });\n      }\n      // Layout object editors in grid if needed\n      else {\n        // Initial layout\n        this.layoutEditors();\n        // Do it again now that we know the approximate heights of elements\n        this.layoutEditors();\n      }\n    },\n    showEditJSON: function() {\n      if(!this.editjson_holder) return;\n      this.hideAddProperty();\n  \n      // Position the form directly beneath the button\n      // TODO: edge detection\n      this.editjson_holder.style.left = this.editjson_button.offsetLeft+\"px\";\n      this.editjson_holder.style.top = this.editjson_button.offsetTop + this.editjson_button.offsetHeight+\"px\";\n  \n      // Start the textarea with the current value\n      this.editjson_textarea.value = JSON.stringify(this.getValue(),null,2);\n  \n      // Disable the rest of the form while editing JSON\n      this.disable();\n  \n      this.editjson_holder.style.display = '';\n      this.editjson_button.disabled = false;\n      this.editing_json = true;\n    },\n    hideEditJSON: function() {\n      if(!this.editjson_holder) return;\n      if(!this.editing_json) return;\n  \n      this.editjson_holder.style.display = 'none';\n      this.enable();\n      this.editing_json = false;\n    },\n    saveJSON: function() {\n      if(!this.editjson_holder) return;\n  \n      try {\n        var json = JSON.parse(this.editjson_textarea.value);\n        this.setValue(json);\n        this.hideEditJSON();\n      }\n      catch(e) {\n        window.alert('invalid JSON');\n        throw e;\n      }\n    },\n    toggleEditJSON: function() {\n      if(this.editing_json) this.hideEditJSON();\n      else this.showEditJSON();\n    },\n    insertPropertyControlUsingPropertyOrder: function (property, control, container) {\n      var propertyOrder;\n      if (this.schema.properties[property])\n        propertyOrder = this.schema.properties[property].propertyOrder;\n      if (typeof propertyOrder !== \"number\") propertyOrder = 1000;\n      control.propertyOrder = propertyOrder;\n  \n      for (var i = 0; i < container.childNodes.length; i++) {\n        var child = container.childNodes[i];\n        if (control.propertyOrder < child.propertyOrder) {\n          this.addproperty_list.insertBefore(control, child);\n          control = null;\n          break;\n        }\n      }\n      if (control) {\n        this.addproperty_list.appendChild(control);\n      }\n    },\n    addPropertyCheckbox: function(key) {\n      var self = this;\n      var checkbox, label, labelText, control;\n  \n      checkbox = self.theme.getCheckbox();\n      checkbox.style.width = 'auto';\n  \n      if (this.schema.properties[key] && this.schema.properties[key].title)\n        labelText = this.schema.properties[key].title;\n      else\n        labelText = key;\n  \n      label = self.theme.getCheckboxLabel(labelText);\n  \n      control = self.theme.getFormControl(label,checkbox);\n      control.style.paddingBottom = control.style.marginBottom = control.style.paddingTop = control.style.marginTop = 0;\n      control.style.height = 'auto';\n      //control.style.overflowY = 'hidden';\n  \n      this.insertPropertyControlUsingPropertyOrder(key, control, this.addproperty_list);\n  \n      checkbox.checked = key in this.editors;\n      checkbox.addEventListener('change',function() {\n        if(checkbox.checked) {\n          self.addObjectProperty(key);\n        }\n        else {\n          self.removeObjectProperty(key);\n        }\n        self.onChange(true);\n      });\n      self.addproperty_checkboxes[key] = checkbox;\n  \n      return checkbox;\n    },\n    showAddProperty: function() {\n      if(!this.addproperty_holder) return;\n      this.hideEditJSON();\n  \n      // Position the form directly beneath the button\n      // TODO: edge detection\n      this.addproperty_holder.style.left = this.addproperty_button.offsetLeft+\"px\";\n      this.addproperty_holder.style.top = this.addproperty_button.offsetTop + this.addproperty_button.offsetHeight+\"px\";\n  \n      // Disable the rest of the form while editing JSON\n      this.disable();\n  \n      this.adding_property = true;\n      this.addproperty_button.disabled = false;\n      this.addproperty_holder.style.display = '';\n      this.refreshAddProperties();\n    },\n    hideAddProperty: function() {\n      if(!this.addproperty_holder) return;\n      if(!this.adding_property) return;\n  \n      this.addproperty_holder.style.display = 'none';\n      this.enable();\n  \n      this.adding_property = false;\n    },\n    toggleAddProperty: function() {\n      if(this.adding_property) this.hideAddProperty();\n      else this.showAddProperty();\n    },\n    removeObjectProperty: function(property) {\n      if(this.editors[property]) {\n        this.editors[property].unregister();\n        delete this.editors[property];\n  \n        this.refreshValue();\n        this.layoutEditors();\n      }\n    },\n    addObjectProperty: function(name, prebuild_only) {\n      var self = this;\n  \n      // Property is already added\n      if(this.editors[name]) return;\n  \n      // Property was added before and is cached\n      if(this.cached_editors[name]) {\n        this.editors[name] = this.cached_editors[name];\n        if(prebuild_only) return;\n        this.editors[name].register();\n      }\n      // New property\n      else {\n        if(!this.canHaveAdditionalProperties() && (!this.schema.properties || !this.schema.properties[name])) {\n          return;\n        }\n  \n        var schema = self.getPropertySchema(name);\n  \n  \n        // Add the property\n        var editor = self.jsoneditor.getEditorClass(schema);\n  \n        self.editors[name] = self.jsoneditor.createEditor(editor,{\n          jsoneditor: self.jsoneditor,\n          schema: schema,\n          path: self.path+'.'+name,\n          parent: self\n        });\n        self.editors[name].preBuild();\n  \n        if(!prebuild_only) {\n          var holder = self.theme.getChildEditorHolder();\n          self.editor_holder.appendChild(holder);\n          self.editors[name].setContainer(holder);\n          self.editors[name].build();\n          self.editors[name].postBuild();\n        }\n  \n        self.cached_editors[name] = self.editors[name];\n      }\n  \n      // If we're only prebuilding the editors, don't refresh values\n      if(!prebuild_only) {\n        self.refreshValue();\n        self.layoutEditors();\n      }\n    },\n    onChildEditorChange: function(editor) {\n      this.refreshValue();\n      this._super(editor);\n    },\n    canHaveAdditionalProperties: function() {\n      if (typeof this.schema.additionalProperties === \"boolean\") {\n        return this.schema.additionalProperties;\n      }\n      return !this.jsoneditor.options.no_additional_properties;\n    },\n    destroy: function() {\n      $each(this.cached_editors, function(i,el) {\n        el.destroy();\n      });\n      if(this.editor_holder) this.editor_holder.innerHTML = '';\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.error_holder && this.error_holder.parentNode) this.error_holder.parentNode.removeChild(this.error_holder);\n  \n      this.editors = null;\n      this.cached_editors = null;\n      if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n      this.editor_holder = null;\n  \n      this._super();\n    },\n    getValue: function() {\n      var result = this._super();\n      if(this.jsoneditor.options.remove_empty_properties || this.options.remove_empty_properties) {\n        for(var i in result) {\n          if(result.hasOwnProperty(i)) {\n            if(!result[i]) delete result[i];\n          }\n        }\n      }\n      return result;\n    },\n    refreshValue: function() {\n      this.value = {};\n      var self = this;\n  \n      for(var i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        this.value[i] = this.editors[i].getValue();\n      }\n      \n      if(this.adding_property) this.refreshAddProperties();\n    },\n    refreshAddProperties: function() {\n      if(this.options.disable_properties || (this.options.disable_properties !== false && this.jsoneditor.options.disable_properties)) {\n        this.addproperty_controls.style.display = 'none';\n        return;\n      }\n  \n      var can_add = false, can_remove = false, num_props = 0, i, show_modal = false;\n  \n      // Get number of editors\n      for(i in this.editors) {\n        if(!this.editors.hasOwnProperty(i)) continue;\n        num_props++;\n      }\n  \n      // Determine if we can add back removed properties\n      can_add = this.canHaveAdditionalProperties() && !(typeof this.schema.maxProperties !== \"undefined\" && num_props >= this.schema.maxProperties);\n  \n      if(this.addproperty_checkboxes) {\n        this.addproperty_list.innerHTML = '';\n      }\n      this.addproperty_checkboxes = {};\n  \n      // Check for which editors can't be removed or added back\n      for(i in this.cached_editors) {\n        if(!this.cached_editors.hasOwnProperty(i)) continue;\n  \n        this.addPropertyCheckbox(i);\n  \n        if(this.isRequired(this.cached_editors[i]) && i in this.editors) {\n          this.addproperty_checkboxes[i].disabled = true;\n        }\n  \n        if(typeof this.schema.minProperties !== \"undefined\" && num_props <= this.schema.minProperties) {\n          this.addproperty_checkboxes[i].disabled = this.addproperty_checkboxes[i].checked;\n          if(!this.addproperty_checkboxes[i].checked) show_modal = true;\n        }\n        else if(!(i in this.editors)) {\n          if(!can_add  && !this.schema.properties.hasOwnProperty(i)) {\n            this.addproperty_checkboxes[i].disabled = true;\n          }\n          else {\n            this.addproperty_checkboxes[i].disabled = false;\n            show_modal = true;\n          }\n        }\n        else {\n          show_modal = true;\n          can_remove = true;\n        }\n      }\n  \n      if(this.canHaveAdditionalProperties()) {\n        show_modal = true;\n      }\n  \n      // Additional addproperty checkboxes not tied to a current editor\n      for(i in this.schema.properties) {\n        if(!this.schema.properties.hasOwnProperty(i)) continue;\n        if(this.cached_editors[i]) continue;\n        show_modal = true;\n        this.addPropertyCheckbox(i);\n      }\n  \n      // If no editors can be added or removed, hide the modal button\n      if(!show_modal) {\n        this.hideAddProperty();\n        this.addproperty_controls.style.display = 'none';\n      }\n      // If additional properties are disabled\n      else if(!this.canHaveAdditionalProperties()) {\n        this.addproperty_add.style.display = 'none';\n        this.addproperty_input.style.display = 'none';\n      }\n      // If no new properties can be added\n      else if(!can_add) {\n        this.addproperty_add.disabled = true;\n      }\n      // If new properties can be added\n      else {\n        this.addproperty_add.disabled = false;\n      }\n    },\n    isRequired: function(editor) {\n      if(typeof editor.schema.required === \"boolean\") return editor.schema.required;\n      else if(Array.isArray(this.schema.required)) return this.schema.required.indexOf(editor.key) > -1;\n      else if(this.jsoneditor.options.required_by_default) return true;\n      else return false;\n    },\n    setValue: function(value, initial) {\n      var self = this;\n      value = value || {};\n  \n      if(typeof value !== \"object\" || Array.isArray(value)) value = {};\n  \n      // First, set the values for all of the defined properties\n      $each(this.cached_editors, function(i,editor) {\n        // Value explicitly set\n        if(typeof value[i] !== \"undefined\") {\n          self.addObjectProperty(i);\n          editor.setValue(value[i],initial);\n        }\n        // Otherwise, remove value unless this is the initial set or it's required\n        else if(!initial && !self.isRequired(editor)) {\n          self.removeObjectProperty(i);\n        }\n        // Otherwise, set the value to the default\n        else {\n          editor.setValue(editor.getDefault(),initial);\n        }\n      });\n  \n      $each(value, function(i,val) {\n        if(!self.cached_editors[i]) {\n          self.addObjectProperty(i);\n          if(self.editors[i]) self.editors[i].setValue(val,initial);\n        }\n      });\n  \n      this.refreshValue();\n      this.layoutEditors();\n      this.onChange();\n    },\n    showValidationErrors: function(errors) {\n      var self = this;\n  \n      // Get all the errors that pertain to this editor\n      var my_errors = [];\n      var other_errors = [];\n      $each(errors, function(i,error) {\n        if(error.path === self.path) {\n          my_errors.push(error);\n        }\n        else {\n          other_errors.push(error);\n        }\n      });\n  \n      // Show errors for this editor\n      if(this.error_holder) {\n        if(my_errors.length) {\n          var message = [];\n          this.error_holder.innerHTML = '';\n          this.error_holder.style.display = '';\n          $each(my_errors, function(i,error) {\n            self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n          });\n        }\n        // Hide error area\n        else {\n          this.error_holder.style.display = 'none';\n        }\n      }\n  \n      // Show error for the table row if this is inside a table\n      if(this.options.table_row) {\n        if(my_errors.length) {\n          this.theme.addTableRowError(this.container);\n        }\n        else {\n          this.theme.removeTableRowError(this.container);\n        }\n      }\n  \n      // Show errors for child editors\n      $each(this.editors, function(i,editor) {\n        editor.showValidationErrors(other_errors);\n      });\n    }\n  });\n  \n  JSONEditor.defaults.editors.array = JSONEditor.AbstractEditor.extend({\n    getDefault: function() {\n      return this.schema[\"default\"] || [];\n    },\n    register: function() {\n      this._super();\n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].register();\n        }\n      }\n    },\n    unregister: function() {\n      this._super();\n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].unregister();\n        }\n      }\n    },\n    getNumColumns: function() {\n      var info = this.getItemInfo(0);\n      // Tabs require extra horizontal space\n      if(this.tabs_holder) {\n        return Math.max(Math.min(12,info.width+2),4);\n      }\n      else {\n        return info.width;\n      }\n    },\n    enable: function() {\n      if(this.add_row_button) this.add_row_button.disabled = false;\n      if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = false;\n      if(this.delete_last_row_button) this.delete_last_row_button.disabled = false;\n      \n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].enable();\n          \n          if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = false;\n          if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = false;\n          if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = false;\n        }\n      }\n      this._super();\n    },\n    disable: function() {\n      if(this.add_row_button) this.add_row_button.disabled = true;\n      if(this.remove_all_rows_button) this.remove_all_rows_button.disabled = true;\n      if(this.delete_last_row_button) this.delete_last_row_button.disabled = true;\n  \n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].disable();\n          \n          if(this.rows[i].moveup_button) this.rows[i].moveup_button.disabled = true;\n          if(this.rows[i].movedown_button) this.rows[i].movedown_button.disabled = true;\n          if(this.rows[i].delete_button) this.rows[i].delete_button.disabled = true;\n        }\n      }\n      this._super();\n    },\n    preBuild: function() {\n      this._super();\n      \n      this.rows = [];\n      this.row_cache = [];\n  \n      this.hide_delete_buttons = this.options.disable_array_delete || this.jsoneditor.options.disable_array_delete;\n      this.hide_delete_all_rows_buttons = this.hide_delete_buttons || this.options.disable_array_delete_all_rows || this.jsoneditor.options.disable_array_delete_all_rows;\n      this.hide_delete_last_row_buttons = this.hide_delete_buttons || this.options.disable_array_delete_last_row || this.jsoneditor.options.disable_array_delete_last_row;\n      this.hide_move_buttons = this.options.disable_array_reorder || this.jsoneditor.options.disable_array_reorder;\n      this.hide_add_button = this.options.disable_array_add || this.jsoneditor.options.disable_array_add;\n    },\n    build: function() {\n      var self = this;\n  \n      if(!this.options.compact) {\n        this.header = document.createElement('span');\n        this.header.textContent = this.getTitle();\n        this.title = this.theme.getHeader(this.header);\n        this.container.appendChild(this.title);\n        this.title_controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.title_controls);\n        if(this.schema.description) {\n          this.description = this.theme.getDescription(this.schema.description);\n          this.container.appendChild(this.description);\n        }\n        this.error_holder = document.createElement('div');\n        this.container.appendChild(this.error_holder);\n  \n        if(this.schema.format === 'tabs') {\n          this.controls = this.theme.getHeaderButtonHolder();\n          this.title.appendChild(this.controls);\n          this.tabs_holder = this.theme.getTabHolder();\n          this.container.appendChild(this.tabs_holder);\n          this.row_holder = this.theme.getTabContentHolder(this.tabs_holder);\n  \n          this.active_tab = null;\n        }\n        else {\n          this.panel = this.theme.getIndentedPanel();\n          this.container.appendChild(this.panel);\n          this.row_holder = document.createElement('div');\n          this.panel.appendChild(this.row_holder);\n          this.controls = this.theme.getButtonHolder();\n          this.panel.appendChild(this.controls);\n        }\n      }\n      else {\n          this.panel = this.theme.getIndentedPanel();\n          this.container.appendChild(this.panel);\n          this.controls = this.theme.getButtonHolder();\n          this.panel.appendChild(this.controls);\n          this.row_holder = document.createElement('div');\n          this.panel.appendChild(this.row_holder);\n      }\n  \n      // Add controls\n      this.addControls();\n    },\n    onChildEditorChange: function(editor) {\n      this.refreshValue();\n      this.refreshTabs(true);\n      this._super(editor);\n    },\n    getItemTitle: function() {\n      if(!this.item_title) {\n        if(this.schema.items && !Array.isArray(this.schema.items)) {\n          var tmp = this.jsoneditor.expandRefs(this.schema.items);\n          this.item_title = tmp.title || 'item';\n        }\n        else {\n          this.item_title = 'item';\n        }\n      }\n      return this.item_title;\n    },\n    getItemSchema: function(i) {\n      if(Array.isArray(this.schema.items)) {\n        if(i >= this.schema.items.length) {\n          if(this.schema.additionalItems===true) {\n            return {};\n          }\n          else if(this.schema.additionalItems) {\n            return $extend({},this.schema.additionalItems);\n          }\n        }\n        else {\n          return $extend({},this.schema.items[i]);\n        }\n      }\n      else if(this.schema.items) {\n        return $extend({},this.schema.items);\n      }\n      else {\n        return {};\n      }\n    },\n    getItemInfo: function(i) {\n      var schema = this.getItemSchema(i);\n      \n      // Check if it's cached\n      this.item_info = this.item_info || {};\n      var stringified = JSON.stringify(schema);\n      if(typeof this.item_info[stringified] !== \"undefined\") return this.item_info[stringified];\n      \n      // Get the schema for this item\n      schema = this.jsoneditor.expandRefs(schema);\n        \n      this.item_info[stringified] = {\n        title: schema.title || \"item\",\n        'default': schema[\"default\"],\n        width: 12,\n        child_editors: schema.properties || schema.items\n      };\n      \n      return this.item_info[stringified];\n    },\n    getElementEditor: function(i) {\n      var item_info = this.getItemInfo(i);\n      var schema = this.getItemSchema(i);\n      schema = this.jsoneditor.expandRefs(schema);\n      schema.title = item_info.title+' '+(i+1);\n  \n      var editor = this.jsoneditor.getEditorClass(schema);\n  \n      var holder;\n      if(this.tabs_holder) {\n        holder = this.theme.getTabContent();\n      }\n      else if(item_info.child_editors) {\n        holder = this.theme.getChildEditorHolder();\n      }\n      else {\n        holder = this.theme.getIndentedPanel();\n      }\n  \n      this.row_holder.appendChild(holder);\n  \n      var ret = this.jsoneditor.createEditor(editor,{\n        jsoneditor: this.jsoneditor,\n        schema: schema,\n        container: holder,\n        path: this.path+'.'+i,\n        parent: this,\n        required: true\n      });\n      ret.preBuild();\n      ret.build();\n      ret.postBuild();\n  \n      if(!ret.title_controls) {\n        ret.array_controls = this.theme.getButtonHolder();\n        holder.appendChild(ret.array_controls);\n      }\n      \n      return ret;\n    },\n    destroy: function() {\n      this.empty(true);\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n      if(this.controls && this.controls.parentNode) this.controls.parentNode.removeChild(this.controls);\n      if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n      \n      this.rows = this.row_cache = this.title = this.description = this.row_holder = this.panel = this.controls = null;\n  \n      this._super();\n    },\n    empty: function(hard) {\n      if(!this.rows) return;\n      var self = this;\n      $each(this.rows,function(i,row) {\n        if(hard) {\n          if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n          self.destroyRow(row,true);\n          self.row_cache[i] = null;\n        }\n        self.rows[i] = null;\n      });\n      self.rows = [];\n      if(hard) self.row_cache = [];\n    },\n    destroyRow: function(row,hard) {\n      var holder = row.container;\n      if(hard) {\n        row.destroy();\n        if(holder.parentNode) holder.parentNode.removeChild(holder);\n        if(row.tab && row.tab.parentNode) row.tab.parentNode.removeChild(row.tab);\n      }\n      else {\n        if(row.tab) row.tab.style.display = 'none';\n        holder.style.display = 'none';\n        row.unregister();\n      }\n    },\n    getMax: function() {\n      if((Array.isArray(this.schema.items)) && this.schema.additionalItems === false) {\n        return Math.min(this.schema.items.length,this.schema.maxItems || Infinity);\n      }\n      else {\n        return this.schema.maxItems || Infinity;\n      }\n    },\n    refreshTabs: function(refresh_headers) {\n      var self = this;\n      $each(this.rows, function(i,row) {\n        if(!row.tab) return;\n  \n        if(refresh_headers) {\n          row.tab_text.textContent = row.getHeaderText();\n        }\n        else {\n          if(row.tab === self.active_tab) {\n            self.theme.markTabActive(row.tab);\n            row.container.style.display = '';\n          }\n          else {\n            self.theme.markTabInactive(row.tab);\n            row.container.style.display = 'none';\n          }\n        }\n      });\n    },\n    setValue: function(value, initial) {\n      // Update the array's value, adding/removing rows when necessary\n      value = value || [];\n      \n      if(!(Array.isArray(value))) value = [value];\n      \n      var serialized = JSON.stringify(value);\n      if(serialized === this.serialized) return;\n  \n      // Make sure value has between minItems and maxItems items in it\n      if(this.schema.minItems) {\n        while(value.length < this.schema.minItems) {\n          value.push(this.getItemInfo(value.length)[\"default\"]);\n        }\n      }\n      if(this.getMax() && value.length > this.getMax()) {\n        value = value.slice(0,this.getMax());\n      }\n  \n      var self = this;\n      $each(value,function(i,val) {\n        if(self.rows[i]) {\n          // TODO: don't set the row's value if it hasn't changed\n          self.rows[i].setValue(val,initial);\n        }\n        else if(self.row_cache[i]) {\n          self.rows[i] = self.row_cache[i];\n          self.rows[i].setValue(val,initial);\n          self.rows[i].container.style.display = '';\n          if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n          self.rows[i].register();\n        }\n        else {\n          self.addRow(val,initial);\n        }\n      });\n  \n      for(var j=value.length; j<self.rows.length; j++) {\n        self.destroyRow(self.rows[j]);\n        self.rows[j] = null;\n      }\n      self.rows = self.rows.slice(0,value.length);\n  \n      // Set the active tab\n      var new_active_tab = null;\n      $each(self.rows, function(i,row) {\n        if(row.tab === self.active_tab) {\n          new_active_tab = row.tab;\n          return false;\n        }\n      });\n      if(!new_active_tab && self.rows.length) new_active_tab = self.rows[0].tab;\n  \n      self.active_tab = new_active_tab;\n  \n      self.refreshValue(initial);\n      self.refreshTabs(true);\n      self.refreshTabs();\n  \n      self.onChange();\n      \n      // TODO: sortable\n    },\n    refreshValue: function(force) {\n      var self = this;\n      var oldi = this.value? this.value.length : 0;\n      this.value = [];\n  \n      $each(this.rows,function(i,editor) {\n        // Get the value for this editor\n        self.value[i] = editor.getValue();\n      });\n      \n      if(oldi !== this.value.length || force) {\n        // If we currently have minItems items in the array\n        var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n        \n        $each(this.rows,function(i,editor) {\n          // Hide the move down button for the last row\n          if(editor.movedown_button) {\n            if(i === self.rows.length - 1) {\n              editor.movedown_button.style.display = 'none';\n            }\n            else {\n              editor.movedown_button.style.display = '';\n            }\n          }\n  \n          // Hide the delete button if we have minItems items\n          if(editor.delete_button) {\n            if(minItems) {\n              editor.delete_button.style.display = 'none';\n            }\n            else {\n              editor.delete_button.style.display = '';\n            }\n          }\n  \n          // Get the value for this editor\n          self.value[i] = editor.getValue();\n        });\n        \n        var controls_needed = false;\n        \n        if(!this.value.length) {\n          this.delete_last_row_button.style.display = 'none';\n          this.remove_all_rows_button.style.display = 'none';\n        }\n        else if(this.value.length === 1) {      \n          this.remove_all_rows_button.style.display = 'none';  \n  \n          // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n          if(minItems || this.hide_delete_last_row_buttons) {\n            this.delete_last_row_button.style.display = 'none';\n          }\n          else {\n            this.delete_last_row_button.style.display = '';\n            controls_needed = true;\n          }\n        }\n        else {\n          if(minItems || this.hide_delete_last_row_buttons) {\n            this.delete_last_row_button.style.display = 'none';\n          }\n          else {\n            this.delete_last_row_button.style.display = '';\n            controls_needed = true;\n          }\n  \n          if(minItems || this.hide_delete_all_rows_buttons) {\n            this.remove_all_rows_button.style.display = 'none';\n          }\n          else {\n            this.remove_all_rows_button.style.display = '';\n            controls_needed = true;\n          }\n        }\n  \n        // If there are maxItems in the array, hide the add button beneath the rows\n        if((this.getMax() && this.getMax() <= this.rows.length) || this.hide_add_button){\n          this.add_row_button.style.display = 'none';\n        }\n        else {\n          this.add_row_button.style.display = '';\n          controls_needed = true;\n        } \n        \n        if(!this.collapsed && controls_needed) {\n          this.controls.style.display = 'inline-block';\n        }\n        else {\n          this.controls.style.display = 'none';\n        }\n      }\n    },\n    addRow: function(value, initial) {\n      var self = this;\n      var i = this.rows.length;\n      \n      self.rows[i] = this.getElementEditor(i);\n      self.row_cache[i] = self.rows[i];\n  \n      if(self.tabs_holder) {\n        self.rows[i].tab_text = document.createElement('span');\n        self.rows[i].tab_text.textContent = self.rows[i].getHeaderText();\n        self.rows[i].tab = self.theme.getTab(self.rows[i].tab_text);\n        self.rows[i].tab.addEventListener('click', function(e) {\n          self.active_tab = self.rows[i].tab;\n          self.refreshTabs();\n          e.preventDefault();\n          e.stopPropagation();\n        });\n  \n        self.theme.addTab(self.tabs_holder, self.rows[i].tab);\n      }\n      \n      var controls_holder = self.rows[i].title_controls || self.rows[i].array_controls;\n      \n      // Buttons to delete row, move row up, and move row down\n      if(!self.hide_delete_buttons) {\n        self.rows[i].delete_button = this.getButton(self.getItemTitle(),'delete',this.translate('button_delete_row_title',[self.getItemTitle()]));\n        self.rows[i].delete_button.className += ' delete';\n        self.rows[i].delete_button.setAttribute('data-i',i);\n        self.rows[i].delete_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n  \n          var value = self.getValue();\n  \n          var newval = [];\n          var new_active_tab = null;\n          $each(value,function(j,row) {\n            if(j===i) {\n              // If the one we're deleting is the active tab\n              if(self.rows[j].tab === self.active_tab) {\n                // Make the next tab active if there is one\n                // Note: the next tab is going to be the current tab after deletion\n                if(self.rows[j+1]) new_active_tab = self.rows[j].tab;\n                // Otherwise, make the previous tab active if there is one\n                else if(j) new_active_tab = self.rows[j-1].tab;\n              }\n              \n              return; // If this is the one we're deleting\n            }\n            newval.push(row);\n          });\n          self.setValue(newval);\n          if(new_active_tab) {\n            self.active_tab = new_active_tab;\n            self.refreshTabs();\n          }\n  \n          self.onChange(true);\n        });\n        \n        if(controls_holder) {\n          controls_holder.appendChild(self.rows[i].delete_button);\n        }\n      }\n      \n      if(i && !self.hide_move_buttons) {\n        self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\n        self.rows[i].moveup_button.className += ' moveup';\n        self.rows[i].moveup_button.setAttribute('data-i',i);\n        self.rows[i].moveup_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n  \n          if(i<=0) return;\n          var rows = self.getValue();\n          var tmp = rows[i-1];\n          rows[i-1] = rows[i];\n          rows[i] = tmp;\n  \n          self.setValue(rows);\n          self.active_tab = self.rows[i-1].tab;\n          self.refreshTabs();\n  \n          self.onChange(true);\n        });\n        \n        if(controls_holder) {\n          controls_holder.appendChild(self.rows[i].moveup_button);\n        }\n      }\n      \n      if(!self.hide_move_buttons) {\n        self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\n        self.rows[i].movedown_button.className += ' movedown';\n        self.rows[i].movedown_button.setAttribute('data-i',i);\n        self.rows[i].movedown_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n  \n          var rows = self.getValue();\n          if(i>=rows.length-1) return;\n          var tmp = rows[i+1];\n          rows[i+1] = rows[i];\n          rows[i] = tmp;\n  \n          self.setValue(rows);\n          self.active_tab = self.rows[i+1].tab;\n          self.refreshTabs();\n          self.onChange(true);\n        });\n        \n        if(controls_holder) {\n          controls_holder.appendChild(self.rows[i].movedown_button);\n        }\n      }\n  \n      if(value) self.rows[i].setValue(value, initial);\n      self.refreshTabs();\n    },\n    addControls: function() {\n      var self = this;\n      \n      this.collapsed = false;\n      this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\n      this.title_controls.appendChild(this.toggle_button);\n      var row_holder_display = self.row_holder.style.display;\n      var controls_display = self.controls.style.display;\n      this.toggle_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if(self.collapsed) {\n          self.collapsed = false;\n          if(self.panel) self.panel.style.display = '';\n          self.row_holder.style.display = row_holder_display;\n          if(self.tabs_holder) self.tabs_holder.style.display = '';\n          self.controls.style.display = controls_display;\n          self.setButtonText(this,'','collapse',self.translate('button_collapse'));\n        }\n        else {\n          self.collapsed = true;\n          self.row_holder.style.display = 'none';\n          if(self.tabs_holder) self.tabs_holder.style.display = 'none';\n          self.controls.style.display = 'none';\n          if(self.panel) self.panel.style.display = 'none';\n          self.setButtonText(this,'','expand',self.translate('button_expand'));\n        }\n      });\n  \n      // If it should start collapsed\n      if(this.options.collapsed) {\n        $trigger(this.toggle_button,'click');\n      }\n      \n      // Collapse button disabled\n      if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n        if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n      }\n      else if(this.jsoneditor.options.disable_collapse) {\n        this.toggle_button.style.display = 'none';\n      }\n      \n      // Add \"new row\" and \"delete last\" buttons below editor\n      this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\n      \n      this.add_row_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var i = self.rows.length;\n        if(self.row_cache[i]) {\n          self.rows[i] = self.row_cache[i];\n          self.rows[i].setValue(self.rows[i].getDefault(), true);\n          self.rows[i].container.style.display = '';\n          if(self.rows[i].tab) self.rows[i].tab.style.display = '';\n          self.rows[i].register();\n        }\n        else {\n          self.addRow();\n        }\n        self.active_tab = self.rows[i].tab;\n        self.refreshTabs();\n        self.refreshValue();\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.add_row_button);\n  \n      this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\n      this.delete_last_row_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var rows = self.getValue();\n        \n        var new_active_tab = null;\n        if(self.rows.length > 1 && self.rows[self.rows.length-1].tab === self.active_tab) new_active_tab = self.rows[self.rows.length-2].tab;\n        \n        rows.pop();\n        self.setValue(rows);\n        if(new_active_tab) {\n          self.active_tab = new_active_tab;\n          self.refreshTabs();\n        }\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.delete_last_row_button);\n  \n      this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\n      this.remove_all_rows_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.setValue([]);\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.remove_all_rows_button);\n  \n      if(self.tabs) {\n        this.add_row_button.style.width = '100%';\n        this.add_row_button.style.textAlign = 'left';\n        this.add_row_button.style.marginBottom = '3px';\n        \n        this.delete_last_row_button.style.width = '100%';\n        this.delete_last_row_button.style.textAlign = 'left';\n        this.delete_last_row_button.style.marginBottom = '3px';\n        \n        this.remove_all_rows_button.style.width = '100%';\n        this.remove_all_rows_button.style.textAlign = 'left';\n        this.remove_all_rows_button.style.marginBottom = '3px';\n      }\n    },\n    showValidationErrors: function(errors) {\n      var self = this;\n  \n      // Get all the errors that pertain to this editor\n      var my_errors = [];\n      var other_errors = [];\n      $each(errors, function(i,error) {\n        if(error.path === self.path) {\n          my_errors.push(error);\n        }\n        else {\n          other_errors.push(error);\n        }\n      });\n  \n      // Show errors for this editor\n      if(this.error_holder) {\n        if(my_errors.length) {\n          var message = [];\n          this.error_holder.innerHTML = '';\n          this.error_holder.style.display = '';\n          $each(my_errors, function(i,error) {\n            self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n          });\n        }\n        // Hide error area\n        else {\n          this.error_holder.style.display = 'none';\n        }\n      }\n  \n      // Show errors for child editors\n      $each(this.rows, function(i,row) {\n        row.showValidationErrors(other_errors);\n      });\n    }\n  });\n  \n  JSONEditor.defaults.editors.table = JSONEditor.defaults.editors.array.extend({\n    register: function() {\n      this._super();\n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].register();\n        }\n      }\n    },\n    unregister: function() {\n      this._super();\n      if(this.rows) {\n        for(var i=0; i<this.rows.length; i++) {\n          this.rows[i].unregister();\n        }\n      }\n    },\n    getNumColumns: function() {\n      return Math.max(Math.min(12,this.width),3);\n    },\n    preBuild: function() {\n      var item_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n  \n      this.item_title = item_schema.title || 'row';\n      this.item_default = item_schema[\"default\"] || null;\n      this.item_has_child_editors = item_schema.properties || item_schema.items;\n      this.width = 12;\n      this._super();\n    },\n    build: function() {\n      var self = this;\n      this.table = this.theme.getTable();\n      this.container.appendChild(this.table);\n      this.thead = this.theme.getTableHead();\n      this.table.appendChild(this.thead);\n      this.header_row = this.theme.getTableRow();\n      this.thead.appendChild(this.header_row);\n      this.row_holder = this.theme.getTableBody();\n      this.table.appendChild(this.row_holder);\n  \n      // Determine the default value of array element\n      var tmp = this.getElementEditor(0,true);\n      this.item_default = tmp.getDefault();\n      this.width = tmp.getNumColumns() + 2;\n  \n      if(!this.options.compact) {\n        this.title = this.theme.getHeader(this.getTitle());\n        this.container.appendChild(this.title);\n        this.title_controls = this.theme.getHeaderButtonHolder();\n        this.title.appendChild(this.title_controls);\n        if(this.schema.description) {\n          this.description = this.theme.getDescription(this.schema.description);\n          this.container.appendChild(this.description);\n        }\n        this.panel = this.theme.getIndentedPanel();\n        this.container.appendChild(this.panel);\n        this.error_holder = document.createElement('div');\n        this.panel.appendChild(this.error_holder);\n      }\n      else {\n        this.panel = document.createElement('div');\n        this.container.appendChild(this.panel);\n      }\n  \n      this.panel.appendChild(this.table);\n      this.controls = this.theme.getButtonHolder();\n      this.panel.appendChild(this.controls);\n  \n      if(this.item_has_child_editors) {\n        var ce = tmp.getChildEditors();\n        var order = tmp.property_order || Object.keys(ce);\n        for(var i=0; i<order.length; i++) {\n          var th = self.theme.getTableHeaderCell(ce[order[i]].getTitle());\n          if(ce[order[i]].options.hidden) th.style.display = 'none';\n          self.header_row.appendChild(th);\n        }\n      }\n      else {\n        self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));\n      }\n  \n      tmp.destroy();\n      this.row_holder.innerHTML = '';\n  \n      // Row Controls column\n      this.controls_header_cell = self.theme.getTableHeaderCell(\" \");\n      self.header_row.appendChild(this.controls_header_cell);\n  \n      // Add controls\n      this.addControls();\n    },\n    onChildEditorChange: function(editor) {\n      this.refreshValue();\n      this._super();\n    },\n    getItemDefault: function() {\n      return $extend({},{\"default\":this.item_default})[\"default\"];\n    },\n    getItemTitle: function() {\n      return this.item_title;\n    },\n    getElementEditor: function(i,ignore) {\n      var schema_copy = $extend({},this.schema.items);\n      var editor = this.jsoneditor.getEditorClass(schema_copy, this.jsoneditor);\n      var row = this.row_holder.appendChild(this.theme.getTableRow());\n      var holder = row;\n      if(!this.item_has_child_editors) {\n        holder = this.theme.getTableCell();\n        row.appendChild(holder);\n      }\n  \n      var ret = this.jsoneditor.createEditor(editor,{\n        jsoneditor: this.jsoneditor,\n        schema: schema_copy,\n        container: holder,\n        path: this.path+'.'+i,\n        parent: this,\n        compact: true,\n        table_row: true\n      });\n  \n      ret.preBuild();\n      if(!ignore) {\n        ret.build();\n        ret.postBuild();\n  \n        ret.controls_cell = row.appendChild(this.theme.getTableCell());\n        ret.row = row;\n        ret.table_controls = this.theme.getButtonHolder();\n        ret.controls_cell.appendChild(ret.table_controls);\n        ret.table_controls.style.margin = 0;\n        ret.table_controls.style.padding = 0;\n      }\n  \n      return ret;\n    },\n    destroy: function() {\n      this.innerHTML = '';\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.row_holder && this.row_holder.parentNode) this.row_holder.parentNode.removeChild(this.row_holder);\n      if(this.table && this.table.parentNode) this.table.parentNode.removeChild(this.table);\n      if(this.panel && this.panel.parentNode) this.panel.parentNode.removeChild(this.panel);\n  \n      this.rows = this.title = this.description = this.row_holder = this.table = this.panel = null;\n  \n      this._super();\n    },\n    setValue: function(value, initial) {\n      // Update the array's value, adding/removing rows when necessary\n      value = value || [];\n  \n      // Make sure value has between minItems and maxItems items in it\n      if(this.schema.minItems) {\n        while(value.length < this.schema.minItems) {\n          value.push(this.getItemDefault());\n        }\n      }\n      if(this.schema.maxItems && value.length > this.schema.maxItems) {\n        value = value.slice(0,this.schema.maxItems);\n      }\n  \n      var serialized = JSON.stringify(value);\n      if(serialized === this.serialized) return;\n  \n      var numrows_changed = false;\n  \n      var self = this;\n      $each(value,function(i,val) {\n        if(self.rows[i]) {\n          // TODO: don't set the row's value if it hasn't changed\n          self.rows[i].setValue(val);\n        }\n        else {\n          self.addRow(val);\n          numrows_changed = true;\n        }\n      });\n  \n      for(var j=value.length; j<self.rows.length; j++) {\n        var holder = self.rows[j].container;\n        if(!self.item_has_child_editors) {\n          self.rows[j].row.parentNode.removeChild(self.rows[j].row);\n        }\n        self.rows[j].destroy();\n        if(holder.parentNode) holder.parentNode.removeChild(holder);\n        self.rows[j] = null;\n        numrows_changed = true;\n      }\n      self.rows = self.rows.slice(0,value.length);\n  \n      self.refreshValue();\n      if(numrows_changed || initial) self.refreshRowButtons();\n  \n      self.onChange();\n  \n      // TODO: sortable\n    },\n    refreshRowButtons: function() {\n      var self = this;\n  \n      // If we currently have minItems items in the array\n      var minItems = this.schema.minItems && this.schema.minItems >= this.rows.length;\n  \n      var need_row_buttons = false;\n      $each(this.rows,function(i,editor) {\n        // Hide the move down button for the last row\n        if(editor.movedown_button) {\n          if(i === self.rows.length - 1) {\n            editor.movedown_button.style.display = 'none';\n          }\n          else {\n            need_row_buttons = true;\n            editor.movedown_button.style.display = '';\n          }\n        }\n  \n        // Hide the delete button if we have minItems items\n        if(editor.delete_button) {\n          if(minItems) {\n            editor.delete_button.style.display = 'none';\n          }\n          else {\n            need_row_buttons = true;\n            editor.delete_button.style.display = '';\n          }\n        }\n  \n        if(editor.moveup_button) {\n          need_row_buttons = true;\n        }\n      });\n  \n      // Show/hide controls column in table\n      $each(this.rows,function(i,editor) {\n        if(need_row_buttons) {\n          editor.controls_cell.style.display = '';\n        }\n        else {\n          editor.controls_cell.style.display = 'none';\n        }\n      });\n      if(need_row_buttons) {\n        this.controls_header_cell.style.display = '';\n      }\n      else {\n        this.controls_header_cell.style.display = 'none';\n      }\n  \n      var controls_needed = false;\n  \n      if(!this.value.length) {\n        this.delete_last_row_button.style.display = 'none';\n        this.remove_all_rows_button.style.display = 'none';\n        this.table.style.display = 'none';\n      }\n      else if(this.value.length === 1) {\n        this.table.style.display = '';\n        this.remove_all_rows_button.style.display = 'none';\n  \n        // If there are minItems items in the array, or configured to hide the delete_last_row button, hide the delete button beneath the rows\n        if(minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n      else {\n        this.table.style.display = '';\n  \n        if(minItems || this.hide_delete_last_row_buttons) {\n          this.delete_last_row_button.style.display = 'none';\n        }\n        else {\n          this.delete_last_row_button.style.display = '';\n          controls_needed = true;\n        }\n  \n        if(minItems || this.hide_delete_all_rows_buttons) {\n          this.remove_all_rows_button.style.display = 'none';\n        }\n        else {\n          this.remove_all_rows_button.style.display = '';\n          controls_needed = true;\n        }\n      }\n  \n      // If there are maxItems in the array, hide the add button beneath the rows\n      if((this.schema.maxItems && this.schema.maxItems <= this.rows.length) || this.hide_add_button) {\n        this.add_row_button.style.display = 'none';\n      }\n      else {\n        this.add_row_button.style.display = '';\n        controls_needed = true;\n      }\n  \n      if(!controls_needed) {\n        this.controls.style.display = 'none';\n      }\n      else {\n        this.controls.style.display = '';\n      }\n    },\n    refreshValue: function() {\n      var self = this;\n      this.value = [];\n  \n      $each(this.rows,function(i,editor) {\n        // Get the value for this editor\n        self.value[i] = editor.getValue();\n      });\n      this.serialized = JSON.stringify(this.value);\n    },\n    addRow: function(value) {\n      var self = this;\n      var i = this.rows.length;\n  \n      self.rows[i] = this.getElementEditor(i);\n  \n      var controls_holder = self.rows[i].table_controls;\n  \n      // Buttons to delete row, move row up, and move row down\n      if(!this.hide_delete_buttons) {\n        self.rows[i].delete_button = this.getButton('','delete',this.translate('button_delete_row_title_short'));\n        self.rows[i].delete_button.className += ' delete';\n        self.rows[i].delete_button.setAttribute('data-i',i);\n        self.rows[i].delete_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n  \n          var value = self.getValue();\n  \n          var newval = [];\n          $each(value,function(j,row) {\n            if(j===i) return; // If this is the one we're deleting\n            newval.push(row);\n          });\n          self.setValue(newval);\n          self.onChange(true);\n        });\n        controls_holder.appendChild(self.rows[i].delete_button);\n      }\n  \n  \n      if(i && !this.hide_move_buttons) {\n        self.rows[i].moveup_button = this.getButton('','moveup',this.translate('button_move_up_title'));\n        self.rows[i].moveup_button.className += ' moveup';\n        self.rows[i].moveup_button.setAttribute('data-i',i);\n        self.rows[i].moveup_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n  \n          if(i<=0) return;\n          var rows = self.getValue();\n          var tmp = rows[i-1];\n          rows[i-1] = rows[i];\n          rows[i] = tmp;\n  \n          self.setValue(rows);\n          self.onChange(true);\n        });\n        controls_holder.appendChild(self.rows[i].moveup_button);\n      }\n  \n      if(!this.hide_move_buttons) {\n        self.rows[i].movedown_button = this.getButton('','movedown',this.translate('button_move_down_title'));\n        self.rows[i].movedown_button.className += ' movedown';\n        self.rows[i].movedown_button.setAttribute('data-i',i);\n        self.rows[i].movedown_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          var i = this.getAttribute('data-i')*1;\n          var rows = self.getValue();\n          if(i>=rows.length-1) return;\n          var tmp = rows[i+1];\n          rows[i+1] = rows[i];\n          rows[i] = tmp;\n  \n          self.setValue(rows);\n          self.onChange(true);\n        });\n        controls_holder.appendChild(self.rows[i].movedown_button);\n      }\n  \n      if(value) self.rows[i].setValue(value);\n    },\n    addControls: function() {\n      var self = this;\n  \n      this.collapsed = false;\n      this.toggle_button = this.getButton('','collapse',this.translate('button_collapse'));\n      if(this.title_controls) {\n        this.title_controls.appendChild(this.toggle_button);\n        this.toggle_button.addEventListener('click',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n  \n          if(self.collapsed) {\n            self.collapsed = false;\n            self.panel.style.display = '';\n            self.setButtonText(this,'','collapse',self.translate('button_collapse'));\n          }\n          else {\n            self.collapsed = true;\n            self.panel.style.display = 'none';\n            self.setButtonText(this,'','expand',self.translate('button_expand'));\n          }\n        });\n  \n        // If it should start collapsed\n        if(this.options.collapsed) {\n          $trigger(this.toggle_button,'click');\n        }\n  \n        // Collapse button disabled\n        if(this.schema.options && typeof this.schema.options.disable_collapse !== \"undefined\") {\n          if(this.schema.options.disable_collapse) this.toggle_button.style.display = 'none';\n        }\n        else if(this.jsoneditor.options.disable_collapse) {\n          this.toggle_button.style.display = 'none';\n        }\n      }\n  \n      // Add \"new row\" and \"delete last\" buttons below editor\n      this.add_row_button = this.getButton(this.getItemTitle(),'add',this.translate('button_add_row_title',[this.getItemTitle()]));\n      this.add_row_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        self.addRow();\n        self.refreshValue();\n        self.refreshRowButtons();\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.add_row_button);\n  \n      this.delete_last_row_button = this.getButton(this.translate('button_delete_last',[this.getItemTitle()]),'delete',this.translate('button_delete_last_title',[this.getItemTitle()]));\n      this.delete_last_row_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        var rows = self.getValue();\n        rows.pop();\n        self.setValue(rows);\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.delete_last_row_button);\n  \n      this.remove_all_rows_button = this.getButton(this.translate('button_delete_all'),'delete',this.translate('button_delete_all_title'));\n      this.remove_all_rows_button.addEventListener('click',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        self.setValue([]);\n        self.onChange(true);\n      });\n      self.controls.appendChild(this.remove_all_rows_button);\n    }\n  });\n  \n  // Multiple Editor (for when `type` is an array)\n  JSONEditor.defaults.editors.multiple = JSONEditor.AbstractEditor.extend({\n    register: function() {\n      if(this.editors) {\n        for(var i=0; i<this.editors.length; i++) {\n          if(!this.editors[i]) continue;\n          this.editors[i].unregister();\n        }\n        if(this.editors[this.type]) this.editors[this.type].register();\n      }\n      this._super();\n    },\n    unregister: function() {\n      this._super();\n      if(this.editors) {\n        for(var i=0; i<this.editors.length; i++) {\n          if(!this.editors[i]) continue;\n          this.editors[i].unregister();\n        }\n      }\n    },\n    getNumColumns: function() {\n      if(!this.editors[this.type]) return 4;\n      return Math.max(this.editors[this.type].getNumColumns(),4);\n    },\n    enable: function() {\n      if(this.editors) {\n        for(var i=0; i<this.editors.length; i++) {\n          if(!this.editors[i]) continue;\n          this.editors[i].enable();\n        }\n      }\n      this.switcher.disabled = false;\n      this._super();\n    },\n    disable: function() {\n      if(this.editors) {\n        for(var i=0; i<this.editors.length; i++) {\n          if(!this.editors[i]) continue;\n          this.editors[i].disable();\n        }\n      }\n      this.switcher.disabled = true;\n      this._super();\n    },\n    switchEditor: function(i) {\n      var self = this;\n  \n      if(!this.editors[i]) {\n        this.buildChildEditor(i);\n      }\n      \n      var current_value = self.getValue();\n  \n      self.type = i;\n  \n      self.register();\n  \n      $each(self.editors,function(type,editor) {\n        if(!editor) return;\n        if(self.type === type) {\n          if(self.keep_values) editor.setValue(current_value,true);\n          editor.container.style.display = '';\n        }\n        else editor.container.style.display = 'none';\n      });\n      self.refreshValue();\n      self.refreshHeaderText();\n    },\n    buildChildEditor: function(i) {\n      var self = this;\n      var type = this.types[i];\n      var holder = self.theme.getChildEditorHolder();\n      self.editor_holder.appendChild(holder);\n  \n      var schema;\n  \n      if(typeof type === \"string\") {\n        schema = $extend({},self.schema);\n        schema.type = type;\n      }\n      else {\n        schema = $extend({},self.schema,type);\n        schema = self.jsoneditor.expandRefs(schema);\n  \n        // If we need to merge `required` arrays\n        if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n          schema.required = self.schema.required.concat(type.required);\n        }\n      }\n  \n      var editor = self.jsoneditor.getEditorClass(schema);\n  \n      self.editors[i] = self.jsoneditor.createEditor(editor,{\n        jsoneditor: self.jsoneditor,\n        schema: schema,\n        container: holder,\n        path: self.path,\n        parent: self,\n        required: true\n      });\n      self.editors[i].preBuild();\n      self.editors[i].build();\n      self.editors[i].postBuild();\n  \n      if(self.editors[i].header) self.editors[i].header.style.display = 'none';\n  \n      self.editors[i].option = self.switcher_options[i];\n  \n      holder.addEventListener('change_header_text',function() {\n        self.refreshHeaderText();\n      });\n  \n      if(i !== self.type) holder.style.display = 'none';\n    },\n    preBuild: function() {\n      var self = this;\n  \n      this.types = [];\n      this.type = 0;\n      this.editors = [];\n      this.validators = [];\n  \n      this.keep_values = true;\n      if(typeof this.jsoneditor.options.keep_oneof_values !== \"undefined\") this.keep_values = this.jsoneditor.options.keep_oneof_values;\n      if(typeof this.options.keep_oneof_values !== \"undefined\") this.keep_values = this.options.keep_oneof_values;\n  \n      if(this.schema.oneOf) {\n        this.oneOf = true;\n        this.types = this.schema.oneOf;\n        delete this.schema.oneOf;\n      }\n      else if(this.schema.anyOf) {\n        this.anyOf = true;\n        this.types = this.schema.anyOf;\n        delete this.schema.anyOf;\n      }\n      else {\n        if(!this.schema.type || this.schema.type === \"any\") {\n          this.types = ['string','number','integer','boolean','object','array','null'];\n  \n          // If any of these primitive types are disallowed\n          if(this.schema.disallow) {\n            var disallow = this.schema.disallow;\n            if(typeof disallow !== 'object' || !(Array.isArray(disallow))) {\n              disallow = [disallow];\n            }\n            var allowed_types = [];\n            $each(this.types,function(i,type) {\n              if(disallow.indexOf(type) === -1) allowed_types.push(type);\n            });\n            this.types = allowed_types;\n          }\n        }\n        else if(Array.isArray(this.schema.type)) {\n          this.types = this.schema.type;\n        }\n        else {\n          this.types = [this.schema.type];\n        }\n        delete this.schema.type;\n      }\n  \n      this.display_text = this.getDisplayText(this.types);\n    },\n    build: function() {\n      var self = this;\n      var container = this.container;\n  \n      this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      this.container.appendChild(this.header);\n  \n      this.switcher = this.theme.getSwitcher(this.display_text);\n      container.appendChild(this.switcher);\n      this.switcher.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        self.switchEditor(self.display_text.indexOf(this.value));\n        self.onChange(true);\n      });\n  \n      this.editor_holder = document.createElement('div');\n      container.appendChild(this.editor_holder);\n      \n        \n      var validator_options = {};\n      if(self.jsoneditor.options.custom_validators) {\n        validator_options.custom_validators = self.jsoneditor.options.custom_validators;\n      }\n  \n      this.switcher_options = this.theme.getSwitcherOptions(this.switcher);\n      $each(this.types,function(i,type) {\n        self.editors[i] = false;\n  \n        var schema;\n  \n        if(typeof type === \"string\") {\n          schema = $extend({},self.schema);\n          schema.type = type;\n        }\n        else {\n          schema = $extend({},self.schema,type);\n  \n          // If we need to merge `required` arrays\n          if(type.required && Array.isArray(type.required) && self.schema.required && Array.isArray(self.schema.required)) {\n            schema.required = self.schema.required.concat(type.required);\n          }\n        }\n  \n        self.validators[i] = new JSONEditor.Validator(self.jsoneditor,schema,validator_options);\n      });\n  \n      this.switchEditor(0);\n    },\n    onChildEditorChange: function(editor) {\n      if(this.editors[this.type]) {\n        this.refreshValue();\n        this.refreshHeaderText();\n      }\n  \n      this._super();\n    },\n    refreshHeaderText: function() {\n      var display_text = this.getDisplayText(this.types);\n      $each(this.switcher_options, function(i,option) {\n        option.textContent = display_text[i];\n      });\n    },\n    refreshValue: function() {\n      this.value = this.editors[this.type].getValue();\n    },\n    setValue: function(val,initial) {\n      // Determine type by getting the first one that validates\n      var self = this;\n      $each(this.validators, function(i,validator) {\n        if(!validator.validate(val).length) {\n          self.type = i;\n          self.switcher.value = self.display_text[i];\n          return false;\n        }\n      });\n  \n      this.switchEditor(this.type);\n  \n      this.editors[this.type].setValue(val,initial);\n  \n      this.refreshValue();\n      self.onChange();\n    },\n    destroy: function() {\n      $each(this.editors, function(type,editor) {\n        if(editor) editor.destroy();\n      });\n      if(this.editor_holder && this.editor_holder.parentNode) this.editor_holder.parentNode.removeChild(this.editor_holder);\n      if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n      this._super();\n    },\n    showValidationErrors: function(errors) {\n      var self = this;\n  \n      // oneOf and anyOf error paths need to remove the oneOf[i] part before passing to child editors\n      if(this.oneOf || this.anyOf) {\n        var check_part = this.oneOf? 'oneOf' : 'anyOf';\n        $each(this.editors,function(i,editor) {\n          if(!editor) return;\n          var check = self.path+'.'+check_part+'['+i+']';\n          var new_errors = [];\n          $each(errors, function(j,error) {\n            if(error.path.substr(0,check.length)===check) {\n              var new_error = $extend({},error);\n              new_error.path = self.path+new_error.path.substr(check.length);\n              new_errors.push(new_error);\n            }\n          });\n  \n          editor.showValidationErrors(new_errors);\n        });\n      }\n      else {\n        $each(this.editors,function(type,editor) {\n          if(!editor) return;\n          editor.showValidationErrors(errors);\n        });\n      }\n    }\n  });\n  \n  // Enum Editor (used for objects and arrays with enumerated values)\n  JSONEditor.defaults.editors[\"enum\"] = JSONEditor.AbstractEditor.extend({\n    getNumColumns: function() {\n      return 4;\n    },\n    build: function() {\n      var container = this.container;\n      this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      this.container.appendChild(this.title);\n  \n      this.options.enum_titles = this.options.enum_titles || [];\n  \n      this[\"enum\"] = this.schema[\"enum\"];\n      this.selected = 0;\n      this.select_options = [];\n      this.html_values = [];\n  \n      var self = this;\n      for(var i=0; i<this[\"enum\"].length; i++) {\n        this.select_options[i] = this.options.enum_titles[i] || \"Value \"+(i+1);\n        this.html_values[i] = this.getHTML(this[\"enum\"][i]);\n      }\n  \n      // Switcher\n      this.switcher = this.theme.getSwitcher(this.select_options);\n      this.container.appendChild(this.switcher);\n  \n      // Display area\n      this.display_area = this.theme.getIndentedPanel();\n      this.container.appendChild(this.display_area);\n  \n      if(this.options.hide_display) this.display_area.style.display = \"none\";\n  \n      this.switcher.addEventListener('change',function() {\n        self.selected = self.select_options.indexOf(this.value);\n        self.value = self[\"enum\"][self.selected];\n        self.refreshValue();\n        self.onChange(true);\n      });\n      this.value = this[\"enum\"][0];\n      this.refreshValue();\n  \n      if(this[\"enum\"].length === 1) this.switcher.style.display = 'none';\n    },\n    refreshValue: function() {\n      var self = this;\n      self.selected = -1;\n      var stringified = JSON.stringify(this.value);\n      $each(this[\"enum\"], function(i, el) {\n        if(stringified === JSON.stringify(el)) {\n          self.selected = i;\n          return false;\n        }\n      });\n  \n      if(self.selected<0) {\n        self.setValue(self[\"enum\"][0]);\n        return;\n      }\n  \n      this.switcher.value = this.select_options[this.selected];\n      this.display_area.innerHTML = this.html_values[this.selected];\n    },\n    enable: function() {\n      if(!this.always_disabled) this.switcher.disabled = false;\n      this._super();\n    },\n    disable: function() {\n      this.switcher.disabled = true;\n      this._super();\n    },\n    getHTML: function(el) {\n      var self = this;\n  \n      if(el === null) {\n        return '<em>null</em>';\n      }\n      // Array or Object\n      else if(typeof el === \"object\") {\n        // TODO: use theme\n        var ret = '';\n  \n        $each(el,function(i,child) {\n          var html = self.getHTML(child);\n  \n          // Add the keys to object children\n          if(!(Array.isArray(el))) {\n            // TODO: use theme\n            html = '<div><em>'+i+'</em>: '+html+'</div>';\n          }\n  \n          // TODO: use theme\n          ret += '<li>'+html+'</li>';\n        });\n  \n        if(Array.isArray(el)) ret = '<ol>'+ret+'</ol>';\n        else ret = \"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>\"+ret+'</ul>';\n  \n        return ret;\n      }\n      // Boolean\n      else if(typeof el === \"boolean\") {\n        return el? 'true' : 'false';\n      }\n      // String\n      else if(typeof el === \"string\") {\n        return el.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n      }\n      // Number\n      else {\n        return el;\n      }\n    },\n    setValue: function(val) {\n      if(this.value !== val) {\n        this.value = val;\n        this.refreshValue();\n        this.onChange();\n      }\n    },\n    destroy: function() {\n      if(this.display_area && this.display_area.parentNode) this.display_area.parentNode.removeChild(this.display_area);\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.switcher && this.switcher.parentNode) this.switcher.parentNode.removeChild(this.switcher);\n  \n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.select = JSONEditor.AbstractEditor.extend({\n    setValue: function(value,initial) {\n      value = this.typecast(value||'');\n  \n      // Sanitize value before setting it\n      var sanitized = value;\n      if(this.enum_values.indexOf(sanitized) < 0) {\n        sanitized = this.enum_values[0];\n      }\n  \n      if(this.value === sanitized) {\n        return;\n      }\n  \n      this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n      if(this.select2) this.select2.select2('val',this.input.value);\n      this.value = sanitized;\n      this.onChange();\n    },\n    register: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.setAttribute('name',this.formname);\n    },\n    unregister: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.removeAttribute('name');\n    },\n    getNumColumns: function() {\n      if(!this.enum_options) return 3;\n      var longest_text = this.getTitle().length;\n      for(var i=0; i<this.enum_options.length; i++) {\n        longest_text = Math.max(longest_text,this.enum_options[i].length+4);\n      }\n      return Math.min(12,Math.max(longest_text/7,2));\n    },\n    typecast: function(value) {\n      if(this.schema.type === \"boolean\") {\n        return !!value;\n      }\n      else if(this.schema.type === \"number\") {\n        return 1*value;\n      }\n      else if(this.schema.type === \"integer\") {\n        return Math.floor(value*1);\n      }\n      else {\n        return \"\"+value;\n      }\n    },\n    getValue: function() {\n      return this.value;\n    },\n    preBuild: function() {\n      var self = this;\n      this.input_type = 'select';\n      this.enum_options = [];\n      this.enum_values = [];\n      this.enum_display = [];\n      var i;\n  \n      // Enum options enumerated\n      if(this.schema[\"enum\"]) {\n        var display = this.schema.options && this.schema.options.enum_titles || [];\n        \n        $each(this.schema[\"enum\"],function(i,option) {\n          self.enum_options[i] = \"\"+option;\n          self.enum_display[i] = \"\"+(display[i] || option);\n          self.enum_values[i] = self.typecast(option);\n        });\n  \n        if(!this.isRequired()){\n          self.enum_display.unshift(' ');\n          self.enum_options.unshift('undefined');\n          self.enum_values.unshift(undefined);\n        }\n              \n      }\n      // Boolean\n      else if(this.schema.type === \"boolean\") {\n        self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\n        self.enum_options = ['1',''];\n        self.enum_values = [true,false];\n        \n        if(!this.isRequired()){\n          self.enum_display.unshift(' ');\n          self.enum_options.unshift('undefined');\n          self.enum_values.unshift(undefined);\n        }\n      \n      }\n      // Dynamic Enum\n      else if(this.schema.enumSource) {\n        this.enumSource = [];\n        this.enum_display = [];\n        this.enum_options = [];\n        this.enum_values = [];\n        \n        // Shortcut declaration for using a single array\n        if(!(Array.isArray(this.schema.enumSource))) {\n          if(this.schema.enumValue) {\n            this.enumSource = [\n              {\n                source: this.schema.enumSource,\n                value: this.schema.enumValue\n              }\n            ];\n          }\n          else {\n            this.enumSource = [\n              {\n                source: this.schema.enumSource\n              }\n            ];\n          }\n        }\n        else {\n          for(i=0; i<this.schema.enumSource.length; i++) {\n            // Shorthand for watched variable\n            if(typeof this.schema.enumSource[i] === \"string\") {\n              this.enumSource[i] = {\n                source: this.schema.enumSource[i]\n              };\n            }\n            // Make a copy of the schema\n            else if(!(Array.isArray(this.schema.enumSource[i]))) {\n              this.enumSource[i] = $extend({},this.schema.enumSource[i]);\n            }\n            else {\n              this.enumSource[i] = this.schema.enumSource[i];\n            }\n          }\n        }\n        \n        // Now, enumSource is an array of sources\n        // Walk through this array and fix up the values\n        for(i=0; i<this.enumSource.length; i++) {\n          if(this.enumSource[i].value) {\n            this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n          }\n          if(this.enumSource[i].title) {\n            this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n          }\n          if(this.enumSource[i].filter) {\n            this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n          }\n        }\n      }\n      // Other, not supported\n      else {\n        throw \"'select' editor requires the enum property to be set.\";\n      }\n    },\n    build: function() {\n      var self = this;\n      if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n  \n      if(this.options.compact) this.container.className += ' compact';\n  \n      this.input = this.theme.getSelectInput(this.enum_options);\n      this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\n  \n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n  \n      this.input.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.onInputChange();\n      });\n  \n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\n      this.container.appendChild(this.control);\n  \n      this.value = this.enum_values[0];\n    },\n    onInputChange: function() {\n      var val = this.input.value;\n  \n      var new_val;\n      // Invalid option, use first option instead\n      if(this.enum_options.indexOf(val) === -1) {\n        new_val = this.enum_values[0];\n      }\n      else {\n        new_val = this.enum_values[this.enum_options.indexOf(val)];\n      }\n  \n      // If valid hasn't changed\n      if(new_val === this.value) return;\n  \n      // Store new value and propogate change event\n      this.value = new_val;\n      this.onChange(true);\n    },\n    setupSelect2: function() {\n      // If the Select2 library is loaded use it when we have lots of items\n      if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2 && (this.enum_options.length > 2 || (this.enum_options.length && this.enumSource))) {\n        var options = $extend({},JSONEditor.plugins.select2);\n        if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\n        this.select2 = window.jQuery(this.input).select2(options);\n        var self = this;\n        this.select2.on('select2-blur',function() {\n          self.input.value = self.select2.select2('val');\n          self.onInputChange();\n        });\n        this.select2.on('change',function() {\n          self.input.value = self.select2.select2('val');\n          self.onInputChange();\n        });\n      }\n      else {\n        this.select2 = null;\n      }\n    },\n    postBuild: function() {\n      this._super();\n      this.theme.afterInputReady(this.input);\n      this.setupSelect2();\n    },\n    onWatchedFieldChange: function() {\n      var self = this, vars, j;\n      \n      // If this editor uses a dynamic select box\n      if(this.enumSource) {\n        vars = this.getWatchedFieldValues();\n        var select_options = [];\n        var select_titles = [];\n        \n        for(var i=0; i<this.enumSource.length; i++) {\n          // Constant values\n          if(Array.isArray(this.enumSource[i])) {\n            select_options = select_options.concat(this.enumSource[i]);\n            select_titles = select_titles.concat(this.enumSource[i]);\n          }\n          else {\n            var items = [];\n            // Static list of items\n            if(Array.isArray(this.enumSource[i].source)) {\n              items = this.enumSource[i].source;\n            // A watched field\n            } else {\n              items = vars[this.enumSource[i].source];\n            }\n            \n            if(items) {\n              // Only use a predefined part of the array\n              if(this.enumSource[i].slice) {\n                items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\n              }\n              // Filter the items\n              if(this.enumSource[i].filter) {\n                var new_items = [];\n                for(j=0; j<items.length; j++) {\n                  if(this.enumSource[i].filter({i:j,item:items[j],watched:vars})) new_items.push(items[j]);\n                }\n                items = new_items;\n              }\n              \n              var item_titles = [];\n              var item_values = [];\n              for(j=0; j<items.length; j++) {\n                var item = items[j];\n                \n                // Rendered value\n                if(this.enumSource[i].value) {\n                  item_values[j] = this.enumSource[i].value({\n                    i: j,\n                    item: item\n                  });\n                }\n                // Use value directly\n                else {\n                  item_values[j] = items[j];\n                }\n                \n                // Rendered title\n                if(this.enumSource[i].title) {\n                  item_titles[j] = this.enumSource[i].title({\n                    i: j,\n                    item: item\n                  });\n                }\n                // Use value as the title also\n                else {\n                  item_titles[j] = item_values[j];\n                }\n              }\n              \n              // TODO: sort\n              \n              select_options = select_options.concat(item_values);\n              select_titles = select_titles.concat(item_titles);\n            }\n          }\n        }\n        \n        var prev_value = this.value;\n        \n        this.theme.setSelectOptions(this.input, select_options, select_titles);\n        this.enum_options = select_options;\n        this.enum_display = select_titles;\n        this.enum_values = select_options;\n        \n        if(this.select2) {\n          this.select2.select2('destroy');\n        }\n        \n        // If the previous value is still in the new select options, stick with it\n        if(select_options.indexOf(prev_value) !== -1) {\n          this.input.value = prev_value;\n          this.value = prev_value;\n        }\n        // Otherwise, set the value to the first select option\n        else {\n          this.input.value = select_options[0];\n          this.value = select_options[0] || \"\";  \n          if(this.parent) this.parent.onChildEditorChange(this);\n          else this.jsoneditor.onChange();\n          this.jsoneditor.notifyWatchers(this.path);\n        }\n        \n        this.setupSelect2();\n      }\n  \n      this._super();\n    },\n    enable: function() {\n      if(!this.always_disabled) {\n        this.input.disabled = false;\n        if(this.select2) this.select2.select2(\"enable\",true);\n      }\n      this._super();\n    },\n    disable: function() {\n      this.input.disabled = true;\n      if(this.select2) this.select2.select2(\"enable\",false);\n      this._super();\n    },\n    destroy: function() {\n      if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      if(this.select2) {\n        this.select2.select2('destroy');\n        this.select2 = null;\n      }\n  \n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.selectize = JSONEditor.AbstractEditor.extend({\n    setValue: function(value,initial) {\n      value = this.typecast(value||'');\n  \n      // Sanitize value before setting it\n      var sanitized = value;\n      if(this.enum_values.indexOf(sanitized) < 0) {\n        sanitized = this.enum_values[0];\n      }\n  \n      if(this.value === sanitized) {\n        return;\n      }\n  \n      this.input.value = this.enum_options[this.enum_values.indexOf(sanitized)];\n  \n      if(this.selectize) {\n        this.selectize[0].selectize.addItem(sanitized);\n      }\n  \n      this.value = sanitized;\n      this.onChange();\n    },\n    register: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.setAttribute('name',this.formname);\n    },\n    unregister: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.removeAttribute('name');\n    },\n    getNumColumns: function() {\n      if(!this.enum_options) return 3;\n      var longest_text = this.getTitle().length;\n      for(var i=0; i<this.enum_options.length; i++) {\n        longest_text = Math.max(longest_text,this.enum_options[i].length+4);\n      }\n      return Math.min(12,Math.max(longest_text/7,2));\n    },\n    typecast: function(value) {\n      if(this.schema.type === \"boolean\") {\n        return !!value;\n      }\n      else if(this.schema.type === \"number\") {\n        return 1*value;\n      }\n      else if(this.schema.type === \"integer\") {\n        return Math.floor(value*1);\n      }\n      else {\n        return \"\"+value;\n      }\n    },\n    getValue: function() {\n      return this.value;\n    },\n    preBuild: function() {\n      var self = this;\n      this.input_type = 'select';\n      this.enum_options = [];\n      this.enum_values = [];\n      this.enum_display = [];\n      var i;\n  \n      // Enum options enumerated\n      if(this.schema.enum) {\n        var display = this.schema.options && this.schema.options.enum_titles || [];\n  \n        $each(this.schema.enum,function(i,option) {\n          self.enum_options[i] = \"\"+option;\n          self.enum_display[i] = \"\"+(display[i] || option);\n          self.enum_values[i] = self.typecast(option);\n        });\n      }\n      // Boolean\n      else if(this.schema.type === \"boolean\") {\n        self.enum_display = this.schema.options && this.schema.options.enum_titles || ['true','false'];\n        self.enum_options = ['1','0'];\n        self.enum_values = [true,false];\n      }\n      // Dynamic Enum\n      else if(this.schema.enumSource) {\n        this.enumSource = [];\n        this.enum_display = [];\n        this.enum_options = [];\n        this.enum_values = [];\n  \n        // Shortcut declaration for using a single array\n        if(!(Array.isArray(this.schema.enumSource))) {\n          if(this.schema.enumValue) {\n            this.enumSource = [\n              {\n                source: this.schema.enumSource,\n                value: this.schema.enumValue\n              }\n            ];\n          }\n          else {\n            this.enumSource = [\n              {\n                source: this.schema.enumSource\n              }\n            ];\n          }\n        }\n        else {\n          for(i=0; i<this.schema.enumSource.length; i++) {\n            // Shorthand for watched variable\n            if(typeof this.schema.enumSource[i] === \"string\") {\n              this.enumSource[i] = {\n                source: this.schema.enumSource[i]\n              };\n            }\n            // Make a copy of the schema\n            else if(!(Array.isArray(this.schema.enumSource[i]))) {\n              this.enumSource[i] = $extend({},this.schema.enumSource[i]);\n            }\n            else {\n              this.enumSource[i] = this.schema.enumSource[i];\n            }\n          }\n        }\n  \n        // Now, enumSource is an array of sources\n        // Walk through this array and fix up the values\n        for(i=0; i<this.enumSource.length; i++) {\n          if(this.enumSource[i].value) {\n            this.enumSource[i].value = this.jsoneditor.compileTemplate(this.enumSource[i].value, this.template_engine);\n          }\n          if(this.enumSource[i].title) {\n            this.enumSource[i].title = this.jsoneditor.compileTemplate(this.enumSource[i].title, this.template_engine);\n          }\n          if(this.enumSource[i].filter) {\n            this.enumSource[i].filter = this.jsoneditor.compileTemplate(this.enumSource[i].filter, this.template_engine);\n          }\n        }\n      }\n      // Other, not supported\n      else {\n        throw \"'select' editor requires the enum property to be set.\";\n      }\n    },\n    build: function() {\n      var self = this;\n      if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n  \n      if(this.options.compact) this.container.className += ' compact';\n  \n      this.input = this.theme.getSelectInput(this.enum_options);\n      this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display);\n  \n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n  \n      this.input.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.onInputChange();\n      });\n  \n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\n      this.container.appendChild(this.control);\n  \n      this.value = this.enum_values[0];\n    },\n    onInputChange: function() {\n      var val = this.input.value;\n  \n      var sanitized = val;\n      if(this.enum_options.indexOf(val) === -1) {\n        sanitized = this.enum_options[0];\n      }\n  \n      this.value = this.enum_values[this.enum_options.indexOf(val)];\n      this.onChange(true);\n    },\n    setupSelectize: function() {\n      // If the Selectize library is loaded use it when we have lots of items\n      var self = this;\n      if(window.jQuery && window.jQuery.fn && window.jQuery.fn.selectize && (this.enum_options.length >= 2 || (this.enum_options.length && this.enumSource))) {\n        var options = $extend({},JSONEditor.plugins.selectize);\n        if(this.schema.options && this.schema.options.selectize_options) options = $extend(options,this.schema.options.selectize_options);\n        this.selectize = window.jQuery(this.input).selectize($extend(options,\n        {\n          create: true,\n          onChange : function() {\n            self.onInputChange();\n          }\n        }));\n      }\n      else {\n        this.selectize = null;\n      }\n    },\n    postBuild: function() {\n      this._super();\n      this.theme.afterInputReady(this.input);\n      this.setupSelectize();\n    },\n    onWatchedFieldChange: function() {\n      var self = this, vars, j;\n  \n      // If this editor uses a dynamic select box\n      if(this.enumSource) {\n        vars = this.getWatchedFieldValues();\n        var select_options = [];\n        var select_titles = [];\n  \n        for(var i=0; i<this.enumSource.length; i++) {\n          // Constant values\n          if(Array.isArray(this.enumSource[i])) {\n            select_options = select_options.concat(this.enumSource[i]);\n            select_titles = select_titles.concat(this.enumSource[i]);\n          }\n          // A watched field\n          else if(vars[this.enumSource[i].source]) {\n            var items = vars[this.enumSource[i].source];\n  \n            // Only use a predefined part of the array\n            if(this.enumSource[i].slice) {\n              items = Array.prototype.slice.apply(items,this.enumSource[i].slice);\n            }\n            // Filter the items\n            if(this.enumSource[i].filter) {\n              var new_items = [];\n              for(j=0; j<items.length; j++) {\n                if(this.enumSource[i].filter({i:j,item:items[j]})) new_items.push(items[j]);\n              }\n              items = new_items;\n            }\n  \n            var item_titles = [];\n            var item_values = [];\n            for(j=0; j<items.length; j++) {\n              var item = items[j];\n  \n              // Rendered value\n              if(this.enumSource[i].value) {\n                item_values[j] = this.enumSource[i].value({\n                  i: j,\n                  item: item\n                });\n              }\n              // Use value directly\n              else {\n                item_values[j] = items[j];\n              }\n  \n              // Rendered title\n              if(this.enumSource[i].title) {\n                item_titles[j] = this.enumSource[i].title({\n                  i: j,\n                  item: item\n                });\n              }\n              // Use value as the title also\n              else {\n                item_titles[j] = item_values[j];\n              }\n            }\n  \n            // TODO: sort\n  \n            select_options = select_options.concat(item_values);\n            select_titles = select_titles.concat(item_titles);\n          }\n        }\n  \n        var prev_value = this.value;\n  \n        this.theme.setSelectOptions(this.input, select_options, select_titles);\n        this.enum_options = select_options;\n        this.enum_display = select_titles;\n        this.enum_values = select_options;\n  \n        // If the previous value is still in the new select options, stick with it\n        if(select_options.indexOf(prev_value) !== -1) {\n          this.input.value = prev_value;\n          this.value = prev_value;\n        }\n  \n        // Otherwise, set the value to the first select option\n        else {\n          this.input.value = select_options[0];\n          this.value = select_options[0] || \"\";\n          if(this.parent) this.parent.onChildEditorChange(this);\n          else this.jsoneditor.onChange();\n          this.jsoneditor.notifyWatchers(this.path);\n        }\n  \n        if(this.selectize) {\n          // Update the Selectize options\n          this.updateSelectizeOptions(select_options);\n        }\n        else {\n          this.setupSelectize();\n        }\n  \n        this._super();\n      }\n    },\n    updateSelectizeOptions: function(select_options) {\n      var selectized = this.selectize[0].selectize,\n          self = this;\n  \n      selectized.off();\n      selectized.clearOptions();\n      for(var n in select_options) {\n        selectized.addOption({value:select_options[n],text:select_options[n]});\n      }\n      selectized.addItem(this.value);\n      selectized.on('change',function() {\n        self.onInputChange();\n      });\n    },\n    enable: function() {\n      if(!this.always_disabled) {\n        this.input.disabled = false;\n        if(this.selectize) {\n          this.selectize[0].selectize.unlock();\n        }\n      }\n      this._super();\n    },\n    disable: function() {\n      this.input.disabled = true;\n      if(this.selectize) {\n        this.selectize[0].selectize.lock();\n      }\n      this._super();\n    },\n    destroy: function() {\n      if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      if(this.selectize) {\n        this.selectize[0].selectize.destroy();\n        this.selectize = null;\n      }\n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.multiselect = JSONEditor.AbstractEditor.extend({\n    preBuild: function() {\n      this._super();\n      var i;\n  \n      this.select_options = {};\n      this.select_values = {};\n  \n      var items_schema = this.jsoneditor.expandRefs(this.schema.items || {});\n  \n      var e = items_schema[\"enum\"] || [];\n      var t = items_schema.options? items_schema.options.enum_titles || [] : [];\n      this.option_keys = [];\n      this.option_titles = [];\n      for(i=0; i<e.length; i++) {\n        // If the sanitized value is different from the enum value, don't include it\n        if(this.sanitize(e[i]) !== e[i]) continue;\n  \n        this.option_keys.push(e[i]+\"\");\n        this.option_titles.push((t[i]||e[i])+\"\");\n        this.select_values[e[i]+\"\"] = e[i];\n      }\n    },\n    build: function() {\n      var self = this, i;\n      if(!this.options.compact) this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n      if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n  \n      if((!this.schema.format && this.option_keys.length < 8) || this.schema.format === \"checkbox\") {\n        this.input_type = 'checkboxes';\n  \n        this.inputs = {};\n        this.controls = {};\n        for(i=0; i<this.option_keys.length; i++) {\n          this.inputs[this.option_keys[i]] = this.theme.getCheckbox();\n          this.select_options[this.option_keys[i]] = this.inputs[this.option_keys[i]];\n          var label = this.theme.getCheckboxLabel(this.option_titles[i]);\n          this.controls[this.option_keys[i]] = this.theme.getFormControl(label, this.inputs[this.option_keys[i]]);\n        }\n  \n        this.control = this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description);\n      }\n      else {\n        this.input_type = 'select';\n        this.input = this.theme.getSelectInput(this.option_keys);\n        this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles);\n        this.input.multiple = true;\n        this.input.size = Math.min(10,this.option_keys.length);\n  \n        for(i=0; i<this.option_keys.length; i++) {\n          this.select_options[this.option_keys[i]] = this.input.children[i];\n        }\n  \n        if(this.schema.readOnly || this.schema.readonly) {\n          this.always_disabled = true;\n          this.input.disabled = true;\n        }\n  \n        this.control = this.theme.getFormControl(this.label, this.input, this.description);\n      }\n  \n      this.container.appendChild(this.control);\n      this.control.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n  \n        var new_value = [];\n        for(i = 0; i<self.option_keys.length; i++) {\n          if(self.select_options[self.option_keys[i]].selected || self.select_options[self.option_keys[i]].checked) new_value.push(self.select_values[self.option_keys[i]]);\n        }\n  \n        self.updateValue(new_value);\n        self.onChange(true);\n      });\n    },\n    setValue: function(value, initial) {\n      var i;\n      value = value || [];\n      if(typeof value !== \"object\") value = [value];\n      else if(!(Array.isArray(value))) value = [];\n  \n      // Make sure we are dealing with an array of strings so we can check for strict equality\n      for(i=0; i<value.length; i++) {\n        if(typeof value[i] !== \"string\") value[i] += \"\";\n      }\n  \n      // Update selected status of options\n      for(i in this.select_options) {\n        if(!this.select_options.hasOwnProperty(i)) continue;\n  \n        this.select_options[i][this.input_type === \"select\"? \"selected\" : \"checked\"] = (value.indexOf(i) !== -1);\n      }\n  \n      this.updateValue(value);\n      this.onChange();\n    },\n    setupSelect2: function() {\n      if(window.jQuery && window.jQuery.fn && window.jQuery.fn.select2) {\n          var options = window.jQuery.extend({},JSONEditor.plugins.select2);\n          if(this.schema.options && this.schema.options.select2_options) options = $extend(options,this.schema.options.select2_options);\n          this.select2 = window.jQuery(this.input).select2(options);\n          var self = this;\n          this.select2.on('select2-blur',function() {\n              var val =self.select2.select2('val');\n              self.value = val;\n              self.onChange(true);\n          });\n      }\n      else {\n          this.select2 = null;\n      }\n    },\n    onInputChange: function() {\n        this.value = this.input.value;\n        this.onChange(true);\n    },\n    postBuild: function() {\n        this._super();\n        this.setupSelect2();\n    },\n    register: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.setAttribute('name',this.formname);\n    },\n    unregister: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.removeAttribute('name');\n    },\n    getNumColumns: function() {\n      var longest_text = this.getTitle().length;\n      for(var i in this.select_values) {\n        if(!this.select_values.hasOwnProperty(i)) continue;\n        longest_text = Math.max(longest_text,(this.select_values[i]+\"\").length+4);\n      }\n  \n      return Math.min(12,Math.max(longest_text/7,2));\n    },\n    updateValue: function(value) {\n      var changed = false;\n      var new_value = [];\n      for(var i=0; i<value.length; i++) {\n        if(!this.select_options[value[i]+\"\"]) {\n          changed = true;\n          continue;\n        }\n        var sanitized = this.sanitize(this.select_values[value[i]]);\n        new_value.push(sanitized);\n        if(sanitized !== value[i]) changed = true;\n      }\n      this.value = new_value;\n      if(this.select2) this.select2.select2('val',this.value);\n      return changed;\n    },\n    sanitize: function(value) {\n      if(this.schema.items.type === \"number\") {\n        return 1*value;\n      }\n      else if(this.schema.items.type === \"integer\") {\n        return Math.floor(value*1);\n      }\n      else {\n        return \"\"+value;\n      }\n    },\n    enable: function() {\n      if(!this.always_disabled) {\n        if(this.input) {\n          this.input.disabled = false;\n        }\n        else if(this.inputs) {\n          for(var i in this.inputs) {\n            if(!this.inputs.hasOwnProperty(i)) continue;\n            this.inputs[i].disabled = false;\n          }\n        }\n        if(this.select2) this.select2.select2(\"enable\",true);\n      }\n      this._super();\n    },\n    disable: function() {\n      if(this.input) {\n        this.input.disabled = true;\n      }\n      else if(this.inputs) {\n        for(var i in this.inputs) {\n          if(!this.inputs.hasOwnProperty(i)) continue;\n          this.inputs[i].disabled = true;\n        }\n      }\n      if(this.select2) this.select2.select2(\"enable\",false);\n      this._super();\n    },\n    destroy: function() {\n      if(this.select2) {\n          this.select2.select2('destroy');\n          this.select2 = null;\n      }\n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.base64 = JSONEditor.AbstractEditor.extend({\n    getNumColumns: function() {\n      return 4;\n    },\n    build: function() {    \n      var self = this;\n      this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n  \n      // Input that holds the base64 string\n      this.input = this.theme.getFormInputField('hidden');\n      this.container.appendChild(this.input);\n      \n      // Don't show uploader if this is readonly\n      if(!this.schema.readOnly && !this.schema.readonly) {\n        if(!window.FileReader) throw \"FileReader required for base64 editor\";\n        \n        // File uploader\n        this.uploader = this.theme.getFormInputField('file');\n        \n        this.uploader.addEventListener('change',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          \n          if(this.files && this.files.length) {\n            var fr = new FileReader();\n            fr.onload = function(evt) {\n              self.value = evt.target.result;\n              self.refreshPreview();\n              self.onChange(true);\n              fr = null;\n            };\n            fr.readAsDataURL(this.files[0]);\n          }\n        });\n      }\n  \n      this.preview = this.theme.getFormInputDescription(this.schema.description);\n      this.container.appendChild(this.preview);\n  \n      this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n      this.container.appendChild(this.control);\n    },\n    refreshPreview: function() {\n      if(this.last_preview === this.value) return;\n      this.last_preview = this.value;\n      \n      this.preview.innerHTML = '';\n      \n      if(!this.value) return;\n      \n      var mime = this.value.match(/^data:([^;,]+)[;,]/);\n      if(mime) mime = mime[1];\n      \n      if(!mime) {\n        this.preview.innerHTML = '<em>Invalid data URI</em>';\n      }\n      else {\n        this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+Math.floor((this.value.length-this.value.split(',')[0].length-1)/1.33333)+' bytes';\n        if(mime.substr(0,5)===\"image\") {\n          this.preview.innerHTML += '<br>';\n          var img = document.createElement('img');\n          img.style.maxWidth = '100%';\n          img.style.maxHeight = '100px';\n          img.src = this.value;\n          this.preview.appendChild(img);\n        }\n      }\n    },\n    enable: function() {\n      if(this.uploader) this.uploader.disabled = false;\n      this._super();\n    },\n    disable: function() {\n      if(this.uploader) this.uploader.disabled = true;\n      this._super();\n    },\n    setValue: function(val) {\n      if(this.value !== val) {\n        this.value = val;\n        this.input.value = this.value;\n        this.refreshPreview();\n        this.onChange();\n      }\n    },\n    destroy: function() {\n      if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n  \n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.upload = JSONEditor.AbstractEditor.extend({\n    getNumColumns: function() {\n      return 4;\n    },\n    build: function() {    \n      var self = this;\n      this.title = this.header = this.label = this.theme.getFormInputLabel(this.getTitle());\n  \n      // Input that holds the base64 string\n      this.input = this.theme.getFormInputField('hidden');\n      this.container.appendChild(this.input);\n      \n      // Don't show uploader if this is readonly\n      if(!this.schema.readOnly && !this.schema.readonly) {\n  \n        if(!this.jsoneditor.options.upload) throw \"Upload handler required for upload editor\";\n  \n        // File uploader\n        this.uploader = this.theme.getFormInputField('file');\n        \n        this.uploader.addEventListener('change',function(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          \n          if(this.files && this.files.length) {\n            var fr = new FileReader();\n            fr.onload = function(evt) {\n              self.preview_value = evt.target.result;\n              self.refreshPreview();\n              self.onChange(true);\n              fr = null;\n            };\n            fr.readAsDataURL(this.files[0]);\n          }\n        });\n      }\n  \n      var description = this.schema.description;\n      if (!description) description = '';\n  \n      this.preview = this.theme.getFormInputDescription(description);\n      this.container.appendChild(this.preview);\n  \n      this.control = this.theme.getFormControl(this.label, this.uploader||this.input, this.preview);\n      this.container.appendChild(this.control);\n    },\n    refreshPreview: function() {\n      if(this.last_preview === this.preview_value) return;\n      this.last_preview = this.preview_value;\n  \n      this.preview.innerHTML = '';\n      \n      if(!this.preview_value) return;\n  \n      var self = this;\n  \n      var mime = this.preview_value.match(/^data:([^;,]+)[;,]/);\n      if(mime) mime = mime[1];\n      if(!mime) mime = 'unknown';\n  \n      var file = this.uploader.files[0];\n  \n      this.preview.innerHTML = '<strong>Type:</strong> '+mime+', <strong>Size:</strong> '+file.size+' bytes';\n      if(mime.substr(0,5)===\"image\") {\n        this.preview.innerHTML += '<br>';\n        var img = document.createElement('img');\n        img.style.maxWidth = '100%';\n        img.style.maxHeight = '100px';\n        img.src = this.preview_value;\n        this.preview.appendChild(img);\n      }\n  \n      this.preview.innerHTML += '<br>';\n      var uploadButton = this.getButton('Upload', 'upload', 'Upload');\n      this.preview.appendChild(uploadButton);\n      uploadButton.addEventListener('click',function(event) {\n        event.preventDefault();\n  \n        uploadButton.setAttribute(\"disabled\", \"disabled\");\n        self.theme.removeInputError(self.uploader);\n  \n        if (self.theme.getProgressBar) {\n          self.progressBar = self.theme.getProgressBar();\n          self.preview.appendChild(self.progressBar);\n        }\n  \n        self.jsoneditor.options.upload(self.path, file, {\n          success: function(url) {\n            self.setValue(url);\n  \n            if(self.parent) self.parent.onChildEditorChange(self);\n            else self.jsoneditor.onChange();\n  \n            if (self.progressBar) self.preview.removeChild(self.progressBar);\n            uploadButton.removeAttribute(\"disabled\");\n          },\n          failure: function(error) {\n            self.theme.addInputError(self.uploader, error);\n            if (self.progressBar) self.preview.removeChild(self.progressBar);\n            uploadButton.removeAttribute(\"disabled\");\n          },\n          updateProgress: function(progress) {\n            if (self.progressBar) {\n              if (progress) self.theme.updateProgressBar(self.progressBar, progress);\n              else self.theme.updateProgressBarUnknown(self.progressBar);\n            }\n          }\n        });\n      });\n    },\n    enable: function() {\n      if(this.uploader) this.uploader.disabled = false;\n      this._super();\n    },\n    disable: function() {\n      if(this.uploader) this.uploader.disabled = true;\n      this._super();\n    },\n    setValue: function(val) {\n      if(this.value !== val) {\n        this.value = val;\n        this.input.value = this.value;\n        this.onChange();\n      }\n    },\n    destroy: function() {\n      if(this.preview && this.preview.parentNode) this.preview.parentNode.removeChild(this.preview);\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      if(this.uploader && this.uploader.parentNode) this.uploader.parentNode.removeChild(this.uploader);\n  \n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.checkbox = JSONEditor.AbstractEditor.extend({\n    setValue: function(value,initial) {\n      this.value = !!value;\n      this.input.checked = this.value;\n      this.onChange();\n    },\n    register: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.setAttribute('name',this.formname);\n    },\n    unregister: function() {\n      this._super();\n      if(!this.input) return;\n      this.input.removeAttribute('name');\n    },\n    getNumColumns: function() {\n      return Math.min(12,Math.max(this.getTitle().length/7,2));\n    },\n    build: function() {\n      var self = this;\n      if(!this.options.compact) {\n        this.label = this.header = this.theme.getCheckboxLabel(this.getTitle());\n      }\n      if(this.schema.description) this.description = this.theme.getFormInputDescription(this.schema.description);\n      if(this.options.compact) this.container.className += ' compact';\n  \n      this.input = this.theme.getCheckbox();\n      this.control = this.theme.getFormControl(this.label, this.input, this.description);\n  \n      if(this.schema.readOnly || this.schema.readonly) {\n        this.always_disabled = true;\n        this.input.disabled = true;\n      }\n  \n      this.input.addEventListener('change',function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        self.value = this.checked;\n        self.onChange(true);\n      });\n  \n      this.container.appendChild(this.control);\n    },\n    enable: function() {\n      if(!this.always_disabled) {\n        this.input.disabled = false;\n      }\n      this._super();\n    },\n    disable: function() {\n      this.input.disabled = true;\n      this._super();\n    },\n    destroy: function() {\n      if(this.label && this.label.parentNode) this.label.parentNode.removeChild(this.label);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n      this._super();\n    }\n  });\n  \n  JSONEditor.defaults.editors.arraySelectize = JSONEditor.AbstractEditor.extend({\n    build: function() {\n      this.title = this.theme.getFormInputLabel(this.getTitle());\n  \n      this.title_controls = this.theme.getHeaderButtonHolder();\n      this.title.appendChild(this.title_controls);\n      this.error_holder = document.createElement('div');\n  \n      if(this.schema.description) {\n        this.description = this.theme.getDescription(this.schema.description);\n      }\n  \n      this.input = document.createElement('select');\n      this.input.setAttribute('multiple', 'multiple');\n  \n      var group = this.theme.getFormControl(this.title, this.input, this.description);\n  \n      this.container.appendChild(group);\n      this.container.appendChild(this.error_holder);\n  \n      window.jQuery(this.input).selectize({\n        delimiter: false,\n        createOnBlur: true,\n        create: true\n      });\n    },\n    postBuild: function() {\n        var self = this;\n        this.input.selectize.on('change', function(event) {\n            self.refreshValue();\n            self.onChange(true);\n        });\n    },\n    destroy: function() {\n      this.empty(true);\n      if(this.title && this.title.parentNode) this.title.parentNode.removeChild(this.title);\n      if(this.description && this.description.parentNode) this.description.parentNode.removeChild(this.description);\n      if(this.input && this.input.parentNode) this.input.parentNode.removeChild(this.input);\n  \n      this._super();\n    },\n    empty: function(hard) {},\n    setValue: function(value, initial) {\n      var self = this;\n      // Update the array's value, adding/removing rows when necessary\n      value = value || [];\n      if(!(Array.isArray(value))) value = [value];\n  \n      this.input.selectize.clearOptions();\n      this.input.selectize.clear(true);\n  \n      value.forEach(function(item) {\n        self.input.selectize.addOption({text: item, value: item});\n      });\n      this.input.selectize.setValue(value);\n  \n      this.refreshValue(initial);\n    },\n    refreshValue: function(force) {\n      this.value = this.input.selectize.getValue();\n    },\n    showValidationErrors: function(errors) {\n      var self = this;\n  \n      // Get all the errors that pertain to this editor\n      var my_errors = [];\n      var other_errors = [];\n      $each(errors, function(i,error) {\n        if(error.path === self.path) {\n          my_errors.push(error);\n        }\n        else {\n          other_errors.push(error);\n        }\n      });\n  \n      // Show errors for this editor\n      if(this.error_holder) {\n  \n        if(my_errors.length) {\n          var message = [];\n          this.error_holder.innerHTML = '';\n          this.error_holder.style.display = '';\n          $each(my_errors, function(i,error) {\n            self.error_holder.appendChild(self.theme.getErrorMessage(error.message));\n          });\n        }\n        // Hide error area\n        else {\n          this.error_holder.style.display = 'none';\n        }\n      }\n    }\n  });\n  \n  var matchKey = (function () {\n    var elem = document.documentElement;\n  \n    if (elem.matches) return 'matches';\n    else if (elem.webkitMatchesSelector) return 'webkitMatchesSelector';\n    else if (elem.mozMatchesSelector) return 'mozMatchesSelector';\n    else if (elem.msMatchesSelector) return 'msMatchesSelector';\n    else if (elem.oMatchesSelector) return 'oMatchesSelector';\n  })();\n  \n  JSONEditor.AbstractTheme = Class.extend({\n    getContainer: function() {\n      return document.createElement('div');\n    },\n    getFloatRightLinkHolder: function() {\n      var el = document.createElement('div');\n      el.style = el.style || {};\n      el.style.cssFloat = 'right';\n      el.style.marginLeft = '10px';\n      return el;\n    },\n    getModal: function() {\n      var el = document.createElement('div');\n      el.style.backgroundColor = 'white';\n      el.style.border = '1px solid black';\n      el.style.boxShadow = '3px 3px black';\n      el.style.position = 'absolute';\n      el.style.zIndex = '10';\n      el.style.display = 'none';\n      return el;\n    },\n    getGridContainer: function() {\n      var el = document.createElement('div');\n      return el;\n    },\n    getGridRow: function() {\n      var el = document.createElement('div');\n      el.className = 'row';\n      return el;\n    },\n    getGridColumn: function() {\n      var el = document.createElement('div');\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n  \n    },\n    getLink: function(text) {\n      var el = document.createElement('a');\n      el.setAttribute('href','#');\n      el.appendChild(document.createTextNode(text));\n      return el;\n    },\n    disableHeader: function(header) {\n      header.style.color = '#ccc';\n    },\n    disableLabel: function(label) {\n      label.style.color = '#ccc';\n    },\n    enableHeader: function(header) {\n      header.style.color = '';\n    },\n    enableLabel: function(label) {\n      label.style.color = '';\n    },\n    getFormInputLabel: function(text) {\n      var el = document.createElement('label');\n      el.appendChild(document.createTextNode(text));\n      return el;\n    },\n    getCheckboxLabel: function(text) {\n      var el = this.getFormInputLabel(text);\n      el.style.fontWeight = 'normal';\n      return el;\n    },\n    getHeader: function(text) {\n      var el = document.createElement('h3');\n      if(typeof text === \"string\") {\n        el.textContent = text;\n      }\n      else {\n        el.appendChild(text);\n      }\n  \n      return el;\n    },\n    getCheckbox: function() {\n      var el = this.getFormInputField('checkbox');\n      el.style.display = 'inline-block';\n      el.style.width = 'auto';\n      return el;\n    },\n    getMultiCheckboxHolder: function(controls,label,description) {\n      var el = document.createElement('div');\n  \n      if(label) {\n        label.style.display = 'block';\n        el.appendChild(label);\n      }\n  \n      for(var i in controls) {\n        if(!controls.hasOwnProperty(i)) continue;\n        controls[i].style.display = 'inline-block';\n        controls[i].style.marginRight = '20px';\n        el.appendChild(controls[i]);\n      }\n  \n      if(description) el.appendChild(description);\n  \n      return el;\n    },\n    getSelectInput: function(options) {\n      var select = document.createElement('select');\n      if(options) this.setSelectOptions(select, options);\n      return select;\n    },\n    getSwitcher: function(options) {\n      var switcher = this.getSelectInput(options);\n      switcher.style.backgroundColor = 'transparent';\n      switcher.style.display = 'inline-block';\n      switcher.style.fontStyle = 'italic';\n      switcher.style.fontWeight = 'normal';\n      switcher.style.height = 'auto';\n      switcher.style.marginBottom = 0;\n      switcher.style.marginLeft = '5px';\n      switcher.style.padding = '0 0 0 3px';\n      switcher.style.width = 'auto';\n      return switcher;\n    },\n    getSwitcherOptions: function(switcher) {\n      return switcher.getElementsByTagName('option');\n    },\n    setSwitcherOptions: function(switcher, options, titles) {\n      this.setSelectOptions(switcher, options, titles);\n    },\n    setSelectOptions: function(select, options, titles) {\n      titles = titles || [];\n      select.innerHTML = '';\n      for(var i=0; i<options.length; i++) {\n        var option = document.createElement('option');\n        option.setAttribute('value',options[i]);\n        option.textContent = titles[i] || options[i];\n        select.appendChild(option);\n      }\n    },\n    getTextareaInput: function() {\n      var el = document.createElement('textarea');\n      el.style = el.style || {};\n      el.style.width = '100%';\n      el.style.height = '300px';\n      el.style.boxSizing = 'border-box';\n      return el;\n    },\n    getRangeInput: function(min,max,step) {\n      var el = this.getFormInputField('range');\n      el.setAttribute('min',min);\n      el.setAttribute('max',max);\n      el.setAttribute('step',step);\n      return el;\n    },\n    getFormInputField: function(type) {\n      var el = document.createElement('input');\n      el.setAttribute('type',type);\n      return el;\n    },\n    afterInputReady: function(input) {\n  \n    },\n    getFormControl: function(label, input, description) {\n      var el = document.createElement('div');\n      el.className = 'form-control';\n      if(label) el.appendChild(label);\n      if(input.type === 'checkbox') {\n        label.insertBefore(input,label.firstChild);\n      }\n      else {\n        el.appendChild(input);\n      }\n  \n      if(description) el.appendChild(description);\n      return el;\n    },\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.style = el.style || {};\n      el.style.paddingLeft = '10px';\n      el.style.marginLeft = '10px';\n      el.style.borderLeft = '1px solid #ccc';\n      return el;\n    },\n    getChildEditorHolder: function() {\n      return document.createElement('div');\n    },\n    getDescription: function(text) {\n      var el = document.createElement('p');\n      el.innerHTML = text;\n      return el;\n    },\n    getCheckboxDescription: function(text) {\n      return this.getDescription(text);\n    },\n    getFormInputDescription: function(text) {\n      return this.getDescription(text);\n    },\n    getHeaderButtonHolder: function() {\n      return this.getButtonHolder();\n    },\n    getButtonHolder: function() {\n      return document.createElement('div');\n    },\n    getButton: function(text, icon, title) {\n      var el = document.createElement('button');\n      el.type = 'button';\n      this.setButtonText(el,text,icon,title);\n      return el;\n    },\n    setButtonText: function(button, text, icon, title) {\n      button.innerHTML = '';\n      if(icon) {\n        button.appendChild(icon);\n        button.innerHTML += ' ';\n      }\n      button.appendChild(document.createTextNode(text));\n      if(title) button.setAttribute('title',title);\n    },\n    getTable: function() {\n      return document.createElement('table');\n    },\n    getTableRow: function() {\n      return document.createElement('tr');\n    },\n    getTableHead: function() {\n      return document.createElement('thead');\n    },\n    getTableBody: function() {\n      return document.createElement('tbody');\n    },\n    getTableHeaderCell: function(text) {\n      var el = document.createElement('th');\n      el.textContent = text;\n      return el;\n    },\n    getTableCell: function() {\n      var el = document.createElement('td');\n      return el;\n    },\n    getErrorMessage: function(text) {\n      var el = document.createElement('p');\n      el.style = el.style || {};\n      el.style.color = 'red';\n      el.appendChild(document.createTextNode(text));\n      return el;\n    },\n    addInputError: function(input, text) {\n    },\n    removeInputError: function(input) {\n    },\n    addTableRowError: function(row) {\n    },\n    removeTableRowError: function(row) {\n    },\n    getTabHolder: function() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>\";\n      return el;\n    },\n    applyStyles: function(el,styles) {\n      el.style = el.style || {};\n      for(var i in styles) {\n        if(!styles.hasOwnProperty(i)) continue;\n        el.style[i] = styles[i];\n      }\n    },\n    closest: function(elem, selector) {\n      while (elem && elem !== document) {\n        if (elem[matchKey]) {\n          if (elem[matchKey](selector)) {\n            return elem;\n          } else {\n            elem = elem.parentNode;\n          }\n        }\n        else {\n          return false;\n        }\n      }\n      return false;\n    },\n    getTab: function(span) {\n      var el = document.createElement('div');\n      el.appendChild(span);\n      el.style = el.style || {};\n      this.applyStyles(el,{\n        border: '1px solid #ccc',\n        borderWidth: '1px 0 1px 1px',\n        textAlign: 'center',\n        lineHeight: '30px',\n        borderRadius: '5px',\n        borderBottomRightRadius: 0,\n        borderTopRightRadius: 0,\n        fontWeight: 'bold',\n        cursor: 'pointer'\n      });\n      return el;\n    },\n    getTabContentHolder: function(tab_holder) {\n      return tab_holder.children[1];\n    },\n    getTabContent: function() {\n      return this.getIndentedPanel();\n    },\n    markTabActive: function(tab) {\n      this.applyStyles(tab,{\n        opacity: 1,\n        background: 'white'\n      });\n    },\n    markTabInactive: function(tab) {\n      this.applyStyles(tab,{\n        opacity:0.5,\n        background: ''\n      });\n    },\n    addTab: function(holder, tab) {\n      holder.children[0].appendChild(tab);\n    },\n    getBlockLink: function() {\n      var link = document.createElement('a');\n      link.style.display = 'block';\n      return link;\n    },\n    getBlockLinkHolder: function() {\n      var el = document.createElement('div');\n      return el;\n    },\n    getLinksHolder: function() {\n      var el = document.createElement('div');\n      return el;\n    },\n    createMediaLink: function(holder,link,media) {\n      holder.appendChild(link);\n      media.style.width='100%';\n      holder.appendChild(media);\n    },\n    createImageLink: function(holder,link,image) {\n      holder.appendChild(link);\n      link.appendChild(image);\n    }\n  });\n  \n  JSONEditor.defaults.themes.bootstrap2 = JSONEditor.AbstractTheme.extend({\n    getRangeInput: function(min, max, step) {\n      // TODO: use bootstrap slider\n      return this._super(min, max, step);\n    },\n    getGridContainer: function() {\n      var el = document.createElement('div');\n      el.className = 'container-fluid';\n      return el;\n    },\n    getGridRow: function() {\n      var el = document.createElement('div');\n      el.className = 'row-fluid';\n      return el;\n    },\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.display = 'inline-block';\n      el.style.fontWeight = 'bold';\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n      el.className = 'span'+size;\n    },\n    getSelectInput: function(options) {\n      var input = this._super(options);\n      input.style.width = 'auto';\n      input.style.maxWidth = '98%';\n      return input;\n    },\n    getFormInputField: function(type) {\n      var el = this._super(type);\n      el.style.width = '98%';\n      return el;\n    },\n    afterInputReady: function(input) {\n      if(input.controlgroup) return;\n      input.controlgroup = this.closest(input,'.control-group');\n      input.controls = this.closest(input,'.controls');\n      if(this.closest(input,'.compact')) {\n        input.controlgroup.className = input.controlgroup.className.replace(/control-group/g,'').replace(/[ ]{2,}/g,' ');\n        input.controls.className = input.controlgroup.className.replace(/controls/g,'').replace(/[ ]{2,}/g,' ');\n        input.style.marginBottom = 0;\n      }\n  \n      // TODO: use bootstrap slider\n    },\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.className = 'well well-small';\n      el.style.paddingBottom = 0;\n      return el;\n    },\n    getFormInputDescription: function(text) {\n      var el = document.createElement('p');\n      el.className = 'help-inline';\n      el.textContent = text;\n      return el;\n    },\n    getFormControl: function(label, input, description) {\n      var ret = document.createElement('div');\n      ret.className = 'control-group';\n  \n      var controls = document.createElement('div');\n      controls.className = 'controls';\n  \n      if(label && input.getAttribute('type') === 'checkbox') {\n        ret.appendChild(controls);\n        label.className += ' checkbox';\n        label.appendChild(input);\n        controls.appendChild(label);\n        controls.style.height = '30px';\n      }\n      else {\n        if(label) {\n          label.className += ' control-label';\n          ret.appendChild(label);\n        }\n        controls.appendChild(input);\n        ret.appendChild(controls);\n      }\n  \n      if(description) controls.appendChild(description);\n  \n      return ret;\n    },\n    getHeaderButtonHolder: function() {\n      var el = this.getButtonHolder();\n      el.style.marginLeft = '10px';\n      return el;\n    },\n    getButtonHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'btn-group';\n      return el;\n    },\n    getButton: function(text, icon, title) {\n      var el =  this._super(text, icon, title);\n      el.className += ' btn btn-default';\n      return el;\n    },\n    getTable: function() {\n      var el = document.createElement('table');\n      el.className = 'table table-bordered';\n      el.style.width = 'auto';\n      el.style.maxWidth = 'none';\n      return el;\n    },\n    addInputError: function(input,text) {\n      if(!input.controlgroup || !input.controls) return;\n      input.controlgroup.className += ' error';\n      if(!input.errmsg) {\n        input.errmsg = document.createElement('p');\n        input.errmsg.className = 'help-block errormsg';\n        input.controls.appendChild(input.errmsg);\n      }\n      else {\n        input.errmsg.style.display = '';\n      }\n  \n      input.errmsg.textContent = text;\n    },\n    removeInputError: function(input) {\n      if(!input.errmsg) return;\n      input.errmsg.style.display = 'none';\n      input.controlgroup.className = input.controlgroup.className.replace(/\\s?error/g,'');\n    },\n    getTabHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'tabbable tabs-left';\n      el.innerHTML = \"<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>\";\n      return el;\n    },\n    getTab: function(text) {\n      var el = document.createElement('li');\n      var a = document.createElement('a');\n      a.setAttribute('href','#');\n      a.appendChild(text);\n      el.appendChild(a);\n      return el;\n    },\n    getTabContentHolder: function(tab_holder) {\n      return tab_holder.children[1];\n    },\n    getTabContent: function() {\n      var el = document.createElement('div');\n      el.className = 'tab-pane active';\n      return el;\n    },\n    markTabActive: function(tab) {\n      tab.className += ' active';\n    },\n    markTabInactive: function(tab) {\n      tab.className = tab.className.replace(/\\s?active/g,'');\n    },\n    addTab: function(holder, tab) {\n      holder.children[0].appendChild(tab);\n    },\n    getProgressBar: function() {\n      var container = document.createElement('div');\n      container.className = 'progress';\n  \n      var bar = document.createElement('div');\n      bar.className = 'bar';\n      bar.style.width = '0%';\n      container.appendChild(bar);\n  \n      return container;\n    },\n    updateProgressBar: function(progressBar, progress) {\n      if (!progressBar) return;\n  \n      progressBar.firstChild.style.width = progress + \"%\";\n    },\n    updateProgressBarUnknown: function(progressBar) {\n      if (!progressBar) return;\n  \n      progressBar.className = 'progress progress-striped active';\n      progressBar.firstChild.style.width = '100%';\n    }\n  });\n  \n  JSONEditor.defaults.themes.bootstrap3 = JSONEditor.AbstractTheme.extend({\n    getSelectInput: function(options) {\n      var el = this._super(options);\n      el.className += 'form-control';\n      //el.style.width = 'auto';\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n      el.className = 'col-md-'+size;\n    },\n    afterInputReady: function(input) {\n      if(input.controlgroup) return;\n      input.controlgroup = this.closest(input,'.form-group');\n      if(this.closest(input,'.compact')) {\n        input.controlgroup.style.marginBottom = 0;\n      }\n  \n      // TODO: use bootstrap slider\n    },\n    getTextareaInput: function() {\n      var el = document.createElement('textarea');\n      el.className = 'form-control';\n      return el;\n    },\n    getRangeInput: function(min, max, step) {\n      // TODO: use better slider\n      return this._super(min, max, step);\n    },\n    getFormInputField: function(type) {\n      var el = this._super(type);\n      if(type !== 'checkbox') {\n        el.className += 'form-control';\n      }\n      return el;\n    },\n    getFormControl: function(label, input, description) {\n      var group = document.createElement('div');\n  \n      if(label && input.type === 'checkbox') {\n        group.className += ' checkbox';\n        label.appendChild(input);\n        label.style.fontSize = '14px';\n        group.style.marginTop = '0';\n        group.appendChild(label);\n        input.style.position = 'relative';\n        input.style.cssFloat = 'left';\n      } \n      else {\n        group.className += ' form-group';\n        if(label) {\n          label.className += ' control-label';\n          group.appendChild(label);\n        }\n        group.appendChild(input);\n      }\n  \n      if(description) group.appendChild(description);\n  \n      return group;\n    },\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.className = 'well well-sm';\n      el.style.paddingBottom = 0;\n      return el;\n    },\n    getFormInputDescription: function(text) {\n      var el = document.createElement('p');\n      el.className = 'help-block';\n      el.innerHTML = text;\n      return el;\n    },\n    getHeaderButtonHolder: function() {\n      var el = this.getButtonHolder();\n      el.style.marginLeft = '10px';\n      return el;\n    },\n    getButtonHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'btn-group';\n      return el;\n    },\n    getButton: function(text, icon, title) {\n      var el = this._super(text, icon, title);\n      el.className += 'btn btn-default';\n      return el;\n    },\n    getTable: function() {\n      var el = document.createElement('table');\n      el.className = 'table table-bordered';\n      el.style.width = 'auto';\n      el.style.maxWidth = 'none';\n      return el;\n    },\n  \n    addInputError: function(input,text) {\n      if(!input.controlgroup) return;\n      input.controlgroup.className += ' has-error';\n      if(!input.errmsg) {\n        input.errmsg = document.createElement('p');\n        input.errmsg.className = 'help-block errormsg';\n        input.controlgroup.appendChild(input.errmsg);\n      }\n      else {\n        input.errmsg.style.display = '';\n      }\n  \n      input.errmsg.textContent = text;\n    },\n    removeInputError: function(input) {\n      if(!input.errmsg) return;\n      input.errmsg.style.display = 'none';\n      input.controlgroup.className = input.controlgroup.className.replace(/\\s?has-error/g,'');\n    },\n    getTabHolder: function() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>\";\n      el.className = 'rows';\n      return el;\n    },\n    getTab: function(text) {\n      var el = document.createElement('a');\n      el.className = 'list-group-item';\n      el.setAttribute('href','#');\n      el.appendChild(text);\n      return el;\n    },\n    markTabActive: function(tab) {\n      tab.className += ' active';\n    },\n    markTabInactive: function(tab) {\n      tab.className = tab.className.replace(/\\s?active/g,'');\n    },\n    getProgressBar: function() {\n      var min = 0, max = 100, start = 0;\n  \n      var container = document.createElement('div');\n      container.className = 'progress';\n  \n      var bar = document.createElement('div');\n      bar.className = 'progress-bar';\n      bar.setAttribute('role', 'progressbar');\n      bar.setAttribute('aria-valuenow', start);\n      bar.setAttribute('aria-valuemin', min);\n      bar.setAttribute('aria-valuenax', max);\n      bar.innerHTML = start + \"%\";\n      container.appendChild(bar);\n  \n      return container;\n    },\n    updateProgressBar: function(progressBar, progress) {\n      if (!progressBar) return;\n  \n      var bar = progressBar.firstChild;\n      var percentage = progress + \"%\";\n      bar.setAttribute('aria-valuenow', progress);\n      bar.style.width = percentage;\n      bar.innerHTML = percentage;\n    },\n    updateProgressBarUnknown: function(progressBar) {\n      if (!progressBar) return;\n  \n      var bar = progressBar.firstChild;\n      progressBar.className = 'progress progress-striped active';\n      bar.removeAttribute('aria-valuenow');\n      bar.style.width = '100%';\n      bar.innerHTML = '';\n    }\n  });\n  \n  // Base Foundation theme\n  JSONEditor.defaults.themes.foundation = JSONEditor.AbstractTheme.extend({\n    getChildEditorHolder: function() {\n      var el = document.createElement('div');\n      el.style.marginBottom = '15px';\n      return el;\n    },\n    getSelectInput: function(options) {\n      var el = this._super(options);\n      el.style.minWidth = 'none';\n      el.style.padding = '5px';\n      el.style.marginTop = '3px';\n      return el;\n    },\n    getSwitcher: function(options) {\n      var el = this._super(options);\n      el.style.paddingRight = '8px';\n      return el;\n    },\n    afterInputReady: function(input) {\n      if(this.closest(input,'.compact')) {\n        input.style.marginBottom = 0;\n      }\n      input.group = this.closest(input,'.form-control');\n    },\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.display = 'inline-block';\n      return el;\n    },\n    getFormInputField: function(type) {\n      var el = this._super(type);\n      el.style.width = '100%';\n      el.style.marginBottom = type==='checkbox'? '0' : '12px';\n      return el;\n    },\n    getFormInputDescription: function(text) {\n      var el = document.createElement('p');\n      el.textContent = text;\n      el.style.marginTop = '-10px';\n      el.style.fontStyle = 'italic';\n      return el;\n    },\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.className = 'panel';\n      el.style.paddingBottom = 0;\n      return el;\n    },\n    getHeaderButtonHolder: function() {\n      var el = this.getButtonHolder();\n      el.style.display = 'inline-block';\n      el.style.marginLeft = '10px';\n      el.style.verticalAlign = 'middle';\n      return el;\n    },\n    getButtonHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'button-group';\n      return el;\n    },\n    getButton: function(text, icon, title) {\n      var el = this._super(text, icon, title);\n      el.className += ' small button';\n      return el;\n    },\n    addInputError: function(input,text) {\n      if(!input.group) return;\n      input.group.className += ' error';\n  \n      if(!input.errmsg) {\n        input.insertAdjacentHTML('afterend','<small class=\"error\"></small>');\n        input.errmsg = input.parentNode.getElementsByClassName('error')[0];\n      }\n      else {\n        input.errmsg.style.display = '';\n      }\n  \n      input.errmsg.textContent = text;\n    },\n    removeInputError: function(input) {\n      if(!input.errmsg) return;\n      input.group.className = input.group.className.replace(/ error/g,'');\n      input.errmsg.style.display = 'none';\n    },\n    getProgressBar: function() {\n      var progressBar = document.createElement('div');\n      progressBar.className = 'progress';\n  \n      var meter = document.createElement('span');\n      meter.className = 'meter';\n      meter.style.width = '0%';\n      progressBar.appendChild(meter);\n      return progressBar;\n    },\n    updateProgressBar: function(progressBar, progress) {\n      if (!progressBar) return;\n      progressBar.firstChild.style.width = progress + '%';\n    },\n    updateProgressBarUnknown: function(progressBar) {\n      if (!progressBar) return;\n      progressBar.firstChild.style.width = '100%';\n    }\n  });\n  \n  // Foundation 3 Specific Theme\n  JSONEditor.defaults.themes.foundation3 = JSONEditor.defaults.themes.foundation.extend({\n    getHeaderButtonHolder: function() {\n      var el = this._super();\n      el.style.fontSize = '.6em';\n      return el;\n    },\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.fontWeight = 'bold';\n      return el;\n    },\n    getTabHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'row';\n      el.innerHTML = \"<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>\";\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n      var sizes = ['zero','one','two','three','four','five','six','seven','eight','nine','ten','eleven','twelve'];\n      el.className = 'columns '+sizes[size];\n    },\n    getTab: function(text) {\n      var el = document.createElement('dd');\n      var a = document.createElement('a');\n      a.setAttribute('href','#');\n      a.appendChild(text);\n      el.appendChild(a);\n      return el;\n    },\n    getTabContentHolder: function(tab_holder) {\n      return tab_holder.children[1];\n    },\n    getTabContent: function() {\n      var el = document.createElement('div');\n      el.className = 'content active';\n      el.style.paddingLeft = '5px';\n      return el;\n    },\n    markTabActive: function(tab) {\n      tab.className += ' active';\n    },\n    markTabInactive: function(tab) {\n      tab.className = tab.className.replace(/\\s*active/g,'');\n    },\n    addTab: function(holder, tab) {\n      holder.children[0].appendChild(tab);\n    }\n  });\n  \n  // Foundation 4 Specific Theme\n  JSONEditor.defaults.themes.foundation4 = JSONEditor.defaults.themes.foundation.extend({\n    getHeaderButtonHolder: function() {\n      var el = this._super();\n      el.style.fontSize = '.6em';\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n      el.className = 'columns large-'+size;\n    },\n    getFormInputDescription: function(text) {\n      var el = this._super(text);\n      el.style.fontSize = '.8rem';\n      return el;\n    },\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.fontWeight = 'bold';\n      return el;\n    }\n  });\n  \n  // Foundation 5 Specific Theme\n  JSONEditor.defaults.themes.foundation5 = JSONEditor.defaults.themes.foundation.extend({\n    getFormInputDescription: function(text) {\n      var el = this._super(text);\n      el.style.fontSize = '.8rem';\n      return el;\n    },\n    setGridColumnSize: function(el,size) {\n      el.className = 'columns medium-'+size;\n    },\n    getButton: function(text, icon, title) {\n      var el = this._super(text,icon,title);\n      el.className = el.className.replace(/\\s*small/g,'') + ' tiny';\n      return el;\n    },\n    getTabHolder: function() {\n      var el = document.createElement('div');\n      el.innerHTML = \"<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>\";\n      return el;\n    },\n    getTab: function(text) {\n      var el = document.createElement('dd');\n      var a = document.createElement('a');\n      a.setAttribute('href','#');\n      a.appendChild(text);\n      el.appendChild(a);\n      return el;\n    },\n    getTabContentHolder: function(tab_holder) {\n      return tab_holder.children[1];\n    },\n    getTabContent: function() {\n      var el = document.createElement('div');\n      el.className = 'content active';\n      el.style.paddingLeft = '5px';\n      return el;\n    },\n    markTabActive: function(tab) {\n      tab.className += ' active';\n    },\n    markTabInactive: function(tab) {\n      tab.className = tab.className.replace(/\\s*active/g,'');\n    },\n    addTab: function(holder, tab) {\n      holder.children[0].appendChild(tab);\n    }\n  });\n  \n  JSONEditor.defaults.themes.foundation6 = JSONEditor.defaults.themes.foundation5.extend({\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.className = 'callout secondary';\n      return el;\n    },\n    getButtonHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'button-group tiny';\n      el.style.marginBottom = 0;\n      return el;\n    },\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.display = 'block';\n      return el;\n    },\n    getFormControl: function(label, input, description) {\n      var el = document.createElement('div');\n      el.className = 'form-control';\n      if(label) el.appendChild(label);\n      if(input.type === 'checkbox') {\n        label.insertBefore(input,label.firstChild);\n      }\n      else if (label) {\n        label.appendChild(input);\n      } else {\n        el.appendChild(input);\n      }\n  \n      if(description) label.appendChild(description);\n      return el;\n    },\n    addInputError: function(input,text) {\n      if(!input.group) return;\n      input.group.className += ' error';\n  \n      if(!input.errmsg) {\n        var errorEl = document.createElement('span');\n        errorEl.className = 'form-error is-visible';\n        input.group.getElementsByTagName('label')[0].appendChild(errorEl);\n  \n        input.className = input.className + ' is-invalid-input';\n  \n        input.errmsg = errorEl;\n      }\n      else {\n        input.errmsg.style.display = '';\n        input.className = '';\n      }\n  \n      input.errmsg.textContent = text;\n    },\n    removeInputError: function(input) {\n      if(!input.errmsg) return;\n      input.className = input.className.replace(/ is-invalid-input/g,'');\n      if(input.errmsg.parentNode) {\n        input.errmsg.parentNode.removeChild(input.errmsg);\n      }\n    },\n  });\n  \n  JSONEditor.defaults.themes.html = JSONEditor.AbstractTheme.extend({\n    getFormInputLabel: function(text) {\n      var el = this._super(text);\n      el.style.display = 'block';\n      el.style.marginBottom = '3px';\n      el.style.fontWeight = 'bold';\n      return el;\n    },\n    getFormInputDescription: function(text) {\n      var el = this._super(text);\n      el.style.fontSize = '.8em';\n      el.style.margin = 0;\n      el.style.display = 'inline-block';\n      el.style.fontStyle = 'italic';\n      return el;\n    },\n    getIndentedPanel: function() {\n      var el = this._super();\n      el.style.border = '1px solid #ddd';\n      el.style.padding = '5px';\n      el.style.margin = '5px';\n      el.style.borderRadius = '3px';\n      return el;\n    },\n    getChildEditorHolder: function() {\n      var el = this._super();\n      el.style.marginBottom = '8px';\n      return el;\n    },\n    getHeaderButtonHolder: function() {\n      var el = this.getButtonHolder();\n      el.style.display = 'inline-block';\n      el.style.marginLeft = '10px';\n      el.style.fontSize = '.8em';\n      el.style.verticalAlign = 'middle';\n      return el;\n    },\n    getTable: function() {\n      var el = this._super();\n      el.style.borderBottom = '1px solid #ccc';\n      el.style.marginBottom = '5px';\n      return el;\n    },\n    addInputError: function(input, text) {\n      input.style.borderColor = 'red';\n      \n      if(!input.errmsg) {\n        var group = this.closest(input,'.form-control');\n        input.errmsg = document.createElement('div');\n        input.errmsg.setAttribute('class','errmsg');\n        input.errmsg.style = input.errmsg.style || {};\n        input.errmsg.style.color = 'red';\n        group.appendChild(input.errmsg);\n      }\n      else {\n        input.errmsg.style.display = 'block';\n      }\n      \n      input.errmsg.innerHTML = '';\n      input.errmsg.appendChild(document.createTextNode(text));\n    },\n    removeInputError: function(input) {\n      input.style.borderColor = '';\n      if(input.errmsg) input.errmsg.style.display = 'none';\n    },\n    getProgressBar: function() {\n      var max = 100, start = 0;\n  \n      var progressBar = document.createElement('progress');\n      progressBar.setAttribute('max', max);\n      progressBar.setAttribute('value', start);\n      return progressBar;\n    },\n    updateProgressBar: function(progressBar, progress) {\n      if (!progressBar) return;\n      progressBar.setAttribute('value', progress);\n    },\n    updateProgressBarUnknown: function(progressBar) {\n      if (!progressBar) return;\n      progressBar.removeAttribute('value');\n    }\n  });\n  \n  JSONEditor.defaults.themes.jqueryui = JSONEditor.AbstractTheme.extend({\n    getTable: function() {\n      var el = this._super();\n      el.setAttribute('cellpadding',5);\n      el.setAttribute('cellspacing',0);\n      return el;\n    },\n    getTableHeaderCell: function(text) {\n      var el = this._super(text);\n      el.className = 'ui-state-active';\n      el.style.fontWeight = 'bold';\n      return el;\n    },\n    getTableCell: function() {\n      var el = this._super();\n      el.className = 'ui-widget-content';\n      return el;\n    },\n    getHeaderButtonHolder: function() {\n      var el = this.getButtonHolder();\n      el.style.marginLeft = '10px';\n      el.style.fontSize = '.6em';\n      el.style.display = 'inline-block';\n      return el;\n    },\n    getFormInputDescription: function(text) {\n      var el = this.getDescription(text);\n      el.style.marginLeft = '10px';\n      el.style.display = 'inline-block';\n      return el;\n    },\n    getFormControl: function(label, input, description) {\n      var el = this._super(label,input,description);\n      if(input.type === 'checkbox') {\n        el.style.lineHeight = '25px';\n        \n        el.style.padding = '3px 0';\n      }\n      else {\n        el.style.padding = '4px 0 8px 0';\n      }\n      return el;\n    },\n    getDescription: function(text) {\n      var el = document.createElement('span');\n      el.style.fontSize = '.8em';\n      el.style.fontStyle = 'italic';\n      el.textContent = text;\n      return el;\n    },\n    getButtonHolder: function() {\n      var el = document.createElement('div');\n      el.className = 'ui-buttonset';\n      el.style.fontSize = '.7em';\n      return el;\n    },\n    getFormInputLabel: function(text) {\n      var el = document.createElement('label');\n      el.style.fontWeight = 'bold';\n      el.style.display = 'block';\n      el.textContent = text;\n      return el;\n    },\n    getButton: function(text, icon, title) {\n      var button = document.createElement(\"button\");\n      button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n  \n      // Icon only\n      if(icon && !text) {\n        button.className += ' ui-button-icon-only';\n        icon.className += ' ui-button-icon-primary ui-icon-primary';\n        button.appendChild(icon);\n      }\n      // Icon and Text\n      else if(icon) {\n        button.className += ' ui-button-text-icon-primary';\n        icon.className += ' ui-button-icon-primary ui-icon-primary';\n        button.appendChild(icon);\n      }\n      // Text only\n      else {\n        button.className += ' ui-button-text-only';\n      }\n  \n      var el = document.createElement('span');\n      el.className = 'ui-button-text';\n      el.textContent = text||title||\".\";\n      button.appendChild(el);\n  \n      button.setAttribute('title',title);\n      \n      return button;\n    },\n    setButtonText: function(button,text, icon, title) {\n      button.innerHTML = '';\n      button.className = 'ui-button ui-widget ui-state-default ui-corner-all';\n  \n      // Icon only\n      if(icon && !text) {\n        button.className += ' ui-button-icon-only';\n        icon.className += ' ui-button-icon-primary ui-icon-primary';\n        button.appendChild(icon);\n      }\n      // Icon and Text\n      else if(icon) {\n        button.className += ' ui-button-text-icon-primary';\n        icon.className += ' ui-button-icon-primary ui-icon-primary';\n        button.appendChild(icon);\n      }\n      // Text only\n      else {\n        button.className += ' ui-button-text-only';\n      }\n  \n      var el = document.createElement('span');\n      el.className = 'ui-button-text';\n      el.textContent = text||title||\".\";\n      button.appendChild(el);\n  \n      button.setAttribute('title',title);\n    },\n    getIndentedPanel: function() {\n      var el = document.createElement('div');\n      el.className = 'ui-widget-content ui-corner-all';\n      el.style.padding = '1em 1.4em';\n      el.style.marginBottom = '20px';\n      return el;\n    },\n    afterInputReady: function(input) {\n      if(input.controls) return;\n      input.controls = this.closest(input,'.form-control');\n    },\n    addInputError: function(input,text) {\n      if(!input.controls) return;\n      if(!input.errmsg) {\n        input.errmsg = document.createElement('div');\n        input.errmsg.className = 'ui-state-error';\n        input.controls.appendChild(input.errmsg);\n      }\n      else {\n        input.errmsg.style.display = '';\n      }\n  \n      input.errmsg.textContent = text;\n    },\n    removeInputError: function(input) {\n      if(!input.errmsg) return;\n      input.errmsg.style.display = 'none';\n    },\n    markTabActive: function(tab) {\n      tab.className = tab.className.replace(/\\s*ui-widget-header/g,'')+' ui-state-active';\n    },\n    markTabInactive: function(tab) {\n      tab.className = tab.className.replace(/\\s*ui-state-active/g,'')+' ui-widget-header';\n    }\n  });\n  \n  JSONEditor.defaults.themes.barebones = JSONEditor.AbstractTheme.extend({\n      getFormInputLabel: function (text) {\n          var el = this._super(text);\n          return el;\n      },\n      getFormInputDescription: function (text) {\n          var el = this._super(text);\n          return el;\n      },\n      getIndentedPanel: function () {\n          var el = this._super();\n          return el;\n      },\n      getChildEditorHolder: function () {\n          var el = this._super();\n          return el;\n      },\n      getHeaderButtonHolder: function () {\n          var el = this.getButtonHolder();\n          return el;\n      },\n      getTable: function () {\n          var el = this._super();\n          return el;\n      },\n      addInputError: function (input, text) {\n          if (!input.errmsg) {\n              var group = this.closest(input, '.form-control');\n              input.errmsg = document.createElement('div');\n              input.errmsg.setAttribute('class', 'errmsg');\n              group.appendChild(input.errmsg);\n          }\n          else {\n              input.errmsg.style.display = 'block';\n          }\n  \n          input.errmsg.innerHTML = '';\n          input.errmsg.appendChild(document.createTextNode(text));\n      },\n      removeInputError: function (input) {\n          input.style.borderColor = '';\n          if (input.errmsg) input.errmsg.style.display = 'none';\n      },\n      getProgressBar: function () {\n          var max = 100, start = 0;\n  \n          var progressBar = document.createElement('progress');\n          progressBar.setAttribute('max', max);\n          progressBar.setAttribute('value', start);\n          return progressBar;\n      },\n      updateProgressBar: function (progressBar, progress) {\n          if (!progressBar) return;\n          progressBar.setAttribute('value', progress);\n      },\n      updateProgressBarUnknown: function (progressBar) {\n          if (!progressBar) return;\n          progressBar.removeAttribute('value');\n      }\n  });\n  \n  JSONEditor.AbstractIconLib = Class.extend({\n    mapping: {\n      collapse: '',\n      expand: '',\n      \"delete\": '',\n      edit: '',\n      add: '',\n      cancel: '',\n      save: '',\n      moveup: '',\n      movedown: ''\n    },\n    icon_prefix: '',\n    getIconClass: function(key) {\n      if(this.mapping[key]) return this.icon_prefix+this.mapping[key];\n      else return null;\n    },\n    getIcon: function(key) {\n      var iconclass = this.getIconClass(key);\n      \n      if(!iconclass) return null;\n      \n      var i = document.createElement('i');\n      i.className = iconclass;\n      return i;\n    }\n  });\n  \n  JSONEditor.defaults.iconlibs.bootstrap2 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'chevron-down',\n      expand: 'chevron-up',\n      \"delete\": 'trash',\n      edit: 'pencil',\n      add: 'plus',\n      cancel: 'ban-circle',\n      save: 'ok',\n      moveup: 'arrow-up',\n      movedown: 'arrow-down'\n    },\n    icon_prefix: 'icon-'\n  });\n  \n  JSONEditor.defaults.iconlibs.bootstrap3 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'chevron-down',\n      expand: 'chevron-right',\n      \"delete\": 'remove',\n      edit: 'pencil',\n      add: 'plus',\n      cancel: 'floppy-remove',\n      save: 'floppy-saved',\n      moveup: 'arrow-up',\n      movedown: 'arrow-down'\n    },\n    icon_prefix: 'glyphicon glyphicon-'\n  });\n  \n  JSONEditor.defaults.iconlibs.fontawesome3 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'chevron-down',\n      expand: 'chevron-right',\n      \"delete\": 'remove',\n      edit: 'pencil',\n      add: 'plus',\n      cancel: 'ban-circle',\n      save: 'save',\n      moveup: 'arrow-up',\n      movedown: 'arrow-down'\n    },\n    icon_prefix: 'icon-'\n  });\n  \n  JSONEditor.defaults.iconlibs.fontawesome4 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'caret-square-o-down',\n      expand: 'caret-square-o-right',\n      \"delete\": 'times',\n      edit: 'pencil',\n      add: 'plus',\n      cancel: 'ban',\n      save: 'save',\n      moveup: 'arrow-up',\n      movedown: 'arrow-down'\n    },\n    icon_prefix: 'fa fa-'\n  });\n  \n  JSONEditor.defaults.iconlibs.foundation2 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'minus',\n      expand: 'plus',\n      \"delete\": 'remove',\n      edit: 'edit',\n      add: 'add-doc',\n      cancel: 'error',\n      save: 'checkmark',\n      moveup: 'up-arrow',\n      movedown: 'down-arrow'\n    },\n    icon_prefix: 'foundicon-'\n  });\n  \n  JSONEditor.defaults.iconlibs.foundation3 = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'minus',\n      expand: 'plus',\n      \"delete\": 'x',\n      edit: 'pencil',\n      add: 'page-add',\n      cancel: 'x-circle',\n      save: 'save',\n      moveup: 'arrow-up',\n      movedown: 'arrow-down'\n    },\n    icon_prefix: 'fi-'\n  });\n  \n  JSONEditor.defaults.iconlibs.jqueryui = JSONEditor.AbstractIconLib.extend({\n    mapping: {\n      collapse: 'triangle-1-s',\n      expand: 'triangle-1-e',\n      \"delete\": 'trash',\n      edit: 'pencil',\n      add: 'plusthick',\n      cancel: 'closethick',\n      save: 'disk',\n      moveup: 'arrowthick-1-n',\n      movedown: 'arrowthick-1-s'\n    },\n    icon_prefix: 'ui-icon ui-icon-'\n  });\n  \n  JSONEditor.defaults.templates[\"default\"] = function() {\n    return {\n      compile: function(template) {\n        var matches = template.match(/{{\\s*([a-zA-Z0-9\\-_ \\.]+)\\s*}}/g);\n        var l = matches && matches.length;\n  \n        // Shortcut if the template contains no variables\n        if(!l) return function() { return template; };\n  \n        // Pre-compute the search/replace functions\n        // This drastically speeds up template execution\n        var replacements = [];\n        var get_replacement = function(i) {\n          var p = matches[i].replace(/[{}]+/g,'').trim().split('.');\n          var n = p.length;\n          var func;\n          \n          if(n > 1) {\n            var cur;\n            func = function(vars) {\n              cur = vars;\n              for(i=0; i<n; i++) {\n                cur = cur[p[i]];\n                if(!cur) break;\n              }\n              return cur;\n            };\n          }\n          else {\n            p = p[0];\n            func = function(vars) {\n              return vars[p];\n            };\n          }\n          \n          replacements.push({\n            s: matches[i],\n            r: func\n          });\n        };\n        for(var i=0; i<l; i++) {\n          get_replacement(i);\n        }\n  \n        // The compiled function\n        return function(vars) {\n          var ret = template+\"\";\n          var r;\n          for(i=0; i<l; i++) {\n            r = replacements[i];\n            ret = ret.replace(r.s, r.r(vars));\n          }\n          return ret;\n        };\n      }\n    };\n  };\n  \n  JSONEditor.defaults.templates.ejs = function() {\n    if(!window.EJS) return false;\n  \n    return {\n      compile: function(template) {\n        var compiled = new window.EJS({\n          text: template\n        });\n  \n        return function(context) {\n          return compiled.render(context);\n        };\n      }\n    };\n  };\n  \n  JSONEditor.defaults.templates.handlebars = function() {\n    return window.Handlebars;\n  };\n  \n  JSONEditor.defaults.templates.hogan = function() {\n    if(!window.Hogan) return false;\n  \n    return {\n      compile: function(template) {\n        var compiled = window.Hogan.compile(template);\n        return function(context) {\n          return compiled.render(context);\n        };\n      }\n    };\n  };\n  \n  JSONEditor.defaults.templates.markup = function() {\n    if(!window.Mark || !window.Mark.up) return false;\n  \n    return {\n      compile: function(template) {\n        return function(context) {\n          return window.Mark.up(template,context);\n        };\n      }\n    };\n  };\n  \n  JSONEditor.defaults.templates.mustache = function() {\n    if(!window.Mustache) return false;\n  \n    return {\n      compile: function(template) {\n        return function(view) {\n          return window.Mustache.render(template, view);\n        };\n      }\n    };\n  };\n  \n  JSONEditor.defaults.templates.swig = function() {\n    return window.swig;\n  };\n  \n  JSONEditor.defaults.templates.underscore = function() {\n    if(!window._) return false;\n  \n    return {\n      compile: function(template) {\n        return function(context) {\n          return window._.template(template, context);\n        };\n      }\n    };\n  };\n  \n  // Set the default theme\n  JSONEditor.defaults.theme = 'html';\n  \n  // Set the default template engine\n  JSONEditor.defaults.template = 'default';\n  \n  // Default options when initializing JSON Editor\n  JSONEditor.defaults.options = {};\n  \n  // String translate function\n  JSONEditor.defaults.translate = function(key, variables) {\n    var lang = JSONEditor.defaults.languages[JSONEditor.defaults.language];\n    if(!lang) throw \"Unknown language \"+JSONEditor.defaults.language;\n    \n    var string = lang[key] || JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];\n    \n    if(typeof string === \"undefined\") throw \"Unknown translate string \"+key;\n    \n    if(variables) {\n      for(var i=0; i<variables.length; i++) {\n        string = string.replace(new RegExp('\\\\{\\\\{'+i+'}}','g'),variables[i]);\n      }\n    }\n    \n    return string;\n  };\n  \n  // Translation strings and default languages\n  JSONEditor.defaults.default_language = 'en';\n  JSONEditor.defaults.language = JSONEditor.defaults.default_language;\n  JSONEditor.defaults.languages.en = {\n    /**\n     * When a property is not set\n     */\n    error_notset: \"Property must be set\",\n    /**\n     * When a string must not be empty\n     */\n    error_notempty: \"Value required\",\n    /**\n     * When a value is not one of the enumerated values\n     */\n    error_enum: \"Value must be one of the enumerated values\",\n    /**\n     * When a value doesn't validate any schema of a 'anyOf' combination\n     */\n    error_anyOf: \"Value must validate against at least one of the provided schemas\",\n    /**\n     * When a value doesn't validate\n     * @variables This key takes one variable: The number of schemas the value does not validate\n     */\n    error_oneOf: 'Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.',\n    /**\n     * When a value does not validate a 'not' schema\n     */\n    error_not: \"Value must not validate against the provided schema\",\n    /**\n     * When a value does not match any of the provided types\n     */\n    error_type_union: \"Value must be one of the provided types\",\n    /**\n     * When a value does not match the given type\n     * @variables This key takes one variable: The type the value should be of\n     */\n    error_type: \"Value must be of type {{0}}\",\n    /**\n     *  When the value validates one of the disallowed types\n     */\n    error_disallow_union: \"Value must not be one of the provided disallowed types\",\n    /**\n     *  When the value validates a disallowed type\n     * @variables This key takes one variable: The type the value should not be of\n     */\n    error_disallow: \"Value must not be of type {{0}}\",\n    /**\n     * When a value is not a multiple of or divisible by a given number\n     * @variables This key takes one variable: The number mentioned above\n     */\n    error_multipleOf: \"Value must be a multiple of {{0}}\",\n    /**\n     * When a value is greater than it's supposed to be (exclusive)\n     * @variables This key takes one variable: The maximum\n     */\n    error_maximum_excl: \"Value must be less than {{0}}\",\n    /**\n     * When a value is greater than it's supposed to be (inclusive\n     * @variables This key takes one variable: The maximum\n     */\n    error_maximum_incl: \"Value must be at most {{0}}\",\n    /**\n     * When a value is lesser than it's supposed to be (exclusive)\n     * @variables This key takes one variable: The minimum\n     */\n    error_minimum_excl: \"Value must be greater than {{0}}\",\n    /**\n     * When a value is lesser than it's supposed to be (inclusive)\n     * @variables This key takes one variable: The minimum\n     */\n    error_minimum_incl: \"Value must be at least {{0}}\",\n    /**\n     * When a value have too many characters\n     * @variables This key takes one variable: The maximum character count\n     */\n    error_maxLength: \"Value must be at most {{0}} characters long\",\n    /**\n     * When a value does not have enough characters\n     * @variables This key takes one variable: The minimum character count\n     */\n    error_minLength: \"Value must be at least {{0}} characters long\",\n    /**\n     * When a value does not match a given pattern\n     */\n    error_pattern: \"Value must match the pattern {{0}}\",\n    /**\n     * When an array has additional items whereas it is not supposed to\n     */\n    error_additionalItems: \"No additional items allowed in this array\",\n    /**\n     * When there are to many items in an array\n     * @variables This key takes one variable: The maximum item count\n     */\n    error_maxItems: \"Value must have at most {{0}} items\",\n    /**\n     * When there are not enough items in an array\n     * @variables This key takes one variable: The minimum item count\n     */\n    error_minItems: \"Value must have at least {{0}} items\",\n    /**\n     * When an array is supposed to have unique items but has duplicates\n     */\n    error_uniqueItems: \"Array must have unique items\",\n    /**\n     * When there are too many properties in an object\n     * @variables This key takes one variable: The maximum property count\n     */\n    error_maxProperties: \"Object must have at most {{0}} properties\",\n    /**\n     * When there are not enough properties in an object\n     * @variables This key takes one variable: The minimum property count\n     */\n    error_minProperties: \"Object must have at least {{0}} properties\",\n    /**\n     * When a required property is not defined\n     * @variables This key takes one variable: The name of the missing property\n     */\n    error_required: \"Object is missing the required property '{{0}}'\",\n    /**\n     * When there is an additional property is set whereas there should be none\n     * @variables This key takes one variable: The name of the additional property\n     */\n    error_additional_properties: \"No additional properties allowed, but property {{0}} is set\",\n    /**\n     * When a dependency is not resolved\n     * @variables This key takes one variable: The name of the missing property for the dependency\n     */\n    error_dependency: \"Must have property {{0}}\",\n    /**\n     * Text on Delete All buttons\n     */\n    button_delete_all: \"All\",\n    /**\n     * Title on Delete All buttons\n     */\n    button_delete_all_title: \"Delete All\",\n    /**\n      * Text on Delete Last buttons\n      * @variable This key takes one variable: The title of object to delete\n      */\n    button_delete_last: \"Last {{0}}\",\n    /**\n      * Title on Delete Last buttons\n      * @variable This key takes one variable: The title of object to delete\n      */\n    button_delete_last_title: \"Delete Last {{0}}\",\n    /**\n      * Title on Add Row buttons\n      * @variable This key takes one variable: The title of object to add\n      */\n    button_add_row_title: \"Add {{0}}\",\n    /**\n      * Title on Move Down buttons\n      */\n    button_move_down_title: \"Move down\",\n    /**\n      * Title on Move Up buttons\n      */\n    button_move_up_title: \"Move up\",\n    /**\n      * Title on Delete Row buttons\n      * @variable This key takes one variable: The title of object to delete\n      */\n    button_delete_row_title: \"Delete {{0}}\",\n    /**\n      * Title on Delete Row buttons, short version (no parameter with the object title)\n      */\n    button_delete_row_title_short: \"Delete\",\n    /**\n      * Title on Collapse buttons\n      */\n    button_collapse: \"Collapse\",\n    /**\n      * Title on Expand buttons\n      */\n    button_expand: \"Expand\",\n    \n    /**\n     * Custom buttons\n     */\n    custom_set_image: \"Set Image\",\n    custom_set_url: \"Set URL\",\n  };\n  \n  // Miscellaneous Plugin Settings\n  JSONEditor.plugins = {\n    ace: {\n      theme: ''\n    },\n    epiceditor: {\n  \n    },\n    sceditor: {\n  \n    },\n    select2: {\n      \n    },\n    selectize: {\n    }\n  };\n  \n  // Default per-editor options\n  $each(JSONEditor.defaults.editors, function(i,editor) {\n    JSONEditor.defaults.editors[i].options = editor.options || {};\n  });\n  \n  // Set the default resolvers\n  // Use \"multiple\" as a fall back for everything\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(typeof schema.type !== \"string\") return \"multiple\";\n  });\n  // If the type is not set but properties are defined, we can infer the type is actually object\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // If the schema is a simple type\n    if(!schema.type && schema.properties ) return \"object\";\n  });\n  // If the type is set and it's a basic type, use the primitive editor\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // If the schema is a simple type\n    if(typeof schema.type === \"string\") return schema.type;\n  });\n  // Boolean editors\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(schema.type === 'boolean') {\n      // If explicitly set to 'checkbox', use that\n      if(schema.format === \"checkbox\" || (schema.options && schema.options.checkbox)) {\n        return \"checkbox\";\n      }\n      // Otherwise, default to select menu\n      return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n    }\n  });\n  // Use the multiple editor for schemas where the `type` is set to \"any\"\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // If the schema can be of any type\n    if(schema.type === \"any\") return \"multiple\";\n  });\n  // Editor for base64 encoded files\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // If the schema can be of any type\n    if(schema.type === \"string\" && schema.media && schema.media.binaryEncoding===\"base64\") {\n      return \"base64\";\n    }\n  });\n  // Editor for uploading files\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(schema.type === \"string\" && schema.format === \"url\" && schema.options && schema.options.upload === true) {\n      if(window.FileReader) return \"upload\";\n    }\n  });\n  // Use the table editor for arrays with the format set to `table`\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // Type `array` with format set to `table`\n    if(schema.type == \"array\" && schema.format == \"table\") {\n      return \"table\";\n    }\n  });\n  // Use the `select` editor for dynamic enumSource enums\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(schema.enumSource) return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n  });\n  // Use the `enum` or `select` editors for schemas with enumerated properties\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(schema[\"enum\"]) {\n      if(schema.type === \"array\" || schema.type === \"object\") {\n        return \"enum\";\n      }\n      else if(schema.type === \"number\" || schema.type === \"integer\" || schema.type === \"string\") {\n        return (JSONEditor.plugins.selectize.enable) ? 'selectize' : 'select';\n      }\n    }\n  });\n  // Specialized editors for arrays of strings\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    if(schema.type === \"array\" && schema.items && !(Array.isArray(schema.items)) && schema.uniqueItems && ['string','number','integer'].indexOf(schema.items.type) >= 0) {\n      // For enumerated strings, number, or integers\n      if(schema.items.enum) {\n        return 'multiselect';\n      }\n      // For non-enumerated strings (tag editor)\n      else if(JSONEditor.plugins.selectize.enable && schema.items.type === \"string\") {\n        return 'arraySelectize';\n      }\n    }\n  });\n  // Use the multiple editor for schemas with `oneOf` set\n  JSONEditor.defaults.resolvers.unshift(function(schema) {\n    // If this schema uses `oneOf` or `anyOf`\n    if(schema.oneOf || schema.anyOf) return \"multiple\";\n  });\n  \n  /**\n   * This is a small wrapper for using JSON Editor like a typical jQuery plugin.\n   */\n  (function() {\n    if(window.jQuery || window.Zepto) {\n      var $ = window.jQuery || window.Zepto;\n      $.jsoneditor = JSONEditor.defaults;\n      \n      $.fn.jsoneditor = function(options) {\n        var self = this;\n        var editor = this.data('jsoneditor');\n        if(options === 'value') {\n          if(!editor) throw \"Must initialize jsoneditor before getting/setting the value\";\n          \n          // Set value\n          if(arguments.length > 1) {\n            editor.setValue(arguments[1]);\n          }\n          // Get value\n          else {\n            return editor.getValue();\n          }\n        }\n        else if(options === 'validate') {\n          if(!editor) throw \"Must initialize jsoneditor before validating\";\n          \n          // Validate a specific value\n          if(arguments.length > 1) {\n            return editor.validate(arguments[1]);\n          }\n          // Validate current value\n          else {\n            return editor.validate();\n          }\n        }\n        else if(options === 'destroy') {\n          if(editor) {\n            editor.destroy();\n            this.data('jsoneditor',null);\n          }\n        }\n        else {\n          // Destroy first\n          if(editor) {\n            editor.destroy();\n          }\n          \n          // Create editor\n          editor = new JSONEditor(this.get(0),options);\n          this.data('jsoneditor',editor);\n          \n          // Setup event listeners\n          editor.on('change',function() {\n            self.trigger('change');\n          });\n          editor.on('ready',function() {\n            self.trigger('ready');\n          });\n        }\n        \n        return this;\n      };\n    }\n  })();\n  \n    return JSONEditor;\n  })();\n  \n  //# sourceMappingURL=jsoneditor.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/json-editor-class/index.js","/**\n * use AMD loader to require monaco\n * https://github.com/Microsoft/monaco-editor/issues/18\n * @Author: CntChen\n * @Date: 2017-09-20\n */\n\nlet isLoadingAMD = false;\n\n// TODO append as iframe?\nexport const loadMonaco = options => new Promise((resolve, reject) => {\n  const {\n    timeout = 5000,\n    interval = 20,\n    toPath = 'vs',\n  } = options;\n\n  const loadInterval = setInterval(() => {\n    if (window.monaco) {\n      clearInterval(loadInterval);\n      resolve(window.monaco);\n    }\n  }, interval);\n\n  const loadTimeout = setTimeout(() => {\n    clearInterval(loadInterval);\n    clearTimeout(loadTimeout);\n    reject('load monaco timeout');\n  }, timeout);\n\n  const onGoAmdLoader = () => {\n    if (window.monaco) {\n      clearInterval(loadInterval);\n      clearTimeout(loadTimeout);\n      resolve(window.monaco);\n    } else {\n      window.require(['vs/editor/editor.main'], () => {\n        clearInterval(loadInterval);\n        clearTimeout(loadTimeout);\n        resolve(window.monaco);\n      });\n    }\n  };\n\n  const insertScript = () => {\n    if (!window.require && isLoadingAMD === false) {\n      isLoadingAMD = true;\n      const loaderScript = document.createElement('script');\n      loaderScript.type = 'application/javascript';\n      loaderScript.src = `./${toPath}/loader.js`.replace('//', '/');\n      loaderScript.addEventListener('load', onGoAmdLoader);\n      document.head.appendChild(loaderScript);\n    } else if (window.require) {\n      onGoAmdLoader();\n    }\n  };\n\n  insertScript();\n});\n\nexport default {\n  loadMonaco,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/monaco-editor-loader/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"editor\",staticClass:\"editor\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCode),expression:\"isShowCode\"}],ref:\"monacoEditor\",staticClass:\"editor__monaco\",on:{\"wheel\":function($event){$event.preventDefault();}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowForm),expression:\"isShowForm\"}],ref:\"jsonEditor\",staticClass:\"editor__json\",on:{\"wheel\":function($event){_vm.onWheel($event, _vm.$refs.jsonEditor)},\"click\":function($event){_vm.onJsonEditorClick($event)}}})]),_vm._v(\" \"),(_vm.errorMessage)?_c('div',{staticClass:\"error-line\"},[_c('p',[_vm._v(\"Eclipse: \"+_vm._s(_vm.errorMessage))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"editor__button-group\"},[_c('div',{staticClass:\"editor__button-group__left\"},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-upload\"},on:{\"click\":_vm.comfirmObject}},[_vm._v(\"\\n        提交配置数据\\n      \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"element-hidden\",attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.resetObject}},[_vm._v(\"\\n        重置表单数据\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"editor__button-group__right element-hidden\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.showBoth}},[_vm._v(\"\\n        代码和表单\\n      \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.showCode}},[_vm._v(\"\\n        只看代码\\n      \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.showForm}},[_vm._v(\"\\n        只看表单\\n      \")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-707629a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/json-editor/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-707629a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-707629a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-707629a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/json-editor/index.vue\n// module id = null\n// module chunks = ","<template>\n<div>\n  <div class=\"page-content pipline\">\n    <div class=\"pipline__components-selector\">\n      <h3>模板区块</h3>\n      <div class=\"components-selector__list\">\n        <div class=\"components-selector__item\"\n          v-for=\"component in templateComponents\"\n          :key=\"component.id\">\n          <el-button\n            :type=\"getComponentSelectorButtonType(component)\"\n            size=\"small\"\n            icon=\"el-icon-menu\"\n            @click.native=\"selectComponent(component)\">\n            {{component.title}}\n          </el-button>\n        </div>\n      </div>\n    </div>\n    <div class=\"pipline__preview\">\n      <h3>页面预览</h3>\n      <div class=\"preview__button-group\">\n        <el-button\n          size=\"small\"\n          icon=\"el-icon-refresh\"\n          @click.native=\"refreshPreviewIframe\">\n          刷新\n        </el-button>\n        <el-button\n          size=\"small\"\n          icon=\"el-icon-news\"\n          @click.native=\"previewInNewPage\">\n          新页面预览\n        </el-button>\n      </div>\n      <div class=\"preview__page-title\">\n        {{baseConfig.title}}\n      </div>\n      <iframe\n        class=\"preview__iframe\"\n        ref=\"previewIframe\"\n        :src=\"previewSrc\"/>\n    </div>\n    <div class=\"pipline__fill-info\">\n      <h3>页面配置</h3>\n      <div class=\"fill-info__form\">\n        <el-tabs\n          type=\"border-card\"\n          @tab-click=\"onTabClick\"\n          :value=\"formName\">\n          <el-tab-pane\n            name=\"pageBaseConfig\"\n            label=\"页面基本配置\">\n            <div class=\"form-json-editor\">\n              <json-editor\n                :data.sync=\"baseConfig\"\n                :dataSchema.sync=\"baseConfigSchema\"/>\n            </div>\n          </el-tab-pane>\n          <el-tab-pane\n            name=\"pageConfig\"\n            label=\"页面内容配置\">\n            <div class=\"form-json-editor\">\n              <json-editor\n                :data.sync=\"data\"\n                :dataSchema.sync=\"dataSchema\"/>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n  <el-dialog\n    title=\"Wellcom to Pipeline !\"\n    :visible.sync=\"tipDialogVisible\"\n    width=\"35%\">\n    <h3>后台服务器性能稍差, 请耐心等待接口返回.</h3>\n    如果接口请求总是失败, 请点击<a href=\"http://172.106.33.34/pipeline-node/pipeline/prepareFromTemplate\" target=\"blank\">这里</a>允许浏览器访问自签名证书的服务器.\n  </el-dialog>\n</div>\n</template>\n\n<script>\nimport { APIS } from 'comp/util/constants';\nimport fetch from 'comp/util/fetch';\nimport JsonEditor from 'comp/json-editor';\n\nexport default {\n  name: 'pipline-editor',\n  components: {\n    'json-editor': JsonEditor,\n  },\n  data() {\n    return {\n      templateTypeList: [],\n      pageTypeList: [],\n      purpose: '',\n      templateId: '',\n      template: null,\n      pageId: '',\n      data: {},\n      dataSchema: {},\n      schemas: {},\n      baseConfig: {},\n      baseConfigSchema: {},\n      baseConfigSchemaEarly: {},\n      templateComponents: [],\n      currentComponent: null,\n      previewSrc: '',\n      formName: 'pageBaseConfig',\n      pageBaseUrl: '',\n      tipDialogVisible: true,\n    };\n  },\n  methods: {\n    async prepareFromTemplate() {\n      const ret = await fetch(`${APIS.PIPLINE}/prepareFromTemplate`, {\n        method: 'POST',\n        body: {\n          templateId: this.templateId,\n        },\n      });\n      this.pageId = ret.pageId;\n      this.previewSrc = `${APIS.ROOT}/public/pipelines/${this.pageId}/server/dist/index.html`;\n    },\n    async getPageBaseUrl() {\n      const ret = await fetch(`${APIS.PIPLINE}/pageBaseUrl`, {\n      });\n      return ret;\n    },\n    async getBaseConfig() {\n      const ret = await fetch(`${APIS.PIPLINE}/baseConfig`, {\n        body: {\n          pageId: this.pageId,\n        },\n      });\n      this.baseConfig = ret;\n    },\n    async putBaseConfig() {\n      const ret = await fetch(`${APIS.PIPLINE}/baseConfig`, {\n        method: 'PUT',\n        body: {\n          pageId: this.pageId,\n          baseConfig: this.baseConfig,\n        },\n      });\n\n      this.refreshPreviewIframe();\n      await this.getBaseConfig();\n    },\n    async getBaseConfigSchema() {\n      const ret = await fetch(`${APIS.PIPLINE}/baseConfigSchema`, {\n        body: {\n          pageId: this.pageId,\n        },\n      });\n      this.baseConfigSchemaEarly = ret;\n    },\n    async getTemplateComponents() {\n      const ret = await fetch(`${APIS.PIPLINE}/templateComponents`, {\n        body: {\n          pageId: this.pageId,\n        },\n      });\n      this.templateComponents = ret;\n    },\n    async putComponents() {\n      const ret = await fetch(`${APIS.PIPLINE}/templateComponents`, {\n        method: 'PUT',\n        body: {\n          pageId: this.pageId,\n          templateComponents: this.templateComponents,\n        },\n      });\n\n      this.refreshPreviewIframe();\n      await this.getTemplateComponents();\n    },\n    async getComponentsSchema() {\n      const ret = await fetch(`${APIS.PIPLINE}/componentsSchema`, {\n        body: {\n          pageId: this.pageId,\n        },\n      });\n      this.schemas = ret;\n    },\n    selectComponent(component) {\n      this.currentComponent = component;\n      this.tabToPageConfig();\n    },\n    selectDefaultComponent() {\n      if (this.currentComponent === null\n        && this.templateComponents.length > 0) {\n        this.currentComponent = this.templateComponents[0];\n        return true;\n      }\n      return false;\n    },\n    refreshPreviewIframe() {\n      this.$refs.previewIframe.onload = this.iframeScrollToCurrentComponent;\n      this.$refs.previewIframe.src = this.previewSrc;\n    },\n    iframeScrollToCurrentComponent() {\n      this.$refs.previewIframe.contentWindow.postMessage({\n        currentComponent: this.currentComponent,\n      }, '*');\n    },\n    previewInNewPage() {\n      window.open(this.previewSrc);\n    },\n    onTabClick(tab) {\n      switch(tab.name) {\n        case 'pageConfig':\n          this.selectDefaultComponent();\n          break;\n        default:\n          break;\n      };\n      this.formName = tab.name;\n    },\n    tabToPageConfig() {\n      this.formName = 'pageConfig';\n    },\n    getComponentSelectorButtonType(component) {\n      return (this.currentComponent && this.currentComponent.id === component.id) ? 'primary' : 'normal';\n    },\n  },\n  async mounted() {\n    setTimeout(() => {\n      this.tipDialogVisible = false;\n    }, 5000);\n\n    this.templateId = this.$route.params.id;\n    this.purpose = this.$route.query.purpose;\n\n    await this.prepareFromTemplate();\n    await this.getBaseConfigSchema();\n    await this.getBaseConfig();\n    // 用 baseConfigSchemaEarly 解决数据和约束不在一个 Vue 渲染周期内导致的校验报错\n    this.baseConfigSchema = this.baseConfigSchemaEarly;\n    await this.getComponentsSchema();\n    await this.getTemplateComponents();\n  },\n  watch: {\n    templateComponents(value, oldValue) {\n      if (!this.currentComponent) {\n        this.selectDefaultComponent();\n      } else {\n        const componentsWithId = value.filter((item) => item.id === this.currentComponent.id);\n        if (componentsWithId.length > 0) {\n          this.currentComponent = componentsWithId[0];\n        } else {\n          this.selectDefaultComponent();\n        }\n      }\n    },\n    currentComponent() {\n      this.dataSchema = this.schemas[this.currentComponent.name];\n      this.data = this.currentComponent.data;\n      this.iframeScrollToCurrentComponent();\n    },\n    data(value, oldValue) {\n      if (this.currentComponent.data === this.data) {\n        return;\n      }\n      this.currentComponent.data = this.data;\n      this.putComponents();\n    },\n    baseConfig(value, oldValue) {\n      if (JSON.stringify(oldValue) === JSON.stringify({})\n        || JSON.stringify(value) === JSON.stringify(oldValue)) {\n        return;\n      }\n      this.baseConfig = value;\n      this.putBaseConfig();\n    },\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.pipline {\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n\n  &__components-selector {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 15%;\n    border-right: 1px solid #00000020;\n  }\n\n  &__preview {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 30%;\n    border-right: 1px solid #00000020;\n  }\n\n  &__fill-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 55%;\n    padding: 0 10px;\n    overflow: auto;\n  }\n}\n\n.components-selector {\n  &__list {\n    display: flex;\n    flex-direction: column;\n    margin: 10px 0 0;\n  }\n\n  &__item {\n    margin: 5px 0 0;\n  }\n}\n\n.preview {\n  &__page-title {\n    margin: 12px 0 2px;\n    font-size: 18px;\n    font-weight: bold;\n  }\n\n  &__iframe {\n    margin: 0px 0 0;\n    border: 1px solid black;\n    width: 375px;\n    height: 667px;\n  }\n}\n\n.fill-info {\n  &__form {\n    width: 100%;\n    margin: 0 0 10px 0;\n  }\n\n  &__thumbnail-item {\n    display: flex;\n    align-items: center;\n  }\n\n  &__thumbnail-container {\n    border: 1px solid #00000020;\n    text-align: center;\n    line-height: 175px;\n    width: 175px;\n    height: 175px;\n  }\n\n  &__thumbnail {\n    max-width: 175px;\n    max-height: 175px;\n  }\n\n  &__upload-thumbnail {\n    margin: 0 0 0 10px;\n  }\n  \n  /* 模仿 bootstrap 中的按钮样式 */\n  &__upload-button {\n    font-size: 14px;\n    color: #ffffff;\n    background-color: #5bc0de;\n    border-color: #46b8da;\n  }\n\n  &__button {\n    margin: 10px;\n  }\n}\n\n.form {\n  &-json-editor {\n    width: 100%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pipeline/editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-content pipline\"},[_c('div',{staticClass:\"pipline__components-selector\"},[_c('h3',[_vm._v(\"模板区块\")]),_vm._v(\" \"),_c('div',{staticClass:\"components-selector__list\"},_vm._l((_vm.templateComponents),function(component){return _c('div',{key:component.id,staticClass:\"components-selector__item\"},[_c('el-button',{attrs:{\"type\":_vm.getComponentSelectorButtonType(component),\"size\":\"small\",\"icon\":\"el-icon-menu\"},nativeOn:{\"click\":function($event){_vm.selectComponent(component)}}},[_vm._v(\"\\n            \"+_vm._s(component.title)+\"\\n          \")])],1)}))]),_vm._v(\" \"),_c('div',{staticClass:\"pipline__preview\"},[_c('h3',[_vm._v(\"页面预览\")]),_vm._v(\" \"),_c('div',{staticClass:\"preview__button-group\"},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-refresh\"},nativeOn:{\"click\":function($event){return _vm.refreshPreviewIframe($event)}}},[_vm._v(\"\\n          刷新\\n        \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-news\"},nativeOn:{\"click\":function($event){return _vm.previewInNewPage($event)}}},[_vm._v(\"\\n          新页面预览\\n        \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"preview__page-title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.baseConfig.title)+\"\\n      \")]),_vm._v(\" \"),_c('iframe',{ref:\"previewIframe\",staticClass:\"preview__iframe\",attrs:{\"src\":_vm.previewSrc}})]),_vm._v(\" \"),_c('div',{staticClass:\"pipline__fill-info\"},[_c('h3',[_vm._v(\"页面配置\")]),_vm._v(\" \"),_c('div',{staticClass:\"fill-info__form\"},[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"value\":_vm.formName},on:{\"tab-click\":_vm.onTabClick}},[_c('el-tab-pane',{attrs:{\"name\":\"pageBaseConfig\",\"label\":\"页面基本配置\"}},[_c('div',{staticClass:\"form-json-editor\"},[_c('json-editor',{attrs:{\"data\":_vm.baseConfig,\"dataSchema\":_vm.baseConfigSchema},on:{\"update:data\":function($event){_vm.baseConfig=$event},\"update:dataSchema\":function($event){_vm.baseConfigSchema=$event}}})],1)]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"pageConfig\",\"label\":\"页面内容配置\"}},[_c('div',{staticClass:\"form-json-editor\"},[_c('json-editor',{attrs:{\"data\":_vm.data,\"dataSchema\":_vm.dataSchema},on:{\"update:data\":function($event){_vm.data=$event},\"update:dataSchema\":function($event){_vm.dataSchema=$event}}})],1)])],1)],1)])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"Wellcom to Pipeline !\",\"visible\":_vm.tipDialogVisible,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.tipDialogVisible=$event}}},[_c('h3',[_vm._v(\"后台服务器性能稍差, 请耐心等待接口返回.\")]),_vm._v(\"\\n    如果接口请求总是失败, 请点击\"),_c('a',{attrs:{\"href\":\"http://172.106.33.34/pipeline-node/pipeline/prepareFromTemplate\",\"target\":\"blank\"}},[_vm._v(\"这里\")]),_vm._v(\"允许浏览器访问自签名证书的服务器.\\n  \")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e0da97f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/pipeline/editor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e0da97f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e0da97f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e0da97f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pipeline/editor.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport HelloWorld from '@/pages/HelloWorld';\nimport Pipeline from '@/pages/pipeline/editor';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld,\n    },\n    {\n      path: '/pipeline',\n      name: 'Pipeline',\n      component: Pipeline,\n    },\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App';\nimport router from './router';\n\nVue.use(ElementUI);\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}